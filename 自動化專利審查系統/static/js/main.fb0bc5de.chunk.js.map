{"version":3,"sources":["assets/hammer.png","assets/switch.png","assets/error.png","assets/checked.png","assets/delete_icon.png","contexts/EssentialDataContext.js","contexts/XMLContext.js","contexts/UpdateParagraphContext.js","utils/getPathName.js","utils/fullCharToHalf.js","components/HistoryPopup.js","utils/parseHtml/getAbstract.js","utils/parseHtml/getClaims.js","utils/parseHtml/extractTable.js","utils/parseHtml/getDescriptionDrawing.js","utils/parseHtml/getDrawings.js","utils/parseHtml/getFigureDrawings.js","utils/parseHtml/getModeForInvention.js","utils/parseHtml/getTechFieldAndBackgroundArtAndDisclosure.js","utils/parseHtml/getTitle.js","utils/parseHtml/parseHTML.js","utils/parseHtml/xmlbuilder.js","pages/Dashboard.js","components/DbResultPopup.js","components/DescriptionOfDrawings.js","dict/keyRegs.js","dict/reserveKey.js","utils/extractTableElement.js","utils/otherUtils.js","components/DescriptionOfElement.js","components/FailedElements.js","components/FigureOfDrawings.js","components/MainTitle.js","dict/defaultPersonalSettings.js","components/SettingsPopup.js","components/SidebarLayout.js","utils/processAbstract.js","utils/stringToUnicode.js","utils/processData.js","utils/checkFigureOfDrawings.js","dict/elementColors.js","utils/buildElementColorMap.js","utils/extractSingleParagraph.js","dict/aboriginalWords.js","dict/allUnitWords.js","dict/allReferWords.js","dict/concatWordSeparater.js","dict/figReg.js","utils/findMatches.js","dict/allSeperatedWords.js","utils/modifySingleParagraph.js","utils/checkKeyCorrect.js","utils/handleSpecialChar.js","utils/modifyAllParagraph.js","utils/checkClaimConnection.js","dict/claimStartTerms.js","dict/claimReg.js","utils/checkAttachClaim.js","utils/checkClaims.js","utils/extractSingleClaim.js","dict/allIgnoreMiddleWords.js","utils/checkIllegalAttach.js","utils/modifySingleClaim.js","dict/allThisWords.js","utils/checkItemInModeForInvention.js","dict/allIgnoreThisItems.js","dict/restrictedLastWords.js","dict/unitWordDict.js","dict/validOneCharItem.js","utils/checkClaimMatch.js","utils/modifySingleClaimMatch.js","utils/isMainElementValid.js","utils/optimizeClaimMatch.js","utils/modifyAllClaims.js","utils/processTFAndBA.js","utils/generateErrorExp.js","utils/checkDrawings.js","hooks/init.js","utils/getPatentTitle.js","hooks/reInit.js","components/SingleParagraph_v2.js","components/SearchPopup.js","pages/Abstract_v2.js","utils/trigger/claim.js","components/ClaimEditingForm.js","components/ClaimPopup.js","components/SingleClaim.js","components/EditingNewClaimTextArea.js","components/AddedClaim.js","pages/Claims.js","utils/trigger/paragraph.js","components/SingleParagraph.js","components/AddedParagraph.js","pages/Disclosure.js","pages/ModeForInvention.js","components/SingleClaimSimple.js","pages/SimpleClaims.js","components/SingleParagraphSimple.js","pages/SimpleDescription.js","pages/readme.js","components/ToggleDisp.js","pages/result.js","App.js","hooks/loadXML.js","hooks/useLocalStorage.js","index.js","assets/search.png","assets/img_386644.png","assets/aboriginal.png","assets/warn.png","components/NotAllow.module.css","assets/setting.png"],"names":["module","exports","EssentialDataContextProvider","createContext","EssentialDataContext","_ref","children","personalSettings","_useState","useState","isProcessing","pathName","applicationNum","utilityModelTitle","utilityModelTitleEn","technicalField","backgroundArt","abstractContent","abstractContentEn","descriptionOfElementMap","figureOfDrawingsMap","failedDescriptionOfElementMap","failedFigureOfDrawingsMap","elementColorMap","allAbstractParagraphDetails","allTechnicalFieldParagraphDetails","allBackgroundArtParagraphDetails","allDisclosureParagraphDetails","allModeForInventionParagraphDetails","allClaimsDetails","allDrawings","allDrawingsDescription","missingData","dragAreaMsg","claimPayload","preserveValues","_objectSpread","isDarkMode","fontSize","openTooltip","showClaimElementKey","synchronizeHighlight","readingModePureText","useDatabase","savedApplications","searchString","allErrors","title","system","allErrors_v2","system_fail","no_law","law_104","law_112_3","law_112_5","structuredResult","readMeOptions","showUsage","showDetectableErrors","globalHighlightOn","globalHighlightElement","dbResultMap","resultDispType","_useState2","_slicedToArray","essentialData","setEssentialData","React","createElement","Provider","value","XMLContextProvider","XMLContext","fileName","fileContent","isLoading","isXMLFormatOK","utilityModelTitleData","utilityModelTitleDataEn","technicalFieldData","backgroundArtData","abstractData","abstractDataEn","descriptionOfElementData","figureDrawingsData","disclosureData","modeForInventionData","claimsData","drawingsData","drawingsDescriptionData","figureLabels","XMLData","setXMLData","UpdateParagraphContextProvider","UpdateParagraphContext","allUpdateDisclosureParagraph","setAllUpdateDisclosureParagraph","_useState3","_useState4","allUpdateModeForInventionParagraph","setAllUpdateModeForInventionParagraph","_useState5","_useState6","allUpdateClaimParagraph","setAllUpdateClaimParagraph","_useState7","content","textAreaValue","isInEditingMode","process","_useState8","savedFileContent","setSavedFileContent","getPathName","url","window","location","href","slice","lastIndexOf","fullCharToHalf","_content","replaceAll","itrStart","newContent","length","itrEnd","i","charCodeAt","String","fromCharCode","HistoryPopup","handleClose","numPerPage","setNumPerPage","currentPage","setCurrentPage","startDateTS","setStartDateTS","endDateTS","setEndDateTS","_useState9","JSON","parse","localStorage","getItem","e","historyFromLocalStorage","_useState11","_useState12","filteredHistory","setFilteredHistory","formatDate","date","dateArr","split","join","getAllDateSelections","useCallback","now","Date","selections","prevDate","prevDateArr","getFullYear","getMonth","getDate","display","concat","push","_construct","numOfHistory","useMemo","reduce","acc","cur","filteredHistoryArr","map","savedDate","reverse","_ref2","_ref3","newAdded","a","apply","_toConsumableArray","totalPages","Math","ceil","goToPage","_ref4","_ref4$direction","direction","_ref4$page","page","prev","className","onClick","Object","keys","htmlFor","id","defaultValue","onChange","target","disabled","hidden","_ref5","key","_ref6","alert","_filterHistory","savedDateArr","savedDateTS","style","textAlign","marginTop","_ref7","liIdx","appId","appTitle","Array","fill","_","pointerEvents","marginLeft","getAbstract","titleElement","_currentElement","_currentElement2","abstract","abstractEn","currentElement","nextElementSibling","innerText","trim","match","tagName","console","log","getClaims","root","claimElements","from","querySelectorAll","filter","p","claimFields","claimNum","replace","currentParagraph","startsWith","extractTable","rootSelector","stack","selector","pop","numOfChildren","elText","querySelector","getDescriptionDrawings","_descriptionOfDrawing","_descriptionOfDrawing2","descriptionOfDrawingElement","descriptionOfElementFields","includes","setAttribute","getDrawings","general","_drawingElement$nextE","_drawingElement$nextE2","_drawingElement$nextE3","drawingElement","drawingElementFields","forEach","li","generalStr","generalIdx","repeat","drawings","currentDrawingElement","getFigureDrawing","_figureDrawingElement","_figureDrawingElement2","figureDrawingIdx","_figureDrawingIdxElem","_figureDrawingIdxElem2","figureDrawingIdxElement","at","figureDrawingElement","figureDrawingFields","getModeForInvention","_modeForInventionElem","modeForInventionElement","modeForInventionFields","getTechFieldAndBackgroundArtAndDisclosure","_techFieldElement$nex","_backgroundArtElement","_disclosureElement$ne","techFields","backgroundArtFields","disclosureFields","techFieldElement","backgroundArtElement","disclosureElement","getTitle","_titleElement$innerTe","patentType","_titleElement$nextEle","titleEn","parseHTML","html","_getTitle","_getAbstract","_getTechFieldAndBackg","_getFigureDrawing","xmlbuilder","create","version","ele","_step","abstractEle","lang","_iterator","_createForOfIteratorHelper","s","n","done","ab","txt","err","f","_step2","_iterator2","descriptionEle","_step3","techFieldsEle","_iterator3","_step3$value","_step4","backgroundArtFieldsEle","_iterator4","_step4$value","_step5","disclosureFieldsEle","_iterator5","_step5$value","_step6","modeForInventionFieldsEle","_iterator6","_step6$value","descriptionOfDrawingFieldsEle","pEle","pIdx","_step7","_iterator7","_step7$value","dIdx","_step8","claimsEle","_iterator8","_step8$value","claimTextEle","dependency","num","cIdx","fIdx","end","prettyPrint","Dashboard","_useContext","useContext","_useContext2","_useContext3","_useContext4","_useContext5","isDragOver","setIsDragOver","isPopupOpen","toggleIsPopupOpen","setDragAreaMsg","msg","handleFileChange","newFileName","random","toString","useEffect","newTextAreaValue","error","handleOnDrop","acceptedFiles","file","name","test","fileNotXmlErrMsg","reader","FileReader","onabort","onerror","onload","readerResult","result","mammoth","convertToHtml","arrayBuffer","convertImage","images","imgElement","image","read","then","src","contentType","resultObject","htmlObject","xmlResult","convertFullToHalf","catch","mammothErr","readAsText","readAsArrayBuffer","Fragment","position","top","right","cursor","outline","border","borderRadius","padding","background","Popup","open","closeOnDocumentClick","onClose","color","marginBottom","fontWeight","paddingLeft","d","required","placeholder","Dropzone","onDrop","onDragEnter","onDragLeave","getRootProps","getInputProps","assign","backgroundColor","lineHeight","DbResultPopup","entries","origin","claims","dbValue","sort","b","DescriptionOfDrawings","isCollapse","setIsCollapse","fig","index","description","status","allSymbolChar","keyReg","RegExp","keyWithRangeStart","keyWithRangeEnd","keyWithRangeBetween","keyWithCommaStart","keyWithCommaEnd","keyWithCommaBetween","isKeyValid","keyStartMatch","commaMatch","rangeMatch","keyEndMatch","reserveKey","w","toUpperCase","extractTableElement_v2","element","type","child","isChineseCharKey","chineseCharKey2NumKey","chinese2Num","ch","keyNum","parseInt","numKey2ChineseCharKey","num2Chinese","floor","strKey","getChineseKeyInRange","chineseCharBeginKey","chineseCharEndKey","keyRange","beginKey","endKey","Error","getKeyInRange","k","isFig","arguments","undefined","beginWithPlum","endWithPlum","checkAlphabetRangeCorrect","startNum","beginAlphabetCharCode","endAlphabetCharCode","beginIndex","endIndex","replacement","reg","beginAlphabet","endAlphabet","modifyValue","values","lastTryToParseElements","_element","allKeysAndValues","every","kk","allKeysAndValuePairs","idx","el","ka","newAllKeysAndValues","theEl","some","firstMatchDivider","lastMatchDivider","matchAll","copyAllKeysAndValues","tmpAllKeysAndValuesPairs","shift","handleMultipleValues","v","rootWord","isKeyInReserve","getMapValues","regExpsOriginValue","_regeneratorRuntime","Op","prototype","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","makeInvokeMethod","tryCatch","fn","arg","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","__await","unwrapped","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","val","object","skipTempReset","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","DescriptionOfElement","handleReInit","copyOfDescription","setCopyOfDescription","onEditingLists","setOnEdigintLists","onAddingElement","setOnAddingElement","symbol","elName","_useState10","addElementValue","setAddElementValue","checkIfKeyDuplicate","keyArr","mkey","newKey","item","indexOf","initCopyOfDescription","_defineProperty","newValues","initOnEditingLists","setGlobalHighlightElement","prevGlobalHighlightElement","find","g","parse_failed","stringify","editIcon","alt","visibility","deleteIcon","isUsed","liColorId","liColor","liStyle","boxShadow","textShadow","prevIdx","width","height","marginRight","minWidth","transform","nk","nv","message","shouldRenderSaveBtn","_asyncToGenerator","_callee","_context","data","curEl","_value","_key","FailedElements","isDescriptionCollapse","setIsDescriptionCollapse","isDrawingCollapse","setIsDrawingCollapse","copyFailedDescription","setCopyFailedDescription","copyFailedFigure","setCopyFailedFigure","descriptionEditList","setDescriptionEditList","figureEditList","setFigureEditList","handleDeleteFailedElement","parseNewElement","_el","isEditing","alignItems","paddingRight","_ii","_iii","_callee2","_context2","FigureOfDrawings","copyOfFigure","setCopyOfFigure","initCopyOfFigure","statusInfo","parseStatus","MainTitle","toggleIsDBResultPopupOpen","toggleIsSettingPopupOpen","history","useHistory","Link","to","preventDefault","goBack","SettingImg","defaultPersonalSettings","SettingsPopup","setLocalStorageValue","document","checked","radioList","SidebarLayout","hide","toggleHide","onScroll","topOffset","scrollTop","endsWith","scrollTo","left","behavior","processAbstract","tryToProcessAbstract","attributes","paragraph","singlePara","elements","stringToUnicode","str","unicodeStr","processData","oldElements","payload","tryProcessData","objKey","_oldElements$objKey","_oldElements$objKey2","newElements","keyAndValueArr","tmpFailedDescriptionOfElementMap","tmpFailedFigureOfDrawingsMap","extractElement_v2","descriptionStr","eleIdx","ee","eeIdx","keyAndValue","_ref9","_ref10","_ref11","_ref8","dpCount","keyAndValueMap","checkFigureOfDrawings","allColors","pickColor","R","G","B","buildElementColorMap","extractSingleParagraph","dataType","TryExtractSingleParagraph","tables","tableCount","extractTableElement","toLowerCase","words","Set","aboriginalWords","units","numOfUnit","u","un","allUnitWords","referWords_1","referWords_2","limitedChar","getReferWords_1","getReferWords_2","getLimitedChar","symetricPrefix","concatWordSeparater","figWithRangeStart","figWithCommaStart","figWithRangeBetween","figWithCommaBetween","figWithThisRangeStart","figWithThisCommaStart","figWithThisRangeBetween","figWithThisCommaBetween","findMatches","regExp","concatRegExp","concatSymRegExp","regExpWithWrongChar","elementsStartWithAlphabet","elementsStartWithAlphabetOrigin","figMatches","allCommaMatch","allRangeMatch","allMatches","finalMatches","_finalMatches$index","_finalMatches","_finalMatches$0$lengt","_finalMatches2","_finalMatches$index2","_finalMatches3","_finalMatches$0$lengt2","_finalMatches4","tmp","allFigBetweenMatch","curKey","accKeys","concatMatches","_concatRegExp","_concatSymRegExp","mt","matches","_regExp","matchesThisRound","matchIdx","extraKeys","extraRange","_regExpWithWrongChar","matchesWithWrongChar","wrongCharMatches","nextMatchIdx","mm","nextWrongMatchIdx","nextIdx","symbolMatches","allKeyBetweenMatch","correctPreElements","matchedPreElements","getDuplicateValues","prevElement","findClosestElement","testElement","matchedRatio","potentialElement","realElement","wrongWordMatches","aboriginalMatches","m","matchedCharCount","allSeperatedWords","modifySingleParagraph","regExpsOrigin","paragraphMatch","figures","figuresErrors","corrects","wrongs","potentialErrors","wrongWords","_loop","start","figs","copyParagraph","hasWrongFigs","wrongFigNotInText","drawing","trimFig","figMatch_1","figMatch_2","figMatch","figStart","figEnd","unshift","group","keyBeenModified","hasAnyError","items","it","_keyInRange","paragraphReplacements","_item","_itemIdx","matchIndex","o","iitt","iiddxx","_getMapValues8","_getMapValues9","_getMapValues10","keyStart","keyEnd","isKeyInMapValue","hasDuplicateKey","_getMapValues","_getMapValues2","_getMapValues3","_getMapValues4","_getMapValues5","_getMapValues6","fullValue","wrongKeys","_getMapValues7","og","ogkey","closestItem","findClosestItem","lastStart","keyInExtraRange","_getMapValues16","keyErrorResults","checkKeyCorrect","arr","_getMapValues12","_getMapValues13","newValue","lastIndex","_getMapValues11","currentIndex","wrongMatch","_k","_ik","_getMapValues14","_getMapValues15","kkk","kkkk","j","wrong","findIndex","isOK","modifiedParagraph","wantedMatchChar","matchCharCount","alphabetMatch","handleSpecialChar","arrays","replaceReg","modifyAllParagraph","whichOne","oldDataBodies","regExps","concatRegExps","regExpBackup","regExpWithWrongCharbackup","allElements","vIdx","allEl","utilityModelTitleValue","prefixes","main","symetric","test1","test2","_data$idx","isUpdated","isDelete","splice","findKeyWords","oldData","checkClaimConnection","claim","usedElements","preUsedElements","sections","sectionIdx","connected","sec","mainElement","getMainComp","usedElementInOtherSection","flat","other","r","elementInOtherSection","myElements","_loop2","_ret","otherMainElement","errors","_sec$preUsedElements$","_sec$usedElements$","_sec$matches$","mainComp","Infinity","mainCompType","isMainComp","claimStartTerms","claimStartReg","getAllClaims","checkCoOperatingClaim","originalContent","prevClaims","attaches","attemptAttaches","_contentStart$match","coOpMatch","contentStart","claimMatchString","claimRanges","shouldClaimUseAny","errorContent","errMatch","checkParentClaim","_contentStart$match2","Number","claimHasOrNoAnd","_checkMultiToMulti","checkMultiToMulti","addIndex","targetClaim","checkClaim","CoOperatingClaimCheck","claimCheck","extractSingleClaim","removeEmptySentence","x","allIgnoreMiddleWords","checkIllegalAttach","contentFirstIndex","searchPath","isFirstPath","isValueFixed","isTestMode","preUsedConcatElements","concatMatchReg_1","concatMatchReg_2","concatMatchReg_3","concatSymMatchReg_1","concatSymMatchReg_2","concatSymMatchReg_3","claimContent","mp","newIndex","matchValue","pre","preUsedShortElements","findAllPreUsedElements","isInDescriptionOfElementMap","matchNum","pathIsOK","indexOfMatch","keyFromGroup","getElementKeyByGroup","prevMatchedElement","isMainElement","nonMatches","paths","prevItem","currentClaimNum","searchClaimsNum","plt","matchedStr","extraPreStr","pUsed","mStart","mEnd","cu","wantedClaimNum","mel","longestPrevMatch","itemReg","buildItemReg","_currentClaimNum","currentPrevItem","getPrevMatchedStr","foundEl","prevItemName","newItemName","mValue","allItemRegs","regIdx","_Object$entries$find","ent","modifySingleClaim","claimSearchPath","prevMatchPerPath","matchedClaimsNum","multiPathTestMatches","mIdx","multiPathAfterInit","path","pathIdx","allThisWords","checkWrongElementInModeForInvention","longestMatch","isFind","paraWrongMatches","curLongestMatch","ignoreItems","restrictedLastWords","wordTable","和","至","到","及","或","在","於","是","係","為","上","下","左","右","前","後","內","外","裡","unitWordDict","個","種","端","筆","組","對","二","兩","三","四","五","六","七","八","九","validOneCharItem","checkClaimMatch","firstIndex","manuallyAddValues","regExpWithMainElement","ii","thisStartIndex","realStart","matchStart","thisWord","unitWord","concatMatchReg","concatSymMatchReg","manuallyAddedMatches","manuallyAddedMatchReg","matchReg","thisIdx","nextThis","nextMatch","maxEnd","followContent","substring","followContentFirstCharNoCheck","shiftFollowContent","itemRegExp","itemPrefixMatch","itemMatch","modifiedItem","finalItem","shouldLookupDB","allIgnoreThisItems","modifyItem","prevClaimResult","itemPrefix","itemBody","_i","currentLongestMatches","checkPreviousClaimContent","prevModeForInventionResult","paraMatches","checkItemInModeForInvention","possibleResult","_itemMatch","hasOuterKey","hasBeenModifiedMatches","itemBodyRegExp","ww","itemEndMatch","prevChar","startChar","modifySingleClaimMatch","myMainElement","mainElementMatch","contentMatch","numOfMatchChar","titleCharArr","isMainElementValid","getAllAttachedClaims","allClaims","attachedClaims","allAttachedClaims","_loop3","currentClaim","c","newAttachedClaim","getAllClaimPaths","attach","newFoundPath","hasBeenModified","preserveValue","fetchResultFromDB","followContentMap","res","json","fetch","body","followContents","headers","t0","_x","lookupDB","_dbResultMap","claimIdx","addresses","address","add","_x2","_x3","_x4","optimizeClaimMatch","claimGroup","groupMatchesSortedByLength","_claimGroup$groupMatc","baseClaimIdx","groupMatches","cg","valueTable","buildMatchValueTable","valueSortedByName","localeCompare","valueIdx","pv","possibiles","sum","claimNumStart","claimNumEnd","optimalValue","preValue","modifyAllClaims","oldClaimDetails","contentFirstIndexes","newMatches","nM","manuallyAddValue","findAllUsedElements","rest","checkclaimSymbol","preUsedElementsNonUsed","modifiedClaim","highlightClaimContent","_x5","getValues","errorData","idxOfErr","newWrongKeys","keyMatch","nextRest","newEnd","isValueExisted","highlightBlocks","endTag","startTag","highlight","mainEl","mainElMatch","valueReg","allUsedElements","processTFAndBA","tryToProcessTFAndBA","pIndex","generateErrorExp","descriptionOfElementMapDuplicate","first","last","figureOfDrawingsMapDuplicate","figureOfDrawingsInconsistent","_essentialData$descri","_essentialData$descri2","figureEl","descriptionEl","prefix","failedDescriptionOfElementMapArr","row","failedFigureOfDrawingsMapArr","disclosureKeyUnmatch","disclosureNameUnmatch","disclosureWrongWords","para","correctKeyInDescriptionOfElement","getKeyInDescriptionOfElementMapCorrect","correctKeyInFigureOfDrawingsMap","getKeyInFigureOfDrawingsMapCorrect","correctNameInDescriptionOfElementMap","getNameInDescriptionOfElementMapCorrect","correctNameInFigureOfDrawingsMap","getNameInFigureOfDrawingsMapCorrect","midMessage","unMatch","unMatchWith","unMatchMsg","subMessageArr","generals","_ref12","_ref13","_ref14","_ref15","_ref16","modeForInventionKeyUnmatch","modeForInventionNameUnmatch","modeForInventionWrongWords","modeForInventionFiguresErrors","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","claimErrors","unknown","分析此請求項時發生問題","multi2multiRefErrors","invalidStarts","singleSentences","noBrackets","titleNoMatches","invalidAttaches","multi2multiNoSelects","不當依附","未揭示","compKeyUnmatch","compNameUnmatch","對應關係未敘明","invalidClaimTitle","請求項之標的名稱不相符","_ref26","elNames","refClaimNum","prevNum","prevName","dispMsg","eln","_message$match","prevClaimNum","claimErr","claimErrIdx","claimErrorCtx","generateInvalidMainElementMessage","_ref27","_ref28","_ref29","_ref30","nums","_ref31","_ref32","_ref33","_ref34","_ref35","lawBody","lawBodyEnd","reConstructureLaw","errType","removeRepeatedMessage","laws","law","resultIdx","_ref36","claimNums","isInvention","rangeSets","rangeText","checkDrawings","drawingsDescription","_tryCheckDrawingsDesc","tryCheckDrawingsDescription","_tryCheckDrawingsDesc2","allDrawingsMap","duplicateCount","getDescriptions","getFigByDescription","descriptionMatch","figStartMatch","getPatentTitle","reInit","_essentialData","copyOfDisclosurePara","copyOfModeForInventionPara","copyOfClaimDetails","newClaimPayload","payloadIdx","_essentialData$claimP","_essentialData$claimP2","_essentialData$claimP3","SingleParagraphV2","figureKeys","wrongFigureKeys","correctKeys","wrongWordKeys","aboriginalWordKeys","divRef","useRef","searchStringPrev","numOfFoundedStr","setNumOfFoundedStr","myReduceFigureKeys","setMyReduceFigureKeys","myReduceWrongFigureKeys","setMyReduceWrongFigureKeys","myReduceCorrectKeys","setMyReduceCorrectKeys","myReduceWrongWordKeys","setMyReduceWrongWordKeys","myReduceAboriginalWordKeys","setMyReduceAboriginalWordKeys","_useState13","_useState14","showControlBtns","setShowControlBtns","buildList","modifiedParagraphWithSearchStr","current","innerHTML","reduceFigureKeys","figureKey","clicked","reduceWrongFigureKeys","wrongFigureKey","reduceCorrectKeys","correctKey","reduceWrongWordKeys","wrongWordKey","reduceAboriginalWordKeys","aboriginalWordKey","htmlReg","nonModifiedParagraph","tagLists","tagList","insertLists","searchStringMatches","ref","checkedImg","errorImg","aboriginalImg","toggleBtnColor","arrOfMyReduceCorrectKeys","fromEntries","switchImg","toggleWrongWordBtnColor","arrOfMyReduceWrongWordKeys","toggleFigureBtnColor","arrOfMyReduceFigureKeys","toggleWrongFigureBtnColor","arrOfMyReduceWrongFigureKeys","toggleAboriginalWordBtnColor","arrOfMyReduceAboriginalWordKeys","SearchPopup","setSearchString","tmpSearchString","setTmpSearchString","AbstractV2","isSearchPopupOpen","toggleIsSearchPopupOpen","openOrCollapseAll","searchImg","flexGrow","overflow","textOverflow","whiteSpace","paragraphDetail","_essentialData$abstra","SingleParagraph","triggerToggleBtnColor","wantedClass","allClasses","classList","triggerPopup","event","setPopupStart","setPopupEnd","setPopupIndex","setPopupItem","setPopupFullValue","setPopupAvailableContent","_event$currentTarget$","currentTarget","dataset","elitem","elvalue","elfullvalue","_start","_end","_realstart","realstart","indexofmatch","valueEnd","nextStart","valueStartAt","frontStr","availableStr","endStrMatch","startAt","ClaimEditingForm","editingZoneValue","setEditingZoneValue","sentence","handleSentenceDeleting","handleSentenceChange","ClaimPopup","popupStart","popupEnd","popupIndex","popupAvailableContent","handleUpdateMatch","popupItem","popupFullValue","availableContent","availableContentStartAt","dispStr","char","charIdx","selectedStr","correspondedStr","setCorrespondedStr","setPreserveValue","isPopupOpenRef","handleStartMove","dir","startMin","handleEndMove","endMin","endMax","alignSelf","SingleClaim","allClaimContent","setNewContent","setOldContent","setNewMatches","preSavedClaimNum","preSavedContent","preSavedMatches","handleSaveAll","myReduceMatches","setMyReduceMatches","myReduceUsedElements","setMyReduceUsedElements","myReduceNonMatches","setMyReduceNonMatches","myReduceModifiedMatches","setMyReduceModifiedMatches","copyOfModifiedClaim","setCopyOfModifiedClaim","copyOfSingleContent","setCopyOfSingleContent","_useState15","_useState16","copyOfSingleNum","setCopyOfSingleNum","_useState17","_useState18","copyOfSingleMatches","setCopyOfSingleMatches","_useState19","_useState20","onContentEditing","setOnContentEditing","_useState21","_useState22","_useState23","_useState24","editingZoneNumlValue","setEditingZoneNumValue","_useState25","_useState26","_useState27","_useState28","_useState29","_useState30","_useState31","_useState32","_useState33","_useState34","_useState35","_useState36","_useState37","_useState38","_useState39","_useState40","areMatchesEqualByStartAndValue","aMatches","bMatches","aIdx","toggleErrorBtnColor","toggleModifiedBtnColor","_modifiedClaim","_modifiedClaimWithSearchStr","_iidd","reduceMatches","newKeys","reduceUsedElements","reduceNonMatches","reduceModifiedMatches","ReactTooltip","rebuild","nonModifiedClaim","divRefCurrent","clickHandler","dbClickHandler","addEventListener","removeEventListener","handler","triggerToggleErrorBtnColor","triggerToggleModifiedBtnColor","hasClaimBeenModified","updateMatch","modifiedPreUsedElementsNonUsed","newModifiedClaim","iii","arrOfMyReduceMatches","arrOfMyReduceUsedElements","arrOfMyReduceNonMatches","modifyImg","disable","delayShow","getContent","_idx","ctx","_matches$idx","prevMatch","pCtx","pStart","pEnd","endStr","strOffset","showPartPrevContent","getTooltipContent","writeText","navigator","clipboard","isSecureContext","textArea","prepend","select","execCommand","remove","EditingNewClaimTextArea","handleDeletingSentence","handleAddingSentence","AddedClaim","addedIdx","updateNewContent","deleteNewContent","openOrCollapseNewContent","addedContent","setAddedContent","addedClaimNum","setAddedClaimNum","setIsEditing","Claims","allUpdateParagraph","setAllUpdateParagraph","isOnAdding","setIsOnAdding","AddingZoneValue","setAddingZoneValue","isNewAdded","paraIndex","newClaimNum","checkIfNumOK","firstaddedClaimNum","lastAddedClaimNum","allAddedClaimNum","ct","claimDetail","triggerTogglePotentialErrorBtnColor","togglePotentialErrorBtnColor","triggerToggleWrongWordBtnColor","triggerToggleAboriginalWordBtnColor","triggerToggleFigureBtnColor","triggerToggleWrongFigureBtnColor","potentialWrongKeys","setDeleteContent","preSavedGeneral","myReduceWrongKeys","setMyReduceWrongKeys","myReducePotentialWrongKeys","setMyReducePotentialWrongKeys","copyOfSingleGeneral","setCopyOfSingleGeneral","editingZoneGeneralValue","setEditingZoneGeneralValue","fontStyle","reduceWrongKeys","wrongKey","reducePotentialWrongKeys","potentialWrongKey","warningImg","arrOfMyReduceWrongKeys","arrOfMyReducePotentialErrorKeys","AddedParagraph","addedGeneral","setAddedGeneral","Disclosure","newGeneral","ModeForEnvention","highlightButtonStyle","margin","SingleClaimSimple","SimpleClaims","SingleParagraphSimple","SimpleDescription","showParagraphes","setShowParagraphes","paddingBlock","Readme","methods","types","data-idx","ToggleDisp","_ref$isSelecting","isSelecting","icon","_ref$iconColor","iconColor","_ref$iconStyle","iconStyle","isIconNumber","defaultChecked","Result","resultContent","setResultContent","isCopying","toggleIsCopying","handleCopy","lawGroupEl","parentElement","copyContent","labelEl","textContent","paddingInline","App","isSettingPopupOpen","isDBResultPopupOpen","_setEssentialData","_payload","XMLFileName","XMLFileContent","XmlReader","xml","on","_data$attributes$figu","_data$attributes","useLoadXML","isDataCompleted","oldSavedApplications","newData","latestTS","prevAppIdx","useInit","Router","DBResultPopup","paddingBottom","Switch","Route","exact","component","Abstract","render","ModeForInvention","ReadeMode","_useContext6","_useContext7","KEY","useLocalStorage","initialValue","jsonValue","getLocalStorage","oldValue","_Object$keys","isValidLocalStorage","currentTS","setValue","setItem","setLocalStorage","Root","_useLocalStorage","_useLocalStorage2","rootElement","getElementById","ReactDOM","StrictMode"],"mappings":"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CA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,YAIS+E,GAAoB,WAAH,MAC5B,GAAA3tB,OAAI2oB,IAAO3W,MAAK,SAACjR,EAAGkR,GAAC,OAAKA,EAAE5U,OAAS0D,EAAE1D,UAAQ+B,KAAK,MC5EzCwuB,GAAwB,SACnCx3B,EACAgQ,EACAlK,EACAqsB,EACA6B,EACAC,EACAC,EACAuD,EACAtD,EACA5zB,EACAC,EACAU,EACA+wB,GAEA,IAiCE,IAhCA,IAAIrC,EAAY9pB,EAAQ+I,QAAQ,MAAO,IACjC8mB,EAAU5B,GACd/zB,EACA4vB,EACAoE,EACAC,EACAC,EACAC,EACA5zB,EACAC,GAaEk3B,EAAiB,CACnBC,QAAS,GACTC,cAAe,GACfC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,GACjBC,WAAY,GACZvF,gBAAiB,IACjBwF,EAAA,SAAA9wB,GAGA,GAAwB,WAApBwuB,EAAQxuB,GAAGqW,KAAmB,CAChC,IAAM0a,EAAQvC,EAAQxuB,GAAG+U,MACnB/F,EAAMwf,EAAQxuB,GAAG+U,MAAQyZ,EAAQxuB,GAAG,GAAGF,OACvCkxB,EAAOttB,YAAI8qB,EAAQxuB,GAAGwE,MAAMpB,UAC9B6tB,EAAgBxI,EAChByI,GAAe,EACfC,GAAoB,EASxBH,EAAK7nB,SAAQ,SAAC2L,GACZ,GAAI/a,EAAYipB,MAAK,SAACoO,GAAO,OAAKA,EAAQtc,MAAQA,KAEhD,GACE0Z,EAAQxuB,GAAG,GAAG6G,MACZuO,OAAO,cAA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A,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAEFC,SAAG,CACD,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAEFC,SAAG,CACD,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAEFC,SAAG,CACD,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAEFC,SAAG,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAC9CC,SAAG,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBACxCC,SAAG,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBACxCC,SAAG,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBACpDC,SAAG,CACD,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAEFC,SAAG,CACD,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,iBC9ISC,GAAmB,CAAC,SAAK,SAAK,UCwB9BC,GAAkB,SAC7BltB,EACA2iB,EACA5G,EACAxD,EACAC,EACA0K,EACAzK,EACAruB,EACA+iC,EACAtoC,EACAC,EACAQ,EACA8nC,GAkBA,IAAMC,EAAwBnK,EAC3B71B,MAAM,IACNkB,QACC,SAACU,EAAGrC,EAAG0gC,GAAE,SAAAp/B,OAAAiB,YACJF,GAAC,CACJi0B,EAAYl4B,MAAM,EAAGsiC,GACnB,oBACApK,EAAYl4B,MAAMsiC,EAAK,OAE3B,IAEDhgC,KAAK,KAIJigC,EAAiBp+B,YAChB/E,EAAQ8a,SAASrE,OAAO,IAAD3S,OAAKm8B,KAAc,MAAAn8B,OAAKkpB,KAAc,MAAM,OACtEzoB,KAAI,SAAC2D,GACL,OAAIA,EAAM,GACD,CACLk7B,UAAWl7B,EAAMkO,MACjBitB,WAA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","file":"static/js/main.fb0bc5de.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hammer.7e92c6ec.png\";","module.exports = __webpack_public_path__ + \"static/media/switch.cbc061de.png\";","module.exports = __webpack_public_path__ + \"static/media/error.162602bc.png\";","module.exports = __webpack_public_path__ + \"static/media/checked.da188ccb.png\";","module.exports = \"data:image/png;base64,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N2gc5ZXrVoPOkIZ6zgzyzpXLHC4LKOdETsBDdDtAImo50C3gKRKKuTKkkNZi772l+5ufkYsqPvumF7cwpSxpJxoVtC9JCXiT4dWk4zzVwwOepdNiTgk4/eN/cSdPb2W96WcNhOQcDT+7yfO7mW8oPEdQznCu8AZfbGhPe/ZvhGU/f3vWP69mziQu+8kM+IcuxGU/XRAAARAAAXwvwL5JoMu+KBDg3QDo8i4CIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAAxIwAgACAAIAAgQAjEZ6bYNdMbb7SrUkpmPAIoEKDrU1vq2jWtvuz5u8KcZIdxa440aVrTkTXjOoRZ6q7ny+o1rb1uy1NdEcBRAbJea/uq0u57w6iUMPP0V5VOz0wIo9TQv3xVqe21LARwToDZTVfXei051ErfqLq6UtU3Qv4gefPqSk2zEMAhAZLWXFds362hlXqg8dpKjQ+EVunWsusmtToBARwR4M0g1T5LC6XS6LbrK7WNDqVS2mdBJrUGAZwQ4Jmg5UpjrVfqXR+sUn1v65ViS4NO6mkEsF+APq3B6023Xmp38Eq7rVeaHrxSax8EsF2AjTr1ajtarTRBb2oTrFbqWKtTaSMC2C1Arm7BOVZLletVKrf8q0R3UgMQwGYB/l234C6LlXrqz62nxVK7dCsVIYDNAnyiW7Atw1qlufpzm2utUkabbqUDCGCvAElCxVHWSq3Vr7TWWqVR+pVaYhHAVgG6CxUfs1Zqu36l7dYqPSZM6mYEsFWAwULFedZKVepXqrRWaZ4wqQEIYKsAw4WKhdZKHdWvdNRapUJhUoMRAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQ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\"","import React, { createContext, useState } from \"react\";\n\nexport const EssentialDataContextProvider = createContext();\n\nconst EssentialDataContext = ({ children, personalSettings }) => {\n  const [essentialData, setEssentialData] = useState({\n    isProcessing: false,\n    pathName: \"\",\n    applicationNum: \"\",\n    utilityModelTitle: \"\",\n    utilityModelTitleEn: \"\",\n    technicalField: [],\n    backgroundArt: [],\n    abstractContent: [],\n    abstractContentEn: [],\n    descriptionOfElementMap: {},\n    figureOfDrawingsMap: {},\n    failedDescriptionOfElementMap: [],\n    failedFigureOfDrawingsMap: [],\n    elementColorMap: {},\n    allAbstractParagraphDetails: [],\n    allTechnicalFieldParagraphDetails: [],\n    allBackgroundArtParagraphDetails: [],\n    allDisclosureParagraphDetails: [],\n    allModeForInventionParagraphDetails: [],\n    allClaimsDetails: [],\n    allDrawings: [],\n    allDrawingsDescription: [],\n    missingData: [],\n    dragAreaMsg: \"點擊此處選擇檔案或直接拖曳檔案至此\",\n    claimPayload: [],\n    preserveValues: [],\n    personalSettings: {\n      isDarkMode: false,\n      fontSize: 2,\n      openTooltip: true,\n      showClaimElementKey: true,\n      synchronizeHighlight: false,\n      readingModePureText: false,\n      useDatabase: false,\n      savedApplications: {},\n      ...personalSettings\n    },\n    searchString: \"\",\n    allErrors: {\n      title: [],\n      descriptionOfElementMap: [],\n      figureOfDrawingsMap: [],\n      allDisclosureParagraphDetails: [],\n      allModeForInventionParagraphDetails: [],\n      allClaimsDetails: [],\n      system: []\n    },\n    allErrors_v2: {\n      system_fail: [],\n      no_law: [],\n      law_104: [],\n      law_112_3: [],\n      law_112_5: [],\n      structuredResult: {},\n    },\n    readMeOptions: {\n      showUsage: false,\n      showDetectableErrors: false\n    },\n    globalHighlightOn: true,\n    globalHighlightElement: [],\n    dbResultMap: {},\n    resultDispType: \"new\", // \"new\" | \"old\"\n  });\n\n  return (\n    <EssentialDataContextProvider.Provider\n      value={[essentialData, setEssentialData]}\n    >\n      {children}\n    </EssentialDataContextProvider.Provider>\n  );\n};\n\nexport default EssentialDataContext;\n","import React, { createContext, useState } from \"react\";\n\nexport const XMLContextProvider = createContext();\n\nconst XMLContext = ({ children }) => {\n  const [XMLData, setXMLData] = useState({\n    fileName: \"\", // abc.xml\n    fileContent: null,\n    isLoading: false,\n    isXMLFormatOK: true,\n    utilityModelTitleData: \"\",\n    utilityModelTitleDataEn: \"\",\n    applicationNum: \"\",\n    technicalFieldData: {},\n    backgroundArtData: {},\n    abstractData: {},\n    abstractDataEn: {},\n    descriptionOfElementData: {},\n    figureDrawingsData: {},\n    disclosureData: {},\n    modeForInventionData: {},\n    claimsData: {},\n    drawingsData: {},\n    drawingsDescriptionData: {},\n    figureLabels: \"\",\n  });\n\n  return (\n    <XMLContextProvider.Provider value={[XMLData, setXMLData]}>\n      {children}\n    </XMLContextProvider.Provider>\n  );\n};\n\nexport default XMLContext;\n","import React, { createContext, useState } from \"react\";\n\nexport const UpdateParagraphContextProvider = createContext();\n\nconst UpdateParagraphContext = ({ children }) => {\n  // 新型內容\n  const [\n    allUpdateDisclosureParagraph,\n    setAllUpdateDisclosureParagraph\n  ] = useState([]);\n\n  // 實施方式\n  const [\n    allUpdateModeForInventionParagraph,\n    setAllUpdateModeForInventionParagraph\n  ] = useState([]);\n\n  const [allUpdateClaimParagraph, setAllUpdateClaimParagraph] = useState([]);\n\n  const [savedFileContent, setSavedFileContent] = useState({\n    content: \"\",\n    textAreaValue: \"\",\n    isInEditingMode: process.env.REACT_APP_SYSTEM_TYPE === \"tipo\",\n  });\n\n  return (\n    <UpdateParagraphContextProvider.Provider\n      value={{\n        allUpdateDisclosureParagraph,\n        setAllUpdateDisclosureParagraph,\n        allUpdateModeForInventionParagraph,\n        setAllUpdateModeForInventionParagraph,\n        allUpdateClaimParagraph,\n        setAllUpdateClaimParagraph,\n        savedFileContent,\n        setSavedFileContent\n      }}\n    >\n      {children}\n    </UpdateParagraphContextProvider.Provider>\n  );\n};\n\nexport default UpdateParagraphContext;\n","export const getPathName = () => {\n  const url = window.location.href;\n\n  return url.slice(url.lastIndexOf(\"/\") + 1);\n};\n","export const fullCharToHalf = (_content) => {\n  const content = _content\n    .replaceAll(\"&quot;\", `\"`)\n    .replaceAll(`&apos;`, \"'\")\n    .replaceAll(`&lsquo;`, \"‘\")\n    .replaceAll(`&rsquo;`, \"’\")\n    .replaceAll(`&sbquo;`, \"‚\")\n    .replaceAll(`&ldquo;`, \"“\")\n    .replaceAll(`&rdquo;`, \"”\")\n    .replaceAll(`&bdquo;`, \"„\")\n    .replaceAll(`&prime;`, \"′\")\n    .replaceAll(`&Prime;`, \"″\");\n  //.split(\"\");\n  // console.log(\"content length: \", content.length);\n  let itrStart = 0;\n  let newContent = \"\";\n  while (itrStart <= content.length) {\n    let itrEnd = itrStart + 10000;\n    itrEnd = itrEnd > content.length ? content.length : itrEnd;\n    for (let i = itrStart; i < itrEnd; i++) {\n      // number 0-9 full: 65296-65305\n      // lowercase a-z full : 65345－65370\n      // uppercase A-Z full: ６5313 - 65338\n      if (\n        content[i].charCodeAt(0) >= 65296 &&\n        content[i].charCodeAt(0) <= 65305\n      ) {\n        newContent += content[i].charCodeAt(0) - 65296 + \"\";\n      } else if (\n        content[i].charCodeAt(0) >= 65345 &&\n        content[i].charCodeAt(0) <= 65370\n      ) {\n        newContent += String.fromCharCode(content[i].charCodeAt(0) - 65248);\n      } else if (\n        content[i].charCodeAt(0) >= 65313 &&\n        content[i].charCodeAt(0) <= 65338\n      ) {\n        newContent += String.fromCharCode(content[i].charCodeAt(0) - 65248);\n      } else if (content[i] === \"＇\" || content[i] === \"’\") {\n        newContent += \"'\";\n      } else if (content[i] === \"（\") {\n        newContent += \"(\";\n      } else if (content[i] === \"）\") {\n        newContent += \")\";\n      } else {\n        newContent += content[i];\n      }\n    }\n    itrStart += 10000;\n  }\n\n  return newContent;\n};\n","import React, { useState, useCallback, useMemo } from \"react\";\n\nconst HistoryPopup = ({ handleClose }) => {\n  const [numPerPage, setNumPerPage] = useState(10);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [startDateTS, setStartDateTS] = useState(0);\n  const [endDateTS, setEndDateTS] = useState(0);\n\n  const [historyFromLocalStorage] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"automatic-patent-examiner\"))\n        .savedApplications;\n    } catch (e) {\n      return {};\n    }\n  });\n  const [filteredHistory, setFilteredHistory] = useState(\n    // Object.keys(historyFromLocalStorage)\n    []\n  );\n\n  const formatDate = (date) => {\n    const dateArr = date.split(\"-\");\n    dateArr[1] = +dateArr[1] < 10 ? \"0\" + dateArr[1] : \"\" + dateArr[1];\n    dateArr[2] = +dateArr[2] < 10 ? \"0\" + dateArr[2] : \"\" + dateArr[2];\n    return dateArr.join(\"/\");\n  };\n\n  const getAllDateSelections = useCallback(() => {\n    let now = +new Date();\n    const selections = [];\n    for (let i = 0; i <= 30; i++) {\n      const ts = now - 1000 * 60 * 60 * 24 * i;\n      const prevDate = new Date(ts);\n      const prevDateArr = [\n        prevDate.getFullYear(),\n        prevDate.getMonth(),\n        prevDate.getDate()\n      ];\n\n      let display;\n      switch (i) {\n        case 0:\n          display = \"今天\";\n          break;\n        case 1:\n          display = \"昨天\";\n          break;\n        default:\n          display = formatDate(\n            `${prevDateArr[0]}-${prevDateArr[1] + 1}-${prevDateArr[2]}`\n          );\n          break;\n      }\n      selections.push({ value: +new Date(...prevDateArr), display });\n    }\n    return selections;\n  }, []);\n\n  const handleDateSearch = () => {\n    if (startDateTS === 0 || endDateTS === 0)\n      return window.alert(\"請選擇開始日期與結束日期\");\n    if (endDateTS < startDateTS)\n      return window.alert(\"結束日期不可早於開始日期\");\n\n    // window.alert(\n    //   `開始日期: ${new Date(startDateTS)}, 結束日期: ${new Date(endDateTS)}`\n    // );\n    setCurrentPage(1);\n    setFilteredHistory(() => {\n      const _filterHistory = [];\n      for (let savedDate in historyFromLocalStorage) {\n        const savedDateArr = savedDate.split(\"-\").map((e) => +e);\n        savedDateArr[1]--;\n        const savedDateTS = +new Date(...savedDateArr);\n        if (savedDateTS >= startDateTS && savedDateTS <= endDateTS) {\n          _filterHistory.push(savedDate);\n        }\n      }\n      return _filterHistory;\n    });\n  };\n\n  const numOfHistory = useMemo(\n    () =>\n      filteredHistory.reduce((acc, cur) => {\n        acc += historyFromLocalStorage[cur].length;\n        return acc;\n      }, 0),\n    [filteredHistory, historyFromLocalStorage]\n  );\n\n  const filteredHistoryArr = useMemo(\n    () =>\n      filteredHistory\n        .map((savedDate) => [savedDate, historyFromLocalStorage[savedDate]])\n        .reverse()\n        .reduce((acc, [savedDate, apps]) => {\n          const newAdded = apps.map((a) => ({ savedDate, ...a }));\n          acc.push(...newAdded);\n          return acc;\n        }, []),\n    [filteredHistory, historyFromLocalStorage]\n  );\n\n  const totalPages = Math.ceil(numOfHistory / numPerPage);\n\n  const goToPage = ({ direction = \"\", page = 0 }) => {\n    if (direction && direction === \"next\" && currentPage < totalPages) {\n      setCurrentPage((prev) => prev + 1);\n    } else if (direction && direction === \"prev\" && currentPage > 1) {\n      setCurrentPage((prev) => prev - 1);\n    } else if (page) {\n      setCurrentPage(page);\n    }\n  };\n\n  return (\n    <div className=\"db-result-popup history-result-popup\">\n      <h4>近30天使用本系統之案件</h4>\n      <p className=\"top-panel\">\n        <button\n          onClick={() =>\n            setFilteredHistory(Object.keys(historyFromLocalStorage))\n          }\n          className=\"display-all-btn\"\n        >\n          顯示全部\n        </button>\n        <label htmlFor=\"num-per-page\">每頁筆數&nbsp;</label>\n        <select\n          id=\"num-per-page\"\n          defaultValue={numPerPage}\n          onChange={(e) => {\n            setCurrentPage(1);\n            setNumPerPage(+e.target.value);\n          }}\n        >\n          <option value=\"10\">10</option>\n          <option value=\"25\">25</option>\n          <option value=\"50\">50</option>\n          <option value=\"3\">3</option>\n        </select>\n        <label htmlFor=\"start-date\">開始日期&nbsp;</label>\n        <select\n          id=\"start-date\"\n          defaultValue={0}\n          onChange={(e) => setStartDateTS(+e.target.value)}\n        >\n          <option value={0} disabled hidden>\n            請選擇\n          </option>\n          {getAllDateSelections().map(({ value, display }) => (\n            <option key={display} value={value}>\n              {display}\n            </option>\n          ))}\n        </select>\n        <label htmlFor=\"end-date\">&nbsp;&nbsp;結束日期&nbsp;</label>\n        <select\n          id=\"end-date\"\n          defaultValue={0}\n          onChange={(e) => setEndDateTS(+e.target.value)}\n        >\n          <option value={0} disabled hidden>\n            請選擇\n          </option>\n          {getAllDateSelections().map(({ value, display }) => (\n            <option key={display} value={value}>\n              {display}\n            </option>\n          ))}\n        </select>\n        <button onClick={handleDateSearch} className=\"handle-date-search\">\n          查詢\n        </button>\n      </p>\n      <div>\n        {filteredHistory.length === 0 ? (\n          <p style={{ textAlign: \"center\", marginTop: 25 }}>查無資料</p>\n        ) : (\n          <ul>\n            <li>\n              <p>日期</p>\n              <p>案號</p>\n              <p>案件名稱</p>\n            </li>\n            {filteredHistoryArr\n              .slice((currentPage - 1) * numPerPage, currentPage * numPerPage)\n              .map(({ appId, appTitle, savedDate }, liIdx) => (\n                <li key={liIdx}>\n                  <p>{formatDate(savedDate)}</p>\n                  <p>{appId}</p>\n                  <p>{appTitle}</p>\n                </li>\n              ))}\n          </ul>\n        )}\n      </div>\n      {filteredHistory.length > 0 && (\n        <p className=\"bottom-panel\">\n          <span>\n            查詢結果:&nbsp;\n            {numOfHistory}&nbsp;筆\n          </span>\n          <span className=\"page-info\">\n            頁數: 第&nbsp;{currentPage}&nbsp;/&nbsp;\n            {totalPages}\n            &nbsp;頁\n          </span>\n\n          <label className=\"go-to-label\">\n            前往第&nbsp;\n            <select onClick={(e) => goToPage({ page: +e.target.value })}>\n              {Array(totalPages)\n                .fill()\n                .map((_, i) => i + 1)\n                .map((i) => (\n                  <option key={i} value={i}>\n                    {i}\n                  </option>\n                ))}\n            </select>\n            &nbsp;頁\n          </label>\n\n          <button\n            onClick={() => goToPage({ direction: \"prev\" })}\n            style={{\n              pointerEvents: currentPage === 1 ? \"none\" : \"auto\"\n            }}\n            disabled={currentPage === 1}\n          >\n            前一頁\n          </button>\n          <button\n            onClick={() => goToPage({ direction: \"next\" })}\n            style={{\n              pointerEvents: currentPage === totalPages ? \"none\" : \"auto\",\n              marginLeft: 5\n            }}\n            disabled={currentPage === totalPages}\n          >\n            下一頁\n          </button>\n        </p>\n      )}\n      <button onClick={() => handleClose(false)}>確認</button>\n    </div>\n  );\n};\n\nexport default HistoryPopup;\n","function getAbstract(titleElement) {\n  const abstract = [];\n  const abstractEn = [];\n\n  // 找中文摘要\n  let currentElement = titleElement.nextElementSibling;\n  while (\n    currentElement &&\n    !currentElement.innerText.trim().match(/^【中\\s*文.*(摘\\s*要)?】/)\n  ) {\n    currentElement = currentElement.nextElementSibling;\n  }\n  currentElement = currentElement?.nextElementSibling;\n  while (\n    currentElement &&\n    currentElement.tagName === \"P\" &&\n    !currentElement.innerText.trim().match(/^【.*】/)\n  ) {\n    abstract.push(currentElement.innerText.trim());\n    currentElement = currentElement.nextElementSibling;\n  }\n\n  console.log(\"【中文摘要】\", abstract);\n\n  // 找英文摘要\n  while (\n    currentElement &&\n    !currentElement.innerText.trim().match(/^【英\\s*文.*(摘\\s*要)?】/)\n  ) {\n    currentElement = currentElement.nextElementSibling;\n  }\n\n  currentElement = currentElement?.nextElementSibling;\n  while (\n    currentElement &&\n    currentElement.tagName === \"P\" &&\n    !currentElement.innerText.trim().match(/^【.*】/)\n  ) {\n    abstractEn.push(currentElement.innerText.trim());\n    currentElement = currentElement.nextElementSibling;\n  }\n\n  console.log(\"【英文摘要】\", abstractEn);\n\n  return { abstract, abstractEn };\n}\n\nexport default getAbstract;\n","function getClaims(root) {\n  const claimElements = Array.from(root.querySelectorAll(\"p\")).filter((p) =>\n    p.innerText.trim().match(/^【請\\s*求\\s*項\\s*\\d+】/)\n  );\n  const claimFields = [];\n  for (let i = 0; i < claimElements.length; i++) {\n    const claimNum = claimElements[i].innerText\n      .trim()\n      .match(/^【請求項(\\d+)】/)[1];\n    const content = [\n      claimElements[i].innerText.trim().replace(/^【請\\s*求\\s*項\\s*\\d+】/, \"\")\n    ];\n    let currentParagraph = claimElements[i].nextElementSibling;\n\n    while (\n      currentParagraph &&\n      currentParagraph !== claimElements[i + 1] &&\n      !currentParagraph.innerText.trim().startsWith(\"圖式\") &&\n      !currentParagraph.innerText.trim().match(/^【.*】/)\n    ) {\n      content.push(currentParagraph.innerText.trim());\n      currentParagraph = currentParagraph.nextElementSibling;\n    }\n    claimFields.push({ claimNum, content });\n  }\n  console.log(\"【申請專利範圍】\", claimFields);\n  return { claimFields };\n}\n\nexport default getClaims;\n","function extractTable(root, rootSelector) {\n  const stack = [rootSelector];\n  const content = [];\n\n  while (stack.length > 0) {\n    const selector = stack.pop();\n    const numOfChildren = root.querySelectorAll(selector + \" > *\").length;\n    if (numOfChildren === 0) {\n      const elText = root.querySelector(selector).innerText.trim();\n      if (elText) content.push(elText);\n    } else {\n      for (let i = numOfChildren; i > 0; i--) {\n        stack.push(selector + ` > *:nth-child(${i})`);\n      }\n    }\n  }\n  return content;\n}\n\nexport default extractTable;\n","import extractTable from \"./extractTable\";\n\nfunction getDescriptionDrawings(root) {\n  // 符號說明\n  const descriptionOfDrawingElement = Array.from(\n    root.querySelectorAll(\"p\")\n  ).filter((p) => p.innerText.trim().match(/^【符\\s*號\\s*說\\s*明】/))[0];\n\n  const descriptionOfElementFields = [];\n\n  if (descriptionOfDrawingElement?.nextElementSibling?.tagName === \"P\") {\n    let currentElement = descriptionOfDrawingElement.nextElementSibling;\n    while (\n      currentElement &&\n      currentElement.tagName === \"P\" &&\n      !currentElement.innerText.trim().includes([\"申請專利範圍\"]) &&\n      currentElement.innerText.trim().match(/[\\d\\w]/) &&\n      !currentElement.innerText.trim().match(/【.*】/)\n    ) {\n      descriptionOfElementFields.push(currentElement.innerText.trim());\n      currentElement = currentElement.nextElementSibling;\n    }\n    console.log(\"【符號說明】\", descriptionOfElementFields);\n  } else if (\n    descriptionOfDrawingElement?.nextElementSibling?.tagName === \"TABLE\"\n  ) {\n    descriptionOfDrawingElement.nextElementSibling.setAttribute(\n      \"id\",\n      \"description-table\"\n    );\n    descriptionOfElementFields.push(\n      ...extractTable(root, \"#description-table\")\n    );\n    console.log(\"【符號說明】\", descriptionOfElementFields);\n  }\n  return { descriptionOfElementFields };\n}\n\nexport default getDescriptionDrawings;\n","function getDrawings(root, general) {\n  // 找圖式簡單說明\n  const drawingElement = Array.from(root.querySelectorAll(\"p\")).filter((p) =>\n    p.innerText.match(/【圖\\s*式\\s*簡\\s*單\\s*說\\s*明】/)\n  )[0];\n  const drawingElementFields = [];\n\n  if (drawingElement?.nextElementSibling?.tagName === \"OL\") {\n    Array.from(\n      drawingElement.nextElementSibling.querySelectorAll(\"li\")\n    ).forEach((li) => {\n      let generalStr = general.generalIdx + \"\";\n      drawingElementFields.push({\n        general: \"0\".repeat(4 - generalStr.length) + generalStr,\n        content: li.innerText.trim()\n      });\n      general.generalIdx++;\n    });\n    console.log(\"【圖式簡單說明】\", drawingElementFields);\n  } else if (\n    drawingElement?.nextElementSibling?.tagName === \"P\" &&\n    !drawingElement?.nextElementSibling?.innerText.trim().match(/^【.*】/)\n  ) {\n    let generalStr = general.generalIdx + \"\";\n    general.generalIdx++;\n    drawingElementFields.push({\n      general: \"0\".repeat(4 - generalStr.length) + generalStr,\n      drawings: []\n    });\n    let currentDrawingElement = drawingElement.nextElementSibling;\n    while (\n      currentDrawingElement &&\n      currentDrawingElement.tagName === \"P\" &&\n      !currentDrawingElement.innerText.trim().match(/^【.*】/)\n    ) {\n      drawingElementFields[0].drawings.push(\n        currentDrawingElement.innerText.trim()\n      );\n      currentDrawingElement = currentDrawingElement.nextElementSibling;\n    }\n    console.log(\"【圖式簡單說明】\", drawingElementFields);\n  }\n  return { drawingElementFields };\n}\n\nexport default getDrawings;\n","import extractTable from \"./extractTable\";\n\nfunction getFigureDrawing(root) {\n  // 找指定代表圖\n  const figureDrawingIdxElement = Array.from(\n    root.querySelectorAll(\"p\")\n  ).filter((p) =>\n    p.innerText.trim().match(/^【本?\\s*案?\\s*指\\s*定\\s*代\\s*表\\s*圖】/)\n  )[0];\n\n  let figureDrawingIdx;\n\n  if (figureDrawingIdxElement) {\n    figureDrawingIdx =\n      figureDrawingIdxElement.innerText\n        .trim()\n        .split(/[：:，,]/)\n        .at(-1)\n        ?.replaceAll(/[^\\w\\u4E00-\\u9FFF]/g, \"\") ?? \"\";\n    console.log(\"【指定代表圖】\", figureDrawingIdx);\n  }\n\n  // 代表圖之符號簡單說明\n  const figureDrawingElement = Array.from(\n    root.querySelectorAll(\"p\")\n  ).filter((p) =>\n    p.innerText\n      .trim()\n      .match(/^【本?\\s*案?\\s*代\\s*表\\s*圖\\s*之\\s*符\\s*號\\s*簡\\s*單\\s*說\\s*明】/)\n  )[0];\n\n  const figureDrawingFields = [];\n\n  if (figureDrawingElement?.nextElementSibling?.tagName === \"P\") {\n    let currentElement = figureDrawingElement.nextElementSibling;\n    while (\n      currentElement &&\n      currentElement.tagName === \"P\" &&\n      !currentElement.innerText.trim().includes([\"專利說明書\"]) &&\n      currentElement.innerText.trim().match(/[\\d\\w]/) &&\n      !currentElement.innerText.trim().match(/【.*】/)\n    ) {\n      figureDrawingFields.push(currentElement.innerText.trim());\n      currentElement = currentElement.nextElementSibling;\n    }\n    console.log(\"【代表圖之符號簡單說明】\", figureDrawingFields);\n  } else if (figureDrawingElement?.nextElementSibling?.tagName === \"TABLE\") {\n    figureDrawingElement.nextElementSibling.setAttribute(\"id\", \"figure-table\");\n    figureDrawingFields.push(...extractTable(root, \"#figure-table\"));\n    console.log(\"【代表圖之符號簡單說明】\", figureDrawingFields);\n  }\n\n  return { figureDrawingIdx, figureDrawingFields };\n}\n\nexport default getFigureDrawing;\n","function getModeForInvention(root, general) {\n  const modeForInventionElement = Array.from(\n    root.querySelectorAll(\"p\")\n  ).filter((p) => p.innerText.match(/【實\\s*施\\s*方\\s*式】/))[0];\n\n  const modeForInventionFields = [];\n  if (modeForInventionElement?.nextElementSibling?.tagName === \"OL\") {\n    Array.from(\n      modeForInventionElement.nextElementSibling.querySelectorAll(\"li\")\n    ).forEach((li) => {\n      let generalStr = general.generalIdx + \"\";\n      modeForInventionFields.push({\n        general: \"0\".repeat(4 - generalStr.length) + generalStr,\n        content: li.innerText.trim()\n      });\n      general.generalIdx++;\n    });\n    console.log(\"【實施方式】\", modeForInventionFields);\n  }\n  return { modeForInventionFields };\n}\n\nexport default getModeForInvention;\n","function getTechFieldAndBackgroundArtAndDisclosure(root, general) {\n  const techFields = [];\n  const backgroundArtFields = [];\n  const disclosureFields = [];\n\n  // 找技術領域\n  const techFieldElement = Array.from(root.querySelectorAll(\"p\")).filter((p) =>\n    p.innerText.match(/【技\\s*術\\s*領\\s*域】/)\n  )[0];\n\n  if (techFieldElement?.nextElementSibling?.tagName === \"OL\") {\n    Array.from(\n      techFieldElement.nextElementSibling.querySelectorAll(\"li\")\n    ).forEach((li) => {\n      let generalStr = general.generalIdx + \"\";\n      techFields.push({\n        general: \"0\".repeat(4 - generalStr.length) + generalStr,\n        content: li.innerText.trim(),\n      });\n      general.generalIdx++;\n    });\n    console.log(\"【技術領域】\", techFields);\n  }\n\n  // 找先前技術\n  const backgroundArtElement = Array.from(root.querySelectorAll(\"p\")).filter(\n    (p) => p.innerText.match(/【先\\s*前\\s*技\\s*術】/)\n  )[0];\n\n  if (backgroundArtElement?.nextElementSibling?.tagName === \"OL\") {\n    Array.from(\n      backgroundArtElement.nextElementSibling.querySelectorAll(\"li\")\n    ).forEach((li) => {\n      let generalStr = general.generalIdx + \"\";\n      backgroundArtFields.push({\n        general: \"0\".repeat(4 - generalStr.length) + generalStr,\n        content: li.innerText.trim(),\n      });\n      general.generalIdx++;\n    });\n    console.log(\"【先前技術】\", backgroundArtFields);\n  }\n\n  // 找新型內容\n  const disclosureElement = Array.from(root.querySelectorAll(\"p\")).filter((p) =>\n    p.innerText.match(/【(新|發)\\s*(型|明)\\s*內\\s*容】/)\n  )[0];\n\n  if (disclosureElement?.nextElementSibling?.tagName === \"OL\") {\n    Array.from(\n      disclosureElement.nextElementSibling.querySelectorAll(\"li\")\n    ).forEach((li) => {\n      let generalStr = general.generalIdx + \"\";\n      disclosureFields.push({\n        general: \"0\".repeat(4 - generalStr.length) + generalStr,\n        content: li.innerText.trim(),\n      });\n      general.generalIdx++;\n    });\n    console.log(\"【新型內容】\", disclosureFields);\n  }\n\n  return { techFields, backgroundArtFields, disclosureFields };\n}\n\n\nexport default getTechFieldAndBackgroundArtAndDisclosure;\n","function getTitle(root) {\n  // 找中文新型/發明名稱\n  const titleElement = Array.from(root.querySelectorAll(\"p\")).filter((p) =>\n    p.innerText.match(/【.*(新|發)\\s*(型|明)\\s*名\\s*稱】/)\n  )[0];\n  const title =\n    // titleElement?.innerText.trim().replace(/【.*新\\s*型\\s*名\\s*稱】/, \"\") ?? \"\";\n    titleElement?.innerText\n      .trim()\n      .replace(/【.*(新|發)\\s*(型|明)\\s*名\\s*稱】/, \"\") ?? \"\";\n  const patentType = titleElement?.innerText\n    .trim()\n    .match(/【.*發\\s*明\\s*名\\s*稱】/, \"\")\n    ? \"發明\"\n    : \"新型\";\n  console.log(`【中文${patentType}名稱】`, title);\n\n  // 找英文新型/發明名稱\n  let titleEn = \"\";\n  if (\n    titleElement &&\n    titleElement.nextElementSibling &&\n    titleElement.nextElementSibling.innerText\n      .trim()\n      .match(/【英\\s*文\\s*(新|發)\\s*(型|明)\\s*名\\s*稱】/)\n  ) {\n    titleEn =\n      titleElement.nextElementSibling.innerText\n        .trim()\n        .replace(/【英\\s*文\\s*(新|發)\\s*(型|明)\\s*名\\s*稱】/, \"\") ?? \"\";\n    console.log(`【英文${patentType}名稱】`, titleEn);\n  }\n  return { patentType, title, titleEn, titleElement };\n}\n\nexport default getTitle;\n","import { parse } from \"node-html-parser\";\nimport getAbstract from \"./getAbstract\";\nimport getClaims from \"./getClaims\";\nimport getDescriptionDrawings from \"./getDescriptionDrawing\";\nimport getDrawings from \"./getDrawings\";\nimport getFigureDrawing from \"./getFigureDrawings\";\nimport getModeForInvention from \"./getModeForInvention\";\nimport getTechFieldAndBackgroundArtAndDisclosure from \"./getTechFieldAndBackgroundArtAndDisclosure\";\nimport getTitle from \"./getTitle\";\n\nfunction parseHTML(html) {\n  const root = parse(html);\n\n  // 找中英文新型/發明名稱\n  const { patentType, title, titleEn, titleElement } = getTitle(root);\n\n  // 找中英文摘要\n  const { abstract, abstractEn } = getAbstract(titleElement);\n\n  const general = { generalIdx: 1 };\n\n  // 找技術領域、先前技術、新型/發明內容\n  const {\n    techFields,\n    backgroundArtFields,\n    disclosureFields\n  } = getTechFieldAndBackgroundArtAndDisclosure(root, general);\n\n  // 找圖式簡單說明\n  const { drawingElementFields } = getDrawings(root, general);\n\n  // 找實施方式\n  const { modeForInventionFields } = getModeForInvention(root, general);\n\n  // 找申請專利範圍\n  const { claimFields } = getClaims(root);\n\n  // 找代表圖之符號簡單說明\n  const { figureDrawingIdx, figureDrawingFields } = getFigureDrawing(root);\n\n  // 找符號說明\n  const { descriptionOfElementFields } = getDescriptionDrawings(root);\n\n  return {\n    patentType,\n    title,\n    titleEn,\n    abstract,\n    abstractEn,\n    techFields,\n    backgroundArtFields,\n    disclosureFields,\n    drawingElementFields,\n    modeForInventionFields,\n    claimFields,\n    figureDrawingIdx,\n    figureDrawingFields,\n    descriptionOfElementFields\n  };\n}\n\nexport default parseHTML;\n","import { create } from \"xmlbuilder2\";\n\nfunction xmlbuilder({\n  patentType,\n  title,\n  titleEn,\n  abstract,\n  abstractEn,\n  techFields,\n  backgroundArtFields,\n  disclosureFields,\n  drawingElementFields,\n  modeForInventionFields,\n  claimFields,\n  figureDrawingIdx,\n  figureDrawingFields,\n  descriptionOfElementFields,\n}) {\n  patentType =\n    process.env.REACT_APP_SYSTEM_TYPE === \"tipo\" &&\n    process.env.REACT_APP_PATENT_TYPE?.includes(\"invention\")\n      ? patentType\n      : \"新型\";\n\n  const root =\n    patentType === \"發明\"\n      ? create({ version: \"1.0\" }).ele(\"invention-specification\", {\n          \"application-num\": `${new Date().getFullYear() - 1911 + \"\"}1XXXXX`,\n        })\n      : create({ version: \"1.0\" }).ele(\"utility-model-specification\", {\n          \"application-num\": `${new Date().getFullYear() - 1911 + \"\"}2XXXXX`,\n        });\n\n  // 中文摘要\n  if (abstract.length > 0) {\n    const abstractEle = root\n      .ele(\"abstract\", { lang: \"tw\" })\n      .ele(\"abstract-dtext\");\n    for (let ab of abstract) abstractEle.ele(\"p\", { general: \"\" }).txt(ab);\n  }\n  // 英文摘要\n  if (abstractEn.length > 0) {\n    const abstractEle = root\n      .ele(\"abstract\", { lang: \"en\" })\n      .ele(\"abstract-dtext\");\n    for (let ab of abstractEn) abstractEle.ele(\"p\", { general: \"\" }).txt(ab);\n  }\n  // 中英文新型/發明名稱\n  const descriptionEle = root.ele(\"description\");\n  if (title)\n    descriptionEle\n      .ele(patentType === \"新型\" ? \"utility-model-title\" : \"invention-title\", {\n        lang: \"tw\",\n      })\n      .txt(title);\n  if (titleEn)\n    descriptionEle\n      .ele(patentType === \"新型\" ? \"utility-model-title\" : \"invention-title\", {\n        lang: \"en\",\n      })\n      .txt(titleEn);\n  // 技術領域\n  if (techFields.length > 0) {\n    const techFieldsEle = descriptionEle.ele(\"technical-field\");\n    for (let { general, content } of techFields)\n      techFieldsEle.ele(\"p\", { general }).txt(content);\n  }\n  // 先前技術\n  if (backgroundArtFields.length > 0) {\n    const backgroundArtFieldsEle = descriptionEle.ele(\"background-art\");\n    for (let { general, content } of backgroundArtFields)\n      backgroundArtFieldsEle.ele(\"p\", { general }).txt(content);\n  }\n  // 新型/發明內容\n  if (disclosureFields.length > 0) {\n    const disclosureFieldsEle = descriptionEle.ele(\"disclosure\");\n    for (let { general, content } of disclosureFields)\n      disclosureFieldsEle.ele(\"p\", { general }).txt(content);\n  }\n  // 實施方式\n  if (modeForInventionFields.length > 0) {\n    const modeForInventionFieldsEle = descriptionEle.ele(\"mode-for-invention\");\n    for (let { general, content } of modeForInventionFields)\n      modeForInventionFieldsEle.ele(\"p\", { general }).txt(content);\n  }\n  // 符號說明 & 圖式簡單說明\n  if (\n    descriptionOfElementFields.length > 0 ||\n    drawingElementFields.length > 0\n  ) {\n    const descriptionOfDrawingFieldsEle = descriptionEle.ele(\n      \"description-of-drawings\"\n    );\n    // 符號說明\n    if (descriptionOfElementFields.length > 0) {\n      const pEle = descriptionOfDrawingFieldsEle\n        .ele(\"description-of-element\")\n        .ele(\"p\", { general: \"\" });\n      for (let pIdx = 0; pIdx < descriptionOfElementFields.length; pIdx++) {\n        pEle.txt(descriptionOfElementFields[pIdx]);\n        if (pIdx < descriptionOfElementFields.length - 1) pEle.ele(\"br\");\n      }\n    }\n    // 圖式簡單說明\n    if (drawingElementFields.length > 0) {\n      for (let { general, content, drawings } of drawingElementFields) {\n        const pEle = descriptionOfDrawingFieldsEle.ele(\"p\", { general });\n        if (content) pEle.txt(content);\n        if (drawings) {\n          for (let dIdx = 0; dIdx < drawings.length; dIdx++) {\n            pEle.txt(drawings[dIdx]);\n            if (dIdx < drawings.length - 1) pEle.ele(\"br\");\n          }\n        }\n      }\n    }\n  }\n\n  // 申請專利範圍\n  if (claimFields.length > 0) {\n    const claimsEle = root.ele(\"claims\");\n    for (let { claimNum, content } of claimFields) {\n      const claimTextEle = claimsEle\n        .ele(\"claim\", { dependency: \"independent-claim\", num: claimNum })\n        .ele(\"claim-text\");\n      for (let cIdx = 0; cIdx < content.length; cIdx++) {\n        claimTextEle.txt(content[cIdx]);\n        if (cIdx < content.length - 1) claimTextEle.ele(\"br\");\n      }\n    }\n  }\n  // 代表圖之符號簡單說明\n  if (figureDrawingFields.length > 0) {\n    const pEle = root\n      .ele(\"figure-drawings\", {\n        lang: \"\",\n        \"figure-labels\": figureDrawingIdx,\n      })\n      .ele(\"p\", { general: \"\" });\n    for (let fIdx = 0; fIdx < figureDrawingFields.length; fIdx++) {\n      pEle.txt(figureDrawingFields[fIdx]);\n      if (fIdx < figureDrawingFields.length - 1) pEle.ele(\"br\");\n    }\n  }\n\n  // convert the XML tree to string\n  const xml = root.end({ prettyPrint: true });\n\n  return xml;\n}\n\nexport default xmlbuilder;\n","import React, { useEffect, useContext, useCallback, useState } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport { XMLContextProvider } from \"../contexts/XMLContext\";\nimport { UpdateParagraphContextProvider } from \"../contexts/UpdateParagraphContext\";\nimport { getPathName } from \"../utils/getPathName\";\nimport Dropzone from \"react-dropzone\";\nimport { fullCharToHalf } from \"../utils/fullCharToHalf\";\nimport Popup from \"reactjs-popup\";\nimport mammoth from \"mammoth\";\nimport HistoryPopup from \"../components/HistoryPopup\";\nimport parseHTML from \"../utils/parseHtml/parseHTML\";\nimport xmlbuilder from \"../utils/parseHtml/xmlbuilder\";\n\nconst Dashboard = () => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const [XMLData, setXMLData] = useContext(XMLContextProvider);\n  const { savedFileContent, setSavedFileContent } = useContext(\n    UpdateParagraphContextProvider\n  );\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [isPopupOpen, toggleIsPopupOpen] = useState(false);\n  // const [isInEditingMode, setIsInEditingMode] = useState(false);\n  // const [textAreaValue, setTextAreaValue] = useState(() => {\n  //   if (savedFileContent !== \"\") {\n  //     return savedFileContent;\n  //   }\n  //   try {\n  //     return XMLData.fileContent ? XMLData.fileContent.toString() : \"\";\n  //   } catch (error) {\n  //     return \"\";\n  //   }\n  // });\n  // setSavedFileContent(() => {\n  //   if (savedFileContent !== \"\") {\n  //     return savedFileContent;\n  //   }\n  //   try {\n  //     return XMLData.fileContent ? XMLData.fileContent.toString() : \"\";\n  //   } catch (error) {\n  //     return \"\";\n  //   }\n  // });\n\n  const dragAreaMsg = essentialData.dragAreaMsg;\n  const setDragAreaMsg = (msg) => {\n    setEssentialData((prev) => ({ ...prev, dragAreaMsg: msg }));\n  };\n\n  const handleFileChange = (fileName, fileContent) => {\n    // handle the file...\n    const newFileName = Math.random().toString().slice(2, 8) + fileName;\n\n    setXMLData((prev) => ({\n      ...prev,\n      isLoading: true,\n      fileName: newFileName,\n      fileContent,\n    }));\n  };\n\n  useEffect(() => {\n    setEssentialData((prev) => ({\n      ...prev,\n      pathName: getPathName(),\n    }));\n  }, []);\n\n  useEffect(() => {\n    let newTextAreaValue;\n    try {\n      newTextAreaValue = XMLData.fileContent\n        ? XMLData.fileContent.toString()\n        : \"\";\n    } catch (error) {\n      newTextAreaValue = \"\";\n    }\n    setSavedFileContent((prev) => ({\n      ...prev,\n      content: newTextAreaValue,\n      textAreaValue: newTextAreaValue,\n    }));\n  }, [XMLData.fileContent]);\n\n  const handleOnDrop = useCallback((acceptedFiles) => {\n    setIsDragOver(false);\n\n    if (!acceptedFiles) {\n      return;\n    }\n    const file = acceptedFiles[0];\n    const fileName = file.name;\n    const msg = `無法讀取檔案${fileName}，請確認檔案是否為XML或WORD檔並重新選取一次。`;\n    try {\n      if (!/.xml$/.test(fileName) && !/.docx$/.test(fileName)) {\n        const fileNotXmlErrMsg = `檔案${fileName}不是XML或WORD檔，請選擇正確的檔案格式。`;\n        setDragAreaMsg(fileNotXmlErrMsg);\n        window.alert(fileNotXmlErrMsg);\n        return;\n      }\n\n      const reader = new FileReader();\n\n      reader.onabort = () => {\n        setDragAreaMsg(msg);\n        window.alert(msg);\n      };\n      reader.onerror = () => {\n        setDragAreaMsg(msg);\n        window.alert(msg);\n      };\n      reader.onload = () => {\n        // Do whatever you want with the file contents\n        const readerResult = reader.result;\n        if (/.docx$/.test(fileName)) {\n          mammoth\n            .convertToHtml(\n              { arrayBuffer: readerResult },\n              {\n                convertImage: mammoth.images.imgElement((image) => {\n                  return image.read(\"base64\").then(() => {\n                    return {\n                      src: \"data:\" + image.contentType,\n                    };\n                  });\n                }),\n              }\n            )\n            .then((resultObject) => {\n              const html = resultObject.value;\n              const htmlObject = parseHTML(html);\n              // console.log(htmlObject);\n              const xmlResult = xmlbuilder(htmlObject);\n              // console.log(xmlResult);\n              // debugger;\n              // convert 0-9 a-z A-Z from full to half\n              const convertFullToHalf = fullCharToHalf(xmlResult);\n              handleFileChange(file.name, convertFullToHalf);\n            })\n            .catch((mammothErr) => {\n              console.error(mammothErr);\n              setDragAreaMsg(msg);\n              window.alert(msg);\n            });\n        } else {\n          // convert 0-9 a-z A-Z from full to half\n          const convertFullToHalf = fullCharToHalf(readerResult);\n          handleFileChange(file.name, convertFullToHalf);\n        }\n      };\n      if (/.xml$/.test(fileName)) reader.readAsText(file, \"utf8\");\n      else if (/.docx$/.test(fileName)) reader.readAsArrayBuffer(file);\n    } catch (error) {\n      setDragAreaMsg(msg);\n      window.alert(msg);\n    }\n  }, []);\n\n  return (\n    <>\n      <section className=\"title-section\" style={{ position: \"relative\" }}>\n        <h1>儀表板</h1>\n        <button\n          onClick={() => toggleIsPopupOpen(true)}\n          style={{\n            position: \"absolute\",\n            top: \"100%\",\n            right: \"1.5vw\",\n            cursor: \"pointer\",\n            outline: \"none\",\n            border: \"2px solid #333\",\n            borderRadius: 5,\n            padding: \"3px 7px\",\n            fontSize: \"1.02em\",\n            background: \"#d8d5d5\",\n          }}\n        >\n          歷史記錄\n        </button>\n        <Popup\n          open={isPopupOpen}\n          closeOnDocumentClick\n          onClose={() => toggleIsPopupOpen(false)}\n        >\n          <HistoryPopup handleClose={toggleIsPopupOpen} />\n        </Popup>\n      </section>\n      <section className=\"dashboard-section\">\n        {process.env.REACT_APP_SYSTEM_TYPE === \"tipo\" ? (\n          <div className=\"dashboard-section-btns\">\n            <button\n              className={savedFileContent.isInEditingMode ? \"active\" : \"\"}\n              onClick={() =>\n                setSavedFileContent((prev) => ({\n                  ...prev,\n                  isInEditingMode: true,\n                }))\n              }\n            >\n              貼上xml型式資料\n            </button>\n            <button\n              className={savedFileContent.isInEditingMode ? \"\" : \"active\"}\n              onClick={() =>\n                setSavedFileContent((prev) => ({\n                  ...prev,\n                  isInEditingMode: false,\n                }))\n              }\n            >\n              選取xml或docx檔案\n            </button>\n          </div>\n        ) : (\n          <div style={{ height: 25 }}></div>\n        )}\n        {!savedFileContent.isInEditingMode && (\n          <p style={{ color: \"red\", marginBottom: 10, fontWeight: \"bold\" }}>\n            WORD檔案僅支援\n            {process.env.REACT_APP_SYSTEM_TYPE !== \"tipo\" &&\n            !process.env.REACT_APP_PATENT_TYPE?.includes(\"invention\")\n              ? \"「新型專利」的\"\n              : \"\"}\n            docx檔，請確認您的檔案格式符合規定\n          </p>\n        )}\n        {savedFileContent.isInEditingMode ? (\n          <>\n            {XMLData.fileName !== \"\" &&\n              !essentialData.isProcessing &&\n              essentialData.missingData.length > 0 &&\n              /具備完整的內容後再重新上傳。$/.test(dragAreaMsg) && (\n                <div className=\"edit-zone-error\">\n                  <p>你的XML內容缺少以下資料:</p>\n                  <ul style={{ paddingLeft: \"1.8em\" }}>\n                    {essentialData.missingData.map((d) => (\n                      <li key={d}>{d}</li>\n                    ))}\n                  </ul>\n                  <p style={{ marginTop: \".3em\" }}>\n                    請確認你上傳的內容具備完整的內容後再重新上傳。\n                  </p>\n                </div>\n              )}\n            {/^該XML檔的格式有誤無法讀取|不是XML檔，請選擇XML檔。$|不是XML檔，請選擇XML檔。$/.test(\n              dragAreaMsg\n            ) && (\n              <div className=\"edit-zone-error\">\n                <p>{dragAreaMsg}</p>\n              </div>\n            )}\n            {/已成功上傳，你可以點擊此處再次選擇檔案。$/.test(dragAreaMsg) && (\n              <div className=\"edit-zone-ok\">\n                <p>{`你的檔案${XMLData.fileName.slice(\n                  6\n                )}已成功上傳，你可以重新輸入後再按「送出」。`}</p>\n              </div>\n            )}\n            <div className=\"edit-zone\">\n              <textarea\n                required\n                placeholder=\"請在此處貼上XML資料\"\n                value={savedFileContent.textAreaValue}\n                onChange={(e) =>\n                  setSavedFileContent((prev) => ({\n                    ...prev,\n                    textAreaValue: e.target.value,\n                  }))\n                }\n              ></textarea>\n            </div>\n            <div className=\"dashboard-section-btns-bottom\">\n              <button\n                disabled={\n                  savedFileContent.textAreaValue.length === 0 ||\n                  essentialData.isProcessing\n                    ? true\n                    : \"\"\n                }\n                onClick={() => {\n                  setSavedFileContent((prev) => ({\n                    ...prev,\n                    content: prev.textAreaValue,\n                  }));\n                  handleFileChange(\n                    \"untitle.xml\",\n                    fullCharToHalf(savedFileContent.textAreaValue)\n                  );\n                }}\n              >\n                送出\n              </button>\n              {savedFileContent.textAreaValue !== savedFileContent.content && (\n                <button\n                  onClick={() =>\n                    setSavedFileContent((prev) => ({\n                      ...prev,\n                      textAreaValue: prev.content,\n                    }))\n                  }\n                >\n                  還原\n                </button>\n              )}\n              <button\n                onClick={() =>\n                  setSavedFileContent((prev) => ({\n                    ...prev,\n                    textAreaValue: \"\",\n                  }))\n                }\n              >\n                清除\n              </button>\n            </div>\n          </>\n        ) : (\n          <div className=\"drag-zone\">\n            <Dropzone\n              onDrop={handleOnDrop}\n              onDragEnter={() => setIsDragOver(true)}\n              onDragLeave={() => setIsDragOver(false)}\n            >\n              {({ getRootProps, getInputProps }) => (\n                <section\n                  className={`drag-zone-section ${\n                    isDragOver ? \"dragover\" : \"\"\n                  }`}\n                  style={\n                    !isDragOver &&\n                    /已成功上傳，你可以點擊此處再次選擇檔案。$/.test(\n                      dragAreaMsg\n                    )\n                      ? { backgroundColor: \"lightgreen\" }\n                      : !isDragOver &&\n                        /^該XML檔的格式有誤無法讀取|不是XML檔，請選擇XML檔。$|不是XML檔，請選擇XML檔。$|具備完整的內容後再重新上傳。$/.test(\n                          dragAreaMsg\n                        )\n                      ? { backgroundColor: \"rgba(255,0,0,.7)\" }\n                      : {}\n                  }\n                  {...getRootProps()}\n                >\n                  <input {...getInputProps()} />\n                  <div>\n                    {XMLData.fileName !== \"\" &&\n                      !essentialData.isProcessing &&\n                      essentialData.missingData.length > 0 &&\n                      /具備完整的內容後再重新上傳。$/.test(dragAreaMsg) && (\n                        <div style={{ marginBottom: \"1em\", fontSize: \"1.2em\" }}>\n                          <p style={{ lineHeight: 1.6 }}>\n                            你的XML檔缺少以下資料:\n                          </p>\n                          <ul style={{ paddingLeft: \"1.8em\" }}>\n                            {essentialData.missingData.map((d) => (\n                              <li key={d}>{d}</li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n                    <p>{dragAreaMsg}</p>\n                  </div>\n                </section>\n              )}\n            </Dropzone>\n          </div>\n        )}\n        {!savedFileContent.isInEditingMode &&\n          /已成功上傳，你可以點擊此處再次選擇檔案。$/.test(dragAreaMsg) && (\n            <button\n              onClick={() =>\n                handleFileChange(XMLData.fileName.slice(6), XMLData.fileContent)\n              }\n            >\n              重新上傳\n            </button>\n          )}\n      </section>\n    </>\n  );\n};\n\nexport default Dashboard;\n","import React, { useContext } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\n\nconst DbResultPopup = ({ handleClose }) => {\n  const [{ dbResultMap }] = useContext(EssentialDataContextProvider);\n\n  return (\n    <div className=\"db-result-popup\">\n      <h4>資料庫搜尋結果</h4>\n      <div>\n        <ul>\n          <li>\n            <p>原始文字</p>\n            <p>請求項</p>\n            <p>資料庫搜尋結果</p>\n          </li>\n          {Object.entries(dbResultMap)\n            .map(([key, value]) => ({\n              origin: key,\n              claims: value.claims,\n              dbValue: value.dbValue\n            }))\n            .sort((a, b) => a.claims[0] - b.claims[0])\n            .map(({ origin, claims, dbValue }) => (\n              <li\n                key={origin}\n                style={\n                  dbValue === \"無結果\" ? { color: \"red\" } : { color: \"black\" }\n                }\n              >\n                <p>{origin}</p>\n                <p>{claims.join(\"、\")}</p>\n                <p>{dbValue}</p>\n              </li>\n            ))}\n        </ul>\n      </div>\n      <button onClick={() => handleClose(false)}>確認</button>\n    </div>\n  );\n};\n\nexport default DbResultPopup;\n","import React, { useContext, useState } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\n\nconst DescriptionOfDrawings = () => {\n  const [essentialData] = useContext(EssentialDataContextProvider);\n  const [isCollapse, setIsCollapse] = useState(false);\n\n  return (\n    <section>\n      <h2 onClick={() => setIsCollapse((prev) => !prev)}>\n        圖式簡單說明{isCollapse ? <span>✛</span> : <span>⤬</span>}\n      </h2>\n      <div className={`drawing-content ${isCollapse ? \"collapse\" : \"\"}`}>\n        {essentialData.isProcessing ? (\n          <h3>Processing...</h3>\n        ) : essentialData.allDrawings.length === 0 ? (\n          <h3>No Data passed in yet.</h3>\n        ) : essentialData.allDrawings.length === 1 &&\n          essentialData.allDrawings[0].fig === \"no figs\" ? (\n          <h2>無法分析圖式簡單說明的內容</h2>\n        ) : (\n          <>\n            <ul>\n              <li>\n                <span>圖號</span>\n                <span>說明</span>\n              </li>\n              {essentialData.allDrawings.map(\n                ({ fig, description, status }, index) =>\n                  status === \"duplicate\" ? (\n                    <li\n                      key={index}\n                      style={{\n                        backgroundColor: \"rgb(255,0,0)\",\n                        fontWeight: 700,\n                        border: \"2px #111 solid\"\n                      }}\n                    >\n                      <span>{fig.split(\"_duplicate_\")[0]}</span>\n                      <span>{description + \"(重複)\"}</span>\n                    </li>\n                  ) : (\n                    <li\n                      key={index}\n                      style={{ backgroundColor: \"rgb(147, 173, 100)\" }}\n                    >\n                      <span>{fig}</span>\n                      <span>{description}</span>\n                    </li>\n                  )\n              )}\n            </ul>\n          </>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default DescriptionOfDrawings;\n","export const allSymbolChar = `\\\\u03B1-\\\\u09B6θ'\"‘’‚“”„′″0-9a-z`;\n\nexport const keyReg = RegExp(\n  /^\\(?[\\u03B1-\\u09B6θθ0-9a-z]+['\"‘’‚“”„′″]{0,3}\\)?([,、]\\(?[\\u03B1-\\u09B6θθ0-9a-z]+['\"‘’‚“”„′″]{0,3}\\)?)*$|^\\(?[\\u03B1-\\u09B6θa-z0-9]+['\"‘’‚“”„′″]{0,3}\\)?(\\s*[-~～]?\\s*\\(?[\\u03B1-\\u09B6θa-z0-9]+['\"‘’‚“”„′″]{0,3}\\)?)?$/i\n);\n\nexport const keyWithRangeStart = RegExp(\n  /^\\(?[\\u03B1-\\u09B6θa-z0-9]+['\"‘’‚“”„′″]{0,3}\\)?(\\s*[-~～]?\\s*\\(?[\\u03B1-\\u09B6θa-z0-9]+['\"‘’‚“”„′″]{0,3}\\)?)?/i\n);\n\nexport const keyWithRangeEnd = RegExp(\n  /\\(?[\\u03B1-\\u09B6θa-z0-9]+['\"‘’‚“”„′″]{0,3}\\)?(\\s*[-~～]?\\s*\\(?[\\u03B1-\\u09B6θa-z0-9]+['\"‘’‚“”„′″]{0,3}\\)?)?$/i\n);\n\nexport const keyWithRangeBetween = RegExp(\n  /[\\u4E00-\\u9FFF]\\(?[\\u03B1-\\u09B6θa-z0-9]+['\"‘’‚“”„′″]{0,3}\\)?(\\s*[-~～]?\\s*\\(?[\\u03B1-\\u09B6θa-z0-9]+['\"‘’‚“”„′″]{0,3}\\)?)?/gi\n);\n\nexport const keyWithCommaStart = RegExp(\n  /^\\(?[\\u03B1-\\u09B6θθ0-9a-z]+['\"‘’‚“”„′″]{0,3}\\)?([,、]\\(?[\\u03B1-\\u09B6θθ0-9a-z]+['\"‘’‚“”„′″]{0,3}\\)?)*/i\n);\n\nexport const keyWithCommaEnd = RegExp(\n  /\\(?[\\u03B1-\\u09B6θθ0-9a-z]+['\"‘’‚“”„′″]{0,3}\\)?([,、]\\(?[\\u03B1-\\u09B6θθ0-9a-z]+['\"‘’‚“”„′″]{0,3}\\)?)*$/i\n);\n\nexport const keyWithCommaBetween = RegExp(\n  /[\\u4E00-\\u9FFF]\\(?[\\u03B1-\\u09B6θθ0-9a-z]+['\"‘’‚“”„′″]{0,3}\\)?([,、]\\(?[\\u03B1-\\u09B6θθ0-9a-z]+['\"‘’‚“”„′″]{0,3}\\)?)*/gi\n);\n\nexport const isKeyValid = (key) => keyReg.test(key);\n\nexport const isKeyStart = (key) =>\n  keyWithCommaStart.test(key) || keyWithRangeStart.test(key);\n\nexport const isKeyEnd = (key) =>\n  keyWithCommaEnd.test(key) || keyWithRangeEnd.test(key);\n\nexport const keyStartMatch = (key) => {\n  const commaMatch = key.match(keyWithCommaStart);\n  const rangeMatch = key.match(keyWithRangeStart);\n\n  if ((commaMatch || rangeMatch) === null) return null;\n  if (commaMatch && !rangeMatch) return commaMatch;\n  else if (!commaMatch && rangeMatch) return rangeMatch;\n  else\n    return commaMatch[0].length > rangeMatch[0].length\n      ? commaMatch\n      : rangeMatch;\n};\n\nexport const keyEndMatch = (key) => {\n  const commaMatch = key.match(keyWithCommaEnd);\n  const rangeMatch = key.match(keyWithRangeEnd);\n\n  if ((commaMatch || rangeMatch) === null) return null;\n  if (commaMatch && !rangeMatch) return commaMatch;\n  else if (!commaMatch && rangeMatch) return rangeMatch;\n  else\n    return commaMatch[0].length > rangeMatch[0].length\n      ? commaMatch\n      : rangeMatch;\n};\n\nexport const allKeyBetweenMatch = (paragraph) => {\n  const allCommaMatch = [...paragraph.matchAll(keyWithCommaBetween)];\n  const allRangeMatch = [...paragraph.matchAll(keyWithRangeBetween)];\n\n  /*return allCommaMatch.map((match, index) => {\n    let myMatch =\n      match[0].length > allRangeMatch[index][0].length\n        ? match\n        : allRangeMatch[index];\n    myMatch[0] = myMatch[0].slice(1);\n    myMatch.index++;\n    // [\"323、333\", undefined, index: 12, input: \"更優選的是，......]\n    return myMatch;\n  });*/\n\n  const allMatches = [...allCommaMatch, ...allRangeMatch].sort(\n    (a, b) => a.index - b.index\n  );\n  const finalMatches = [];\n\n  while (allMatches.length > 0) {\n    const tmp = allMatches.shift();\n    tmp[0] = tmp[0].slice(1);\n    tmp.index++;\n\n    if (\n      tmp.index >\n      (finalMatches[finalMatches.length - 1]?.index ?? -1) +\n        (finalMatches[finalMatches.length - 1]?.[0].length ?? 0)\n    ) {\n      finalMatches.push(tmp);\n      continue;\n    }\n\n    if (\n      tmp.index === (finalMatches[finalMatches.length - 1]?.index ?? -1) &&\n      tmp[0].length > (finalMatches[finalMatches.length - 1]?.[0].length ?? 0)\n    ) {\n      finalMatches[finalMatches.length - 1] = tmp;\n    }\n  }\n\n  return finalMatches;\n};\n","const word = [\"LED\", \"APP\", \"IC\", \"ID\", \"CPU\", \"USB\", \"ASIC\", \"FPGA\"];\n\nexport const reserveKey = word.map((w) => w.toUpperCase());\n","export const extractTableElement = (element) => {\n  if (element.type === \"text\" && element.value.length > 0) {\n    return element.value;\n  } else if (element.name === \"br\") {\n    return `<br/>`;\n  } else if (\n    (element.name === \"sub\" || element.name === \"sup\") &&\n    element.value === \"\" &&\n    element.children.length > 0 &&\n    element.children[0].value.length > 0\n  ) {\n    return element.children[0].value.replace(/[↵\\n]/g, \"\").trim();\n  } else if (element.children.length > 0) {\n    return (\n      `<${\n        element.name.toLowerCase() === \"table\"\n          ? 'table border=\"1\"'\n          : element.name\n      }>` +\n      element.children.map((child) => extractTableElement(child)).join(\"\") +\n      `</${element.name}>`\n    );\n  }\n  return \"\";\n};\n\nexport const extractTableElement_v2 = (element) => {\n  if (element.type === \"text\" && element.value.length > 0) {\n    return element.value.replace(/[↵\\n]/g, \"\").trim();\n  } else if (\n    (element.name === \"sub\" || element.name === \"sup\") &&\n    element.value === \"\" &&\n    element.children.length > 0 &&\n    element.children[0].value.length > 0\n  ) {\n    return element.children[0].value.replace(/[↵\\n]/g, \"\").trim();\n  } else if (element.children.length > 0) {\n    return element.children\n      .map((child) => extractTableElement_v2(child))\n      .join(\" \");\n  }\n  return \"\";\n};\n","import { isKeyValid, keyEndMatch, keyStartMatch } from \"../dict/keyRegs\";\nimport { reserveKey } from \"../dict/reserveKey\";\nimport { extractTableElement_v2 } from \"./extractTableElement\";\n\nexport const isChineseCharKey = (key) => {\n  if (key === \"\") return false;\n  for (let i = 0; i < key.length; i++) {\n    if (!/[一二三四五六七八九十]/.test(key[i])) return false;\n  }\n  return true;\n};\n\nexport const chineseCharKey2NumKey = (key) => {\n  const chinese2Num = (ch) => {\n    if (ch === \"\") return 0;\n    switch (ch) {\n      case \"十\":\n        return 0;\n      case \"一\":\n        return 1;\n      case \"二\":\n        return 2;\n      case \"三\":\n        return 3;\n      case \"四\":\n        return 4;\n      case \"五\":\n        return 5;\n      case \"六\":\n        return 6;\n      case \"七\":\n        return 7;\n      case \"八\":\n        return 8;\n      case \"九\":\n        return 9;\n      default:\n        return 0;\n    }\n  };\n\n  if (key === \"十\") return 10;\n  if (key.length === 2 && /^十[一二三四五六七八九]/.test(key))\n    return 10 + chinese2Num(key[1]);\n  if (key.length === 2 && /^[一二三四五六七八九]十/.test(key))\n    return 10 * chinese2Num(key[0]);\n  if (key.length === 3 && /^[一二三四五六七八九]十/.test(key))\n    return 10 * chinese2Num(key[0]) + chinese2Num(key[2]);\n\n  let keyNum = \"\";\n  for (let k of key) {\n    keyNum += chinese2Num(k);\n  }\n  return parseInt(keyNum);\n};\n\nexport const numKey2ChineseCharKey = (key) => {\n  const num2Chinese = (num) => {\n    if (num === \"\") return \"\";\n    switch (num) {\n      case \"0\":\n        return \"十\";\n      case \"1\":\n        return \"一\";\n      case \"2\":\n        return \"二\";\n      case \"3\":\n        return \"三\";\n      case \"4\":\n        return \"四\";\n      case \"5\":\n        return \"五\";\n      case \"6\":\n        return \"六\";\n      case \"7\":\n        return \"七\";\n      case \"8\":\n        return \"八\";\n      case \"9\":\n        return \"九\";\n      default:\n        return \"\";\n    }\n  };\n\n  if (key === 10) return \"十\";\n  if (key > 10 && key < 20) return \"十\" + num2Chinese(key - 10 + \"\");\n  if (key > 10 && key % 10 === 0) return num2Chinese(key / 10 + \"\") + \"十\";\n  if (key > 10 && key < 100)\n    return (\n      num2Chinese(Math.floor(key / 10) + \"\") +\n      \"十\" +\n      num2Chinese((key % 10) + \"\")\n    );\n\n  const strKey = key + \"\";\n  let keys = \"\";\n  for (let k of strKey) {\n    keys += num2Chinese(k);\n  }\n  return keys;\n};\n\nexport const getChineseKeyInRange = (\n  chineseCharBeginKey,\n  chineseCharEndKey\n) => {\n  const keyRange = [];\n  let beginKey = chineseCharKey2NumKey(chineseCharBeginKey);\n  let endKey = chineseCharKey2NumKey(chineseCharEndKey);\n\n  if (beginKey >= endKey) throw new Error(\"I don't understand\");\n\n  for (let i = beginKey; i <= endKey; i++) {\n    keyRange.push(numKey2ChineseCharKey(i));\n  }\n  return keyRange;\n};\n\nexport const getKeyInRange = (k, isFig = false) => {\n  k = k.trim();\n  let keyRange;\n  try {\n    keyRange = [];\n    let beginKey = k.split(/[-~～到至]/)[0].trim();\n    let endKey = k.split(/[-~～到至]/)[1].trim();\n\n    if (isFig && isChineseCharKey(beginKey) && isChineseCharKey(endKey)) {\n      return getChineseKeyInRange(beginKey, endKey);\n    }\n\n    let beginWithPlum = false;\n    let endWithPlum = false;\n    // e.g. S1'~S2'\n    if (/'$/.test(beginKey)) {\n      beginKey = beginKey.slice(0, beginKey.length - 1);\n      beginWithPlum = true;\n    }\n    if (/'$/.test(endKey)) {\n      endKey = endKey.slice(0, endKey.length - 1);\n      endWithPlum = true;\n    }\n    if (beginWithPlum !== endWithPlum) {\n      throw Error(\"I don't understand\");\n    }\n    if (checkAlphabetRangeCorrect(beginKey, endKey)) {\n      // e.g. A~D, a~d, 100A~100C\n      const startNum = beginKey.match(/^[0-9]*/)[0];\n      const beginAlphabetCharCode = beginKey.charCodeAt(beginKey.length - 1);\n      const endAlphabetCharCode = endKey.charCodeAt(beginKey.length - 1);\n      if (beginAlphabetCharCode >= endAlphabetCharCode) {\n        throw Error(\"I don't understand\");\n      }\n      for (let i = beginAlphabetCharCode; i <= endAlphabetCharCode; i++) {\n        keyRange.push(\n          startNum +\n            String.fromCharCode(i) +\n            (beginWithPlum && endWithPlum ? `'` : \"\")\n        );\n      }\n    } else {\n      // e.g. S1~S5\n      const beginIndex = parseInt(beginKey.match(/[0-9]+$/)[0]);\n      const endIndex = parseInt(endKey.match(/[0-9]+$/)[0]);\n      if (beginIndex >= endIndex) {\n        throw Error(\"It's just symbol\");\n      }\n      for (let i = beginIndex; i <= endIndex; i++) {\n        const replacement = i;\n        let reg = `${beginIndex}([^${beginIndex}]*)$`;\n        keyRange.push(\n          beginKey.replace(RegExp(reg), replacement + \"$1\") +\n            (beginWithPlum && endWithPlum ? `'` : \"\")\n        );\n      }\n    }\n  } catch (e) {\n    keyRange = [k];\n  }\n  return keyRange;\n};\n\nexport const checkAlphabetRangeCorrect = (beginKey, endKey) => {\n  // e.g. A~～D, a~～d, 100A~～100C\n  if (!/[0-9]*[a-z]+$/i.test(beginKey) || !/[0-9]*[a-z]+$/i.test(endKey)) {\n    return false;\n  }\n\n  // should have only one alphabet\n  if (\n    beginKey.match(/[a-z]+$/i)[0].length !== 1 ||\n    endKey.match(/[a-z]+$/i)[0].length !== 1\n  ) {\n    return false;\n  }\n\n  // the number part should be the same\n  if (\n    !(\n      beginKey.match(/^[0-9]*/)[0] === endKey.match(/^[0-9]*/)[0] ||\n      (beginKey.match(/^[0-9]*/)[0] !== \"\" && endKey.match(/^[0-9]*/)[0] === \"\")\n    )\n  ) {\n    return false;\n  }\n\n  // check if begin alphabet and end alphabet are all uppercase or lowercase\n  const beginAlphabet = beginKey.match(/[a-z]+$/i);\n  const endAlphabet = endKey.match(/[a-z]+$/i);\n  if (\n    (/[A-Z]/.test(beginAlphabet) && /[A-Z]/.test(endAlphabet)) ||\n    (/[a-z]/.test(beginAlphabet) && /[a-z]/.test(endAlphabet))\n  ) {\n    return true;\n  }\n  return false;\n};\n\nexport const modifyValue = (values) => {\n  return values\n    .split(\"/\")\n    .filter((value) => value !== \"\")\n    .map((value) => {\n      if (/^[、．·.‧\\-~～…:：]+/.test(value)) {\n        return value.slice(value.match(/^[、．·.‧\\-~～…:：]+/)[0].length);\n      }\n      if (/[、．·.‧\\-~～…:：]+$/.test(value)) {\n        return value.slice(0, value.match(/[、．·.‧\\-~～…:：]+$/).index);\n      }\n      return value;\n    })\n    .join(\"/\");\n};\n\nexport const lastTryToParseElements = (_element) => {\n  let element = _element.replaceAll(/([·.‧\\-…]{2,})/g, \" \");\n  let allKeysAndValues = element.split(/[\\s：:，.‧…]+/);\n\n  // console.log(element);\n  // console.log(allKeysAndValues);\n  // debugger;\n\n  // Test\n  // if (\n  //   element ===\n  //   \"(122a)防塵蓋                (20) 保溫裝置             (21) 充電電池\"\n  // ) {\n  //   console.log(element);\n  //   console.log(allKeysAndValues);\n  //   debugger;\n  // }\n\n  if (\n    allKeysAndValues.length === 1 &&\n    (keyStartMatch(element) || keyEndMatch(element))\n  ) {\n    if (keyStartMatch(element)) {\n      // const key = element.match(/^[θa-z0-9',、]+/i)[0];\n      const key = keyStartMatch(element)[0];\n      const value = modifyValue(element.slice(key.length));\n      return [{ key, value }];\n    } else {\n      // const key = element.match(/[θa-z0-9',、]+$/i)[0];\n      const key = keyEndMatch(element)[0];\n      const value = modifyValue(element.slice(0, element.length - key.length));\n      return [{ key, value }];\n    }\n  } else if (\n    allKeysAndValues.length === 2 &&\n    (allKeysAndValues[0].split(/[,、]/).every((kk) => isKeyValid(kk)) ||\n      allKeysAndValues[1].split(/[,、]/).every((kk) => isKeyValid(kk)))\n  ) {\n    // 步驟流程：S101-S118、S201-S207、S301-S309、S401-S407、S501-S504、S601-S607、S701-S707\n    if (allKeysAndValues[0].split(/[,、]/).every((kk) => isKeyValid(kk))) {\n      return allKeysAndValues[0]\n        .split(/[,、]/)\n        .map((kk) => ({ key: kk, value: allKeysAndValues[1] }));\n    } else {\n      return allKeysAndValues[1]\n        .split(/[,、]/)\n        .map((kk) => ({ key: kk, value: allKeysAndValues[0] }));\n    }\n  }\n\n  // else if (\n  //   allKeysAndValues.length % 2 === 1 ||\n  //   allKeysAndValues.length === 0\n  // ) {\n  //   throw Error(\"Fail to parse this one\");\n  // }\n\n  let allKeysAndValuePairs = [];\n\n  if (\n    allKeysAndValues.length % 2 === 0 &&\n    allKeysAndValues.filter((_, idx) => idx % 2 === 0).length > 0 &&\n    allKeysAndValues\n      .filter((_, idx) => idx % 2 === 0)\n      .every(\n        (el) =>\n          el.trim().length > 0 && isKeyValid(el.replaceAll(/[()]/g, \"\").trim())\n      )\n  ) {\n    allKeysAndValues.forEach((kk, idx) => {\n      if (idx % 2 === 0) {\n        allKeysAndValuePairs.push({\n          key: kk.replaceAll(/[()]/g, \"\").trim(),\n          value: modifyValue(allKeysAndValues[idx + 1])\n        });\n      }\n    });\n    return allKeysAndValuePairs;\n  } else if (\n    allKeysAndValues.length % 2 === 0 &&\n    allKeysAndValues.filter((_, idx) => idx % 2 === 1).length > 0 &&\n    allKeysAndValues\n      .filter((_, idx) => idx % 2 === 1)\n      .every(\n        (el) =>\n          el.trim().length > 0 && isKeyValid(el.replaceAll(/[()]/g, \"\").trim())\n      )\n  ) {\n    allKeysAndValues.forEach((kk, idx) => {\n      if (idx % 2 === 1) {\n        allKeysAndValuePairs.push({\n          key: kk.replaceAll(/[()]/g, \"\").trim(),\n          value: modifyValue(allKeysAndValues[idx - 1])\n        });\n      }\n    });\n    return allKeysAndValuePairs;\n  }\n\n  //replace(/[↵\\n]/g, \"\").trim()\n\n  if (\n    allKeysAndValues.every(\n      (ka) =>\n        keyStartMatch(ka.replace(/[↵\\n]/g, \"\").trim()) ||\n        keyEndMatch(ka.replace(/[↵\\n]/g, \"\").trim())\n    )\n  ) {\n    // 100元件  120連接器 (同一行沒有用空格隔開)\n    let newAllKeysAndValues = [];\n    allKeysAndValues.forEach((ka) => {\n      if (keyStartMatch(ka.replace(/[↵\\n]/g, \"\").trim())) {\n        const theEl = ka.replace(/[↵\\n]/g, \"\").trim();\n        // const key = theEl.match(/^[θa-z0-9',、]+/i)[0];\n        const key = keyStartMatch(theEl)[0];\n        const value = modifyValue(theEl.slice(key.length));\n        newAllKeysAndValues.push({ key, value });\n      } else {\n        const theEl = ka.replace(/[↵\\n]/g, \"\").trim();\n        // const key = theEl.match(/[θa-z0-9',、]+$/i)[0];\n        const key = keyEndMatch(theEl)[0];\n        const value = modifyValue(theEl.slice(0, theEl.length - key.length));\n        newAllKeysAndValues.push({ key, value });\n      }\n    });\n    return newAllKeysAndValues;\n  } else if (\n    (isKeyValid(allKeysAndValues[0].replace(/[↵\\n]/g, \"\").trim()) &&\n      !allKeysAndValues\n        .slice(1)\n        .some(\n          (ka) =>\n            isKeyValid(ka.replace(/[↵\\n]/g, \"\").trim()) ||\n            keyStartMatch(ka.replace(/[↵\\n]/g, \"\").trim()) ||\n            keyEndMatch(ka.replace(/[↵\\n]/g, \"\").trim())\n        )) ||\n    (isKeyValid(\n      allKeysAndValues[allKeysAndValues.length - 1].replace(/[↵\\n]/g, \"\").trim()\n    ) &&\n      !allKeysAndValues\n        .slice(0, -1)\n        .some(\n          (ka) =>\n            isKeyValid(ka.replace(/[↵\\n]/g, \"\").trim()) ||\n            keyStartMatch(ka.replace(/[↵\\n]/g, \"\").trim()) ||\n            keyEndMatch(ka.replace(/[↵\\n]/g, \"\").trim())\n        ))\n  ) {\n    // 1900：你好嗎，我很好 (元件有逗號)\n    if (\n      isKeyValid(allKeysAndValues[0].replace(/[↵\\n]/g, \"\").trim()) &&\n      !allKeysAndValues\n        .slice(1)\n        .some(\n          (ka) =>\n            isKeyValid(ka.replace(/[↵\\n]/g, \"\").trim()) ||\n            keyStartMatch(ka.replace(/[↵\\n]/g, \"\").trim()) ||\n            keyEndMatch(ka.replace(/[↵\\n]/g, \"\").trim())\n        )\n    ) {\n      const key = allKeysAndValues[0].replace(/[↵\\n]/g, \"\").trim();\n      const firstMatchDivider = element.match(/[\\s：:，.‧…]+/);\n      const value = element\n        .slice(firstMatchDivider.index + firstMatchDivider[0].length)\n        .trim();\n      return [{ key, value: modifyValue(value) }];\n    } else {\n      const key = allKeysAndValues[allKeysAndValues.length - 1]\n        .replace(/[↵\\n]/g, \"\")\n        .trim();\n      const lastMatchDivider = [...element.matchAll(/[\\s：:，.‧…]+/gi)].pop();\n      const value = element.slice(\n        0,\n        lastMatchDivider.index + lastMatchDivider[0].length\n      );\n      return [{ key, value: modifyValue(value) }];\n    }\n  } else if (\n    allKeysAndValues.some(\n      (ka) =>\n        isKeyValid(ka.replace(/[↵\\n]/g, \"\").trim()) ||\n        keyStartMatch(ka.replace(/[↵\\n]/g, \"\").trim()) ||\n        keyEndMatch(ka.replace(/[↵\\n]/g, \"\").trim())\n    )\n  ) {\n    // 2000：你好  2001我很好 (不規則，有的符號和元件有隔開有的沒有)\n    let copyAllKeysAndValues = allKeysAndValues.slice();\n    let tmpAllKeysAndValuesPairs = [];\n    while (copyAllKeysAndValues.length > 0) {\n      if (\n        isKeyValid(copyAllKeysAndValues[0]) &&\n        copyAllKeysAndValues[1] &&\n        !isKeyValid(copyAllKeysAndValues[1]) &&\n        !keyStartMatch(copyAllKeysAndValues[1]) &&\n        !keyEndMatch(copyAllKeysAndValues[1])\n      ) {\n        tmpAllKeysAndValuesPairs.push({\n          key: copyAllKeysAndValues.shift(),\n          value: copyAllKeysAndValues.shift()\n        });\n      } else if (\n        copyAllKeysAndValues[1] &&\n        isKeyValid(copyAllKeysAndValues[1]) &&\n        !isKeyValid(copyAllKeysAndValues[0]) &&\n        !keyStartMatch(copyAllKeysAndValues[0]) &&\n        !keyEndMatch(copyAllKeysAndValues[0])\n      ) {\n        tmpAllKeysAndValuesPairs.push({\n          value: copyAllKeysAndValues.shift(),\n          key: copyAllKeysAndValues.shift()\n        });\n      } else if (keyStartMatch(copyAllKeysAndValues[0])) {\n        const theEl = copyAllKeysAndValues.shift();\n        const key = keyStartMatch(theEl)[0];\n        const value = modifyValue(theEl.slice(key.length));\n        tmpAllKeysAndValuesPairs.push({ key, value });\n      } else if (keyEndMatch(copyAllKeysAndValues[0])) {\n        const theEl = copyAllKeysAndValues.shift();\n        const key = keyEndMatch(theEl)[0];\n        const value = modifyValue(theEl.slice(0, theEl.length - key.length));\n        tmpAllKeysAndValuesPairs.push({ key, value });\n      } else {\n        throw Error(\"Fail to parse this one\");\n      }\n    } // while\n    return tmpAllKeysAndValuesPairs;\n  }\n\n  throw Error(\"Fail to parse this one\");\n};\n\n// export const extractElement = (myElements, newElements) => {\n//   if (myElements && myElements.length === 0) {\n//     return newElements;\n//   }\n\n//   for (let i = 0; i < myElements.length; i++) {\n//     if (myElements[i].value === \"\" && myElements[i].children.length === 0) {\n//       continue;\n//     }\n\n//     if (myElements[i].type === \"text\" && myElements[i].value.length > 0) {\n//       newElements.push({\n//         num: newElements.length,\n//         el: myElements[i].value.replace(/[↵\\n]/g, \"\").trim()\n//       });\n//     } else if (\n//       myElements[i].children.find(\n//         (el) =>\n//           (el.name === \"sub\" || el.name === \"sup\") &&\n//           el.value === \"\" &&\n//           el.children.length > 0 &&\n//           el.children[0].value.length > 0\n//       ) &&\n//       myElements[i].children.find((el) => el.name === \"br\" && el.value === \"\")\n//     ) {\n//       const indexOfBr = myElements[i].children.reduce(\n//         (a, e, i) => {\n//           if (e.name === \"br\" && e.value === \"\") {\n//             a.push(i);\n//           }\n//           return a;\n//         },\n//         [-1]\n//       ); // ex [-1,5,10]\n\n//       const myElementsChildren = myElements[i].children;\n\n//       indexOfBr.forEach((el, index) => {\n//         const endIndex =\n//           indexOfBr[index + 1] !== undefined\n//             ? indexOfBr[index + 1]\n//             : myElementsChildren.length;\n\n//         const myElementsSection = myElementsChildren.slice(el + 1, endIndex);\n//         let newCombinedValue = \"\";\n//         myElementsSection.forEach((myEl) => {\n//           if (myEl.type === \"text\" && myEl.value.length > 0) {\n//             newCombinedValue += myEl.value.replace(/[↵\\n]/g, \"\");\n//           } else if (myEl.name === \"sub\" || myEl.name === \"sup\") {\n//             newCombinedValue += myEl.children[0].value.replace(/[↵\\n]/g, \"\").trim();\n//           }\n//         });\n//         newElements.push({\n//           num: newElements.length,\n//           el: newCombinedValue.replace(/[↵\\n]/g, \"\").trim()\n//         });\n//         // console.log(arrSection);\n//       });\n//     } else if (myElements[i].children.length > 0) {\n//       const oldElements = newElements.splice();\n//       const newAddedElements = extractElement(\n//         myElements[i].children,\n//         newElements\n//       );\n//       newElements = [...oldElements, ...newAddedElements];\n//     }\n//   } // for\n//   return newElements;\n// };\n\nexport const extractElement = (myElements) => {\n  // console.log(\"inside extractElement\");\n  // console.log(myElements);\n\n  // debugger;\n\n  if (myElements.type === \"text\" && myElements.value !== \"\") {\n    return [myElements.value.replaceAll(/[()]/g, \"\").trim()];\n  }\n\n  if (myElements.name === \"br\" && myElements.type === \"element\") {\n    return [\"##br##\"];\n  }\n\n  if (myElements.name === \"table\" && myElements.type === \"element\") {\n    return [extractTableElement_v2(myElements)];\n  }\n\n  let allElements = [];\n  let copyOfChildren = [...myElements.children];\n  while (copyOfChildren.length > 0) {\n    const child = copyOfChildren[0];\n    const nextChild = copyOfChildren[1];\n    const nextNextChild = copyOfChildren[2];\n\n    if (\n      child.type === \"text\" &&\n      child.value !== \"\" &&\n      nextChild &&\n      (nextChild.name === \"sup\" || nextChild.name === \"sub\") &&\n      nextChild.type === \"element\"\n    ) {\n      // if we have sth like A<sup>1</sup>\n      if (\n        nextNextChild &&\n        nextNextChild.type === \"text\" &&\n        nextNextChild.value !== \"\"\n      ) {\n        // Test\n        // console.log(copyOfChildren);\n        // debugger;\n\n        const eachChildResult = [\n          copyOfChildren.shift().value.replaceAll(/[()]/g, \"\").trim(),\n          ...extractElement(copyOfChildren.shift()),\n          copyOfChildren.shift().value.replaceAll(/[()]/g, \"\").trim()\n        ];\n        allElements.push(eachChildResult.join(\"\"));\n      } else {\n        const eachChildResult = [\n          copyOfChildren.shift().value.replaceAll(/[()]/g, \"\").trim(),\n          ...extractElement(copyOfChildren.shift())\n        ];\n        allElements.push(eachChildResult.join(\"\"));\n      }\n    } else {\n      const eachChildResult = extractElement(copyOfChildren.shift());\n      allElements.push(...eachChildResult);\n    }\n\n    // let eachChild = extractElement(child);\n    // allElements.push(eachChild.shift());\n\n    // while (eachChild.length > 0) {\n    //   allElements.push(\"##separat##\");\n    //   allElements.push(eachChild.shift());\n    // }\n    // allElements.push(...eachChild);\n  }\n\n  // return type [\"元件1\", \"元件2\", ...]\n  return allElements;\n};\n\nexport const extractElement_v2 = (element) => {\n  if (element.type === \"text\") {\n    return element.value.replace(/[↵\\n]/g, \"\").trim();\n  }\n\n  if (element.name === \"br\" && element.type === \"element\") {\n    return \"@##@\";\n  }\n\n  if (element.name === \"table\" && element.type === \"element\") {\n    return \"@##@\" + extractTableElement_v2(element);\n  }\n\n  let descriptionStr = \"\";\n  element.children.forEach((child) => {\n    if (child.name === \"p\" && child.type === \"element\") {\n      descriptionStr += \"@##@\" + extractElement_v2(child);\n    } else {\n      descriptionStr += extractElement_v2(child);\n    }\n  });\n  return descriptionStr;\n};\n\nexport const handleMultipleValues = (value) => {\n  // el.value.split(/[/,()（）]/).length === 1\n  //         ? [el.value]\n  //         : [\n  //             el.value,\n  //             ...el.value\n  //               .split(/[/,()（）]/)\n  //               .filter((value) => value.trim().length > 0)\n  //               .map((value) => value.trim())\n  //           ];\n  if (value.split(/[/,()（）]/).length === 1) {\n    return [value];\n  }\n\n  const values = [\n    value,\n    ...value\n      .split(/[/,()（）]/)\n      .filter((v) => v.trim().length > 0)\n      .map((v) => v.trim())\n  ];\n\n  // e.g. 通訊模組/傳輸模組/接收模組\n  if (\n    values.slice(1).every((v) => v.length === values[1].length) ||\n    values.slice(1).every((v) => v.slice(-1) === values[1].slice(-1))\n  ) {\n    return values;\n  }\n\n  // e.g. 通訊/傳輸/接收模組\n  if (\n    values.slice(1, -1).every((v) => v.length === values[1].length) &&\n    values\n      .slice(1, -1)\n      .every((v) => v.length < values[values.length - 1].length)\n  ) {\n    const rootWord = values[values.length - 1].slice(values[1].length);\n    return [\n      values[0],\n      ...values.slice(1, -1).map((v) => v + rootWord),\n      values[values.length - 1]\n    ];\n  }\n\n  return values;\n};\n\nexport const isKeyInReserve = (key) => {\n  // return true, 刪除該符號\n  // 符號是 APP, LED 等縮寫\n  if (reserveKey.includes(key.toUpperCase())) {\n    return true;\n  }\n  // 符號是英文單字 e.g. expansion card\n  if (!/[^a-zA-Z\\s_]/.test(key) && key.length >= 5) {\n    return true;\n  }\n\n  return false;\n};\n\nexport const getMapValues = (\n  descriptionOfElementMap,\n  figureOfDrawingsMap,\n  regExpsOriginValue\n) => {\n  const { key, from } = regExpsOriginValue;\n\n  if (from === \"d\") {\n    return descriptionOfElementMap[key];\n  }\n\n  if (from === \"t\") {\n    return figureOfDrawingsMap[key];\n  }\n\n  return null;\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport editIcon from \"../assets/img_386644.png\";\nimport deleteIcon from \"../assets/delete_icon.png\";\nimport { isKeyValid } from \"../dict/keyRegs\";\nimport { handleMultipleValues } from \"../utils/otherUtils\";\n\nconst DescriptionOfElement = ({ handleReInit }) => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const [isCollapse, setIsCollapse] = useState(false);\n  const [copyOfDescription, setCopyOfDescription] = useState({});\n  const [onEditingLists, setOnEdigintLists] = useState([]);\n  const [onAddingElement, setOnAddingElement] = useState(false);\n  const [addElementValue, setAddElementValue] = useState({\n    symbol: \"\",\n    elName: \"\"\n  });\n\n  const checkIfKeyDuplicate = () => {\n    const keyArr = Object.keys(copyOfDescription).map(\n      (mkey) => copyOfDescription[mkey].newKey || copyOfDescription[mkey].key\n    );\n    return (\n      keyArr.filter((item, index) => keyArr.indexOf(item) !== index).length > 0\n    );\n  };\n\n  const shouldRenderSaveBtn = () => {\n    if (\n      Object.keys(copyOfDescription).length === 0 ||\n      onEditingLists.length === 0\n    ) {\n      return false;\n    }\n    try {\n      if (\n        Object.keys(copyOfDescription).length ===\n          Object.keys(essentialData.descriptionOfElementMap).length &&\n        Object.keys(copyOfDescription)\n          .map((mkey) => copyOfDescription[mkey])\n          .filter((el) => el.status === \"new Added\").length === 0 &&\n        Object.keys(copyOfDescription)\n          .map((mkey) => copyOfDescription[mkey].newKey)\n          .every((nk) => nk === null) &&\n        Object.keys(copyOfDescription)\n          .map((mkey) => copyOfDescription[mkey].newValues)\n          .every((nv) => nv === null)\n      ) {\n        return false;\n      } else {\n        return true;\n      }\n    } catch (error) {\n      console.log(`error: ${error.message}`);\n      return false;\n    }\n  };\n\n  const handleAddElement = (symbol, elName) => {\n    if (!isKeyValid(symbol)) {\n      window.alert(`符號${symbol.trim()}不符合格式。`);\n      return;\n    }\n    if (\n      Object.keys(copyOfDescription)\n        .map((k) => copyOfDescription[k].newKey || copyOfDescription[k].key)\n        .includes(symbol)\n    ) {\n      window.alert(`符號${symbol}已經使用過了。`);\n      return;\n    }\n    setOnEdigintLists((prev) => [...prev, false]);\n    setCopyOfDescription((prev) => ({\n      ...prev,\n      [symbol]: {\n        values: handleMultipleValues(elName),\n        // elName.split(/[/,()（）]/).length === 1\n        //   ? [elName]\n        //   : [elName, ...elName.split(/[/,()（）]/).map((v) => v.trim())],\n        status: \"new Added\",\n        num: Object.keys(prev).length + 100000,\n        key: symbol,\n        newKey: null,\n        newValues: null\n      }\n    }));\n    setOnAddingElement(false);\n    setAddElementValue({ symbol: \"\", elName: \"\" });\n  };\n\n  const initCopyOfDescription = () =>\n    Object.keys(essentialData.descriptionOfElementMap).reduce(\n      (acc, cur, num) => ({\n        ...acc,\n        [cur]: {\n          ...essentialData.descriptionOfElementMap[cur],\n          num,\n          key: cur,\n          newKey: null,\n          newValues: null\n        }\n      }),\n      {}\n    );\n\n  const initOnEditingLists = () =>\n    Object.keys(essentialData.descriptionOfElementMap).map((_) => false);\n\n  // globalHighlightElement\n  const setGlobalHighlightElement = (id) => {\n    // console.log(id);\n    const prevGlobalHighlightElement = [\n      ...essentialData.globalHighlightElement\n    ];\n\n    if (prevGlobalHighlightElement.find((el) => el === id)) {\n      setEssentialData((prev) => ({\n        ...prev,\n        globalHighlightOn: prevGlobalHighlightElement.length !== 1,\n        globalHighlightElement: prevGlobalHighlightElement.filter(\n          (g) => g !== id\n        )\n      }));\n    } else {\n      setEssentialData((prev) => ({\n        ...prev,\n        globalHighlightOn: true,\n        globalHighlightElement: [...prevGlobalHighlightElement, id]\n      }));\n    }\n  };\n\n  useEffect(() => {\n    if (\n      !essentialData.isProcessing &&\n      Object.keys(essentialData.descriptionOfElementMap).length > 0 &&\n      !(\n        Object.keys(essentialData.descriptionOfElementMap).length === 1 &&\n        essentialData.descriptionOfElementMap.parse_failed\n      ) &&\n      JSON.stringify(copyOfDescription) !==\n        JSON.stringify(essentialData.descriptionOfElementMap)\n    ) {\n      setCopyOfDescription(initCopyOfDescription());\n      setOnEdigintLists(initOnEditingLists());\n    }\n  }, [essentialData]);\n\n  return (\n    <section>\n      <h2 onClick={() => setIsCollapse((prev) => !prev)}>\n        符號說明{isCollapse ? <span>✛</span> : <span>⤬</span>}\n      </h2>\n      <div className={`description-content ${isCollapse ? \"collapse\" : \"\"}`}>\n        {essentialData.isProcessing ? (\n          <h3>Processing...</h3>\n        ) : Object.keys(essentialData.descriptionOfElementMap).length === 0 ? (\n          <h3>No Data passed in yet.</h3>\n        ) : Object.keys(essentialData.descriptionOfElementMap).length === 1 &&\n          essentialData.descriptionOfElementMap.parse_failed ? (\n          <h2>無法分析符號說明的內容</h2>\n        ) : (\n          Object.keys(copyOfDescription).length > 0 &&\n          onEditingLists.length > 0 && (\n            <>\n              <ul>\n                <li>\n                  <span>符號</span>\n                  <span>元件名稱</span>\n                  <span>\n                    <img\n                      src={editIcon}\n                      alt=\"\"\n                      style={{ visibility: \"hidden\" }}\n                    />\n                    <img\n                      src={deleteIcon}\n                      alt=\"\"\n                      style={{ visibility: \"hidden\" }}\n                    />\n                  </span>\n                  <span>狀態</span>\n                </li>\n                {Object.keys(copyOfDescription)\n                  .map((key) => copyOfDescription[key])\n                  .sort((a, b) => a.num - b.num)\n                  .map(\n                    (\n                      { key, id, status, newKey, values, newValues, isUsed },\n                      index\n                    ) => {\n                      const liColorId = id;\n                      const liColor =\n                        (essentialData.elementColorMap[liColorId] &&\n                          essentialData.elementColorMap[liColorId].color) ||\n                        \"hotpink\";\n                      const liStyle =\n                        (newKey !== null || newValues !== null) &&\n                        status !== \"new Added\"\n                          ? { backgroundColor: \"hotpink\" }\n                          : status === \"key duplicate\"\n                          ? {\n                              backgroundColor: \"rgb(255,0,0)\",\n                              fontWeight: 700,\n                              border: \"2px #111 solid\"\n                            }\n                          : status === \"element inconsistent\"\n                          ? {\n                              backgroundColor: liColor,\n                              border: \"3px rgb(255,0,0) solid\",\n                              color: \"rgb(255,0,0)\",\n                              fontWeight: \"bold\",\n                              boxShadow: \"none\",\n                              textShadow: \"2px 2px 1px black\"\n                            }\n                          : {\n                              // backgroundColor: liColor\n                              backgroundColor: !essentialData.globalHighlightOn\n                                ? \"transparent\"\n                                : essentialData.globalHighlightElement\n                                    .length === 0 ||\n                                  essentialData.globalHighlightElement.find(\n                                    (el) => el === id\n                                  )\n                                ? liColor\n                                : \"transparent\"\n                            };\n                      return (\n                        <li key={key} style={liStyle}>\n                          {onEditingLists[index] ? (\n                            <span>\n                              <input\n                                type=\"text\"\n                                value={newKey || key}\n                                onChange={(e) =>\n                                  setCopyOfDescription((prev) => ({\n                                    ...prev,\n                                    [key]: {\n                                      ...prev[key],\n                                      newKey:\n                                        e.target.value === key\n                                          ? null\n                                          : e.target.value\n                                    }\n                                  }))\n                                }\n                              />\n                            </span>\n                          ) : (\n                            <span onClick={() => setGlobalHighlightElement(id)}>\n                              {newKey ||\n                                (/duplicate/.test(key)\n                                  ? key.replace(/_duplicate_[0-9]*/, \"\")\n                                  : key)}\n                            </span>\n                          )}\n                          {onEditingLists[index] ? (\n                            <span>\n                              <input\n                                type=\"text\"\n                                value={(newValues || values)[0]}\n                                onChange={(e) =>\n                                  setCopyOfDescription((prev) => ({\n                                    ...prev,\n                                    [key]: {\n                                      ...prev[key],\n                                      newValues:\n                                        values[0] === e.target.value\n                                          ? null\n                                          : handleMultipleValues(\n                                              e.target.value\n                                            ) /* e.target.value.split(/[/,()（）]/)\n                                              .length === 1\n                                          ? [e.target.value]\n                                          : [\n                                              e.target.value,\n                                              ...e.target.value\n                                                .split(/[/,()（）]/)\n                                                .map((v) => v.trim())\n                                            ] */\n                                    }\n                                  }))\n                                }\n                              />\n                            </span>\n                          ) : (\n                            <span onClick={() => setGlobalHighlightElement(id)}>\n                              {(newValues || values)[0]}\n                            </span>\n                          )}\n                          <span>\n                            <img\n                              src={editIcon}\n                              alt=\"edit\"\n                              onClick={() => {\n                                if (\n                                  onEditingLists[index] &&\n                                  copyOfDescription[key].newKey &&\n                                  /[^θ,、'-~a-z0-9\\s]/i.test(\n                                    copyOfDescription[key].newKey\n                                  )\n                                ) {\n                                  window.alert(\n                                    `符號${copyOfDescription[key].newKey}不符合格式。`\n                                  );\n                                  return;\n                                }\n                                if (\n                                  onEditingLists[index] &&\n                                  copyOfDescription[key].newKey &&\n                                  checkIfKeyDuplicate()\n                                ) {\n                                  window.alert(\n                                    `該符號${copyOfDescription[key].newKey}已經使用過了。`\n                                  );\n                                  return;\n                                }\n                                setOnEdigintLists((prev) =>\n                                  prev.map((p, prevIdx) =>\n                                    prevIdx === index ? !p : p\n                                  )\n                                );\n                              }}\n                            />\n                            <img\n                              src={deleteIcon}\n                              alt=\"delete\"\n                              onClick={() => {\n                                setOnEdigintLists((prev) =>\n                                  prev.filter((_, li) => index !== li)\n                                );\n                                setCopyOfDescription((prev) =>\n                                  Object.keys(prev).reduce((acc, cur) => {\n                                    if (cur !== key) {\n                                      acc[cur] = prev[cur];\n                                    }\n                                    return acc;\n                                  }, {})\n                                );\n                              }}\n                            />\n                          </span>\n                          <span>\n                            {(newKey !== null || newValues !== null) &&\n                            status !== \"new Added\"\n                              ? \"已修正\"\n                              : status\n                              ? status === \"key duplicate\"\n                                ? \"符號重複\"\n                                : status === \"new Added\"\n                                ? \"新增元件\"\n                                : \"與主要代表圖元件名稱不一致\"\n                              : isUsed\n                              ? \"已被主要代表圖使用\"\n                              : \"未被主要代表圖使用\"}\n                          </span>\n                        </li>\n                      );\n                    }\n                  )}\n              </ul>\n              {onAddingElement && (\n                <p>\n                  <label htmlFor=\"add-symbol\">符號: </label>\n                  <input\n                    type=\"text\"\n                    id=\"add-symbol\"\n                    style={{ width: 100, height: 22 }}\n                    value={addElementValue.symbol}\n                    onChange={(e) =>\n                      setAddElementValue((prev) => ({\n                        ...prev,\n                        symbol: e.target.value\n                      }))\n                    }\n                  />\n                  <br />\n                  <label htmlFor=\"add-element\">元件名稱: </label>\n                  <input\n                    type=\"text\"\n                    id=\"add-element\"\n                    style={{ marginRight: \".2em\", height: 22, minWidth: 190 }}\n                    value={addElementValue.elName}\n                    onChange={(e) =>\n                      setAddElementValue((prev) => ({\n                        ...prev,\n                        elName: e.target.value\n                      }))\n                    }\n                  />\n                  <button\n                    disabled={\n                      !(\n                        addElementValue.symbol !== \"\" &&\n                        addElementValue.elName !== \"\"\n                      )\n                    }\n                    style={{ fontSize: \"1.06em\", transform: \"translateY(2px)\" }}\n                    onClick={() =>\n                      handleAddElement(\n                        addElementValue.symbol.trim(),\n                        addElementValue.elName.trim()\n                      )\n                    }\n                  >\n                    確認\n                  </button>\n                </p>\n              )}\n              <div>\n                {(!essentialData.globalHighlightOn ||\n                  essentialData.globalHighlightElement.length > 0) && (\n                  <button\n                    className=\"toggle-color\"\n                    onClick={() =>\n                      setEssentialData((prev) => ({\n                        ...prev,\n                        globalHighlightOn: true,\n                        globalHighlightElement: []\n                      }))\n                    }\n                  >\n                    開啟標註\n                  </button>\n                )}\n                {essentialData.globalHighlightOn &&\n                  essentialData.globalHighlightElement.length === 0 && (\n                    <button\n                      className=\"toggle-color\"\n                      onClick={() =>\n                        setEssentialData((prev) => ({\n                          ...prev,\n                          globalHighlightOn: false\n                        }))\n                      }\n                    >\n                      關閉標註\n                    </button>\n                  )}\n\n                <button onClick={() => setOnAddingElement((prev) => !prev)}>\n                  {onAddingElement ? \"取消\" : \"新增\"}\n                </button>\n                {shouldRenderSaveBtn() && (\n                  <>\n                    <button\n                      onClick={async () => {\n                        if (checkIfKeyDuplicate()) {\n                          window.alert(`有符號重複，請檢查後再按儲存。`);\n                          return;\n                        }\n                        await handleReInit(essentialData, setEssentialData, {\n                          method: \"description-of-element\",\n                          data: Object.keys(copyOfDescription)\n                            .map((cur) => {\n                              const curEl = copyOfDescription[cur];\n                              const _value = (curEl.newValues ||\n                                curEl.values)[0];\n                              let _key = curEl.newKey || curEl.key;\n                              if (_key.indexOf(\"_duplicate\") >= 1) {\n                                _key = _key.slice(\n                                  0,\n                                  _key.indexOf(\"_duplicate\")\n                                );\n                              }\n                              return {\n                                num:\n                                  curEl.num >= 100000\n                                    ? curEl.num - 100000\n                                    : curEl.num,\n                                el: `${_key} ${_value}`\n                              };\n                            })\n                            .concat(essentialData.failedDescriptionOfElementMap)\n                        });\n                        setOnAddingElement(false);\n                        setAddElementValue({ symbol: \"\", elName: \"\" });\n                      }}\n                    >\n                      儲存\n                    </button>\n                    <button\n                      onClick={() => {\n                        setOnAddingElement(false);\n                        setAddElementValue({ symbol: \"\", elName: \"\" });\n                        setOnEdigintLists(initOnEditingLists());\n                        setCopyOfDescription(initCopyOfDescription());\n                      }}\n                    >\n                      還原\n                    </button>\n                  </>\n                )}\n              </div>\n            </>\n          )\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default DescriptionOfElement;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport deleteIcon from \"../assets/delete_icon.png\";\nimport editIcon from \"../assets/img_386644.png\";\nimport { isKeyValid } from \"../dict/keyRegs\";\n\n/*\n    failedDescriptionOfElementMap: [],\n    failedFigureOfDrawingsMap: [],\n*/\n\nconst FailedElements = ({ handleReInit }) => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const {\n    isProcessing,\n    descriptionOfElementMap,\n    figureOfDrawingsMap,\n    failedDescriptionOfElementMap,\n    failedFigureOfDrawingsMap\n  } = essentialData;\n  const [isDescriptionCollapse, setIsDescriptionCollapse] = useState(false);\n  const [isDrawingCollapse, setIsDrawingCollapse] = useState(false);\n  const [copyFailedDescription, setCopyFailedDescription] = useState([]);\n  const [copyFailedFigure, setCopyFailedFigure] = useState([]);\n  const [descriptionEditList, setDescriptionEditList] = useState([]);\n  const [figureEditList, setFigureEditList] = useState([]);\n\n  const handleDeleteFailedElement = (type, num) => {\n    if (type === \"description\") {\n      setCopyFailedDescription((prev) => prev.filter((el) => el.num !== num));\n    } else {\n      setCopyFailedFigure((prev) => prev.filter((el) => el.num !== num));\n    }\n  };\n\n  const parseNewElement = (_el) => {\n    const el = _el.trim();\n    if (el.split(\" \").length !== 2) {\n      return {\n        symbol: \"無法分析\",\n        value: \"無法分析\"\n      };\n    } else {\n      if (isKeyValid(el.split(\" \")[0].trim())) {\n        return {\n          symbol: el.split(\" \")[0],\n          value: el.split(\" \")[1]\n        };\n      } else if (isKeyValid(el.split(\" \")[1].trim())) {\n        return {\n          symbol: el.split(\" \")[1],\n          value: el.split(\" \")[0]\n        };\n      }\n      return {\n        symbol: \"無法分析\",\n        value: \"無法分析\"\n      };\n    }\n  };\n\n  useEffect(() => {\n    if (\n      !isProcessing &&\n      failedDescriptionOfElementMap.length > 0 &&\n      JSON.stringify(failedDescriptionOfElementMap) !==\n        JSON.stringify(copyFailedDescription)\n    ) {\n      setCopyFailedDescription(failedDescriptionOfElementMap.slice());\n      setDescriptionEditList(\n        failedDescriptionOfElementMap.map((e) => ({\n          isEditing: false,\n          value: e.el\n        }))\n      );\n    }\n    if (\n      !isProcessing &&\n      failedFigureOfDrawingsMap.length > 0 &&\n      JSON.stringify(failedFigureOfDrawingsMap) !==\n        JSON.stringify(copyFailedFigure)\n    ) {\n      setCopyFailedFigure(failedFigureOfDrawingsMap.slice());\n      setFigureEditList(\n        failedFigureOfDrawingsMap.map((e) => ({\n          isEditing: false,\n          value: e.el\n        }))\n      );\n    }\n  }, [isProcessing, failedDescriptionOfElementMap, failedFigureOfDrawingsMap]);\n\n  return (\n    <>\n      {!isProcessing && failedDescriptionOfElementMap.length > 0 && (\n        <section className=\"fail\">\n          <h2 onClick={() => setIsDescriptionCollapse((prev) => !prev)}>\n            無法判別的符號說明\n            {isDescriptionCollapse ? <span>✛</span> : <span>⤬</span>}\n          </h2>\n          <div\n            className={`failed-description-content ${\n              isDescriptionCollapse ? \"collapse\" : \"\"\n            }`}\n          >\n            <>\n              {copyFailedDescription.length > 0 && (\n                <ul>\n                  {copyFailedDescription.map(({ num, el }, idx) => (\n                    <li\n                      key={idx}\n                      style={{\n                        backgroundColor:\n                          failedDescriptionOfElementMap[idx].el !== el\n                            ? \"hotpink\"\n                            : \"red\"\n                      }}\n                    >\n                      <span\n                        style={{\n                          paddingLeft: 12,\n                          display: \"flex\",\n                          alignItems: \"center\"\n                        }}\n                      >\n                        {\" \"}\n                        {num >= 0 ? `第${num + 1}行:` : \"未知行數:\"}\n                        {failedDescriptionOfElementMap[idx].el !== el &&\n                          \"\\n(已修正)\"}\n                      </span>\n                      <span\n                        style={{\n                          padding: \"0 3px\",\n                          display: \"flex\",\n                          alignItems: \"center\"\n                        }}\n                      >\n                        {\" \"}\n                        {el}\n                      </span>\n                      <span\n                        style={{\n                          paddingRight: 9,\n                          display: \"flex\",\n                          alignItems: \"center\"\n                        }}\n                      >\n                        <img\n                          style={{\n                            marginRight: 2,\n                            width: 16,\n                            height: 20,\n                            cursor: \"pointer\"\n                          }}\n                          src={editIcon}\n                          alt=\"edit\"\n                          onClick={() =>\n                            setDescriptionEditList((prev) =>\n                              prev.map((p, _ii) => {\n                                if (_ii === idx) {\n                                  return { ...p, isEditing: !p.isEditing };\n                                }\n                                return p;\n                              })\n                            )\n                          }\n                        />\n                        <img\n                          style={{ width: 19, height: 20, cursor: \"pointer\" }}\n                          src={deleteIcon}\n                          alt=\"delete\"\n                          onClick={() =>\n                            handleDeleteFailedElement(\"description\", num)\n                          }\n                        />\n                      </span>\n                      {descriptionEditList[idx] &&\n                        descriptionEditList[idx].isEditing && (\n                          <>\n                            <div>\n                              <p>請以「空白格」將符號與元件分開</p>\n                              <div>\n                                <input\n                                  type=\"text\"\n                                  value={descriptionEditList[idx].value}\n                                  onChange={(e) =>\n                                    setDescriptionEditList((prev) =>\n                                      prev.map((p, _ii) => {\n                                        if (idx === _ii) {\n                                          return {\n                                            ...p,\n                                            value: e.target.value\n                                          };\n                                        }\n                                        return p;\n                                      })\n                                    )\n                                  }\n                                />\n                                <br />\n                                <span>\n                                  新符號:{\" \"}\n                                  {\n                                    parseNewElement(\n                                      descriptionEditList[idx].value.trim()\n                                    ).symbol\n                                  }\n                                </span>\n                                <br />\n                                <span>\n                                  新元件:{\" \"}\n                                  {\n                                    parseNewElement(\n                                      descriptionEditList[idx].value.trim()\n                                    ).value\n                                  }\n                                </span>\n                                <br />\n                                <button\n                                  onClick={() => {\n                                    setCopyFailedDescription((prev) =>\n                                      prev.map((p, _ii) => {\n                                        if (idx === _ii) {\n                                          return {\n                                            ...p,\n                                            el: descriptionEditList[idx].value\n                                          };\n                                        }\n                                        return p;\n                                      })\n                                    );\n                                    setDescriptionEditList((prev) =>\n                                      prev.map((p, _ii) => {\n                                        if (idx === _ii) {\n                                          return { ...p, isEditing: false };\n                                        }\n                                        return p;\n                                      })\n                                    );\n                                  }}\n                                >\n                                  確認\n                                </button>\n                                <button\n                                  style={{ marginLeft: 10 }}\n                                  onClick={() => {\n                                    setDescriptionEditList((prev) =>\n                                      prev.map((p, _ii) => {\n                                        if (idx === _ii) {\n                                          return {\n                                            value:\n                                              descriptionEditList[idx].value,\n                                            isEditing: false\n                                          };\n                                        }\n                                        return p;\n                                      })\n                                    );\n                                  }}\n                                >\n                                  取消\n                                </button>\n                              </div>\n                            </div>\n                          </>\n                        )}\n                    </li>\n                  ))}\n                </ul>\n              )}\n              {JSON.stringify(copyFailedDescription) !==\n                JSON.stringify(failedDescriptionOfElementMap) && (\n                <div>\n                  <button\n                    onClick={async () => {\n                      await handleReInit(essentialData, setEssentialData, {\n                        method: \"description-of-element\",\n                        data: Object.keys(descriptionOfElementMap)\n                          .map((cur, _iii) => {\n                            const curEl = descriptionOfElementMap[cur];\n                            const _value = curEl.values[0];\n                            let _key = cur;\n                            if (_key.indexOf(\"_duplicate\") >= 1) {\n                              _key = _key.slice(0, _key.indexOf(\"_duplicate\"));\n                            }\n                            return {\n                              num: _iii,\n                              el: `${_key} ${_value}`\n                            };\n                          })\n                          .concat(copyFailedDescription)\n                      });\n                      setCopyFailedDescription([]);\n                      setDescriptionEditList([]);\n                    }}\n                  >\n                    儲存\n                  </button>\n                  <button\n                    onClick={() => {\n                      setCopyFailedDescription(\n                        failedDescriptionOfElementMap.slice()\n                      );\n                      setDescriptionEditList(\n                        failedFigureOfDrawingsMap.map((e) => ({\n                          isEditing: false,\n                          value: e.el\n                        }))\n                      );\n                    }}\n                  >\n                    還原\n                  </button>\n                </div>\n              )}\n            </>\n          </div>\n        </section>\n      )}\n      {!isProcessing && failedFigureOfDrawingsMap.length > 0 && (\n        <section>\n          <h2 onClick={() => setIsDrawingCollapse((prev) => !prev)}>\n            無法判別的\n            <br />\n            代表圖之符號簡單說明\n            {isDrawingCollapse ? <span>✛</span> : <span>⤬</span>}\n          </h2>\n          <div\n            className={`failed-figure-content ${\n              isDrawingCollapse ? \"collapse\" : \"\"\n            }`}\n          >\n            <>\n              {copyFailedFigure.length > 0 && (\n                <ul>\n                  {copyFailedFigure.map(({ num, el }, idx) => (\n                    <li\n                      key={idx}\n                      style={{\n                        backgroundColor:\n                          failedFigureOfDrawingsMap[idx].el !== el\n                            ? \"hotpink\"\n                            : \"red\"\n                      }}\n                    >\n                      <span\n                        style={{\n                          paddingLeft: 12,\n                          display: \"flex\",\n                          alignItems: \"center\"\n                        }}\n                      >\n                        {\" \"}\n                        {num >= 0 ? `第${num + 1}行:` : \"未知行數:\"}\n                        {failedFigureOfDrawingsMap[idx].el !== el &&\n                          \"\\n(已修正)\"}\n                      </span>\n                      <span\n                        style={{\n                          padding: \"0 3px\",\n                          display: \"flex\",\n                          alignItems: \"center\"\n                        }}\n                      >\n                        {el}\n                      </span>\n                      <span\n                        style={{\n                          paddingRight: 9,\n                          display: \"flex\",\n                          alignItems: \"center\"\n                        }}\n                      >\n                        <img\n                          style={{\n                            marginRight: 2,\n                            width: 16,\n                            height: 20,\n                            cursor: \"pointer\"\n                          }}\n                          src={editIcon}\n                          alt=\"edit\"\n                          onClick={() =>\n                            setFigureEditList((prev) =>\n                              prev.map((p, _ii) => {\n                                if (_ii === idx) {\n                                  return { ...p, isEditing: !p.isEditing };\n                                }\n                                return p;\n                              })\n                            )\n                          }\n                        />\n                        <img\n                          style={{ width: 19, height: 20, cursor: \"pointer\" }}\n                          src={deleteIcon}\n                          alt=\"delete\"\n                          onClick={() =>\n                            handleDeleteFailedElement(\"figure\", num)\n                          }\n                        />\n                      </span>\n                      {figureEditList[idx] && figureEditList[idx].isEditing && (\n                        <>\n                          <div>\n                            <p>請以「空白格」將符號與元件分開</p>\n                            <div>\n                              <input\n                                type=\"text\"\n                                value={figureEditList[idx].value}\n                                onChange={(e) =>\n                                  setFigureEditList((prev) =>\n                                    prev.map((p, _ii) => {\n                                      if (idx === _ii) {\n                                        return {\n                                          ...p,\n                                          value: e.target.value\n                                        };\n                                      }\n                                      return p;\n                                    })\n                                  )\n                                }\n                              />\n                              <br />\n                              <span>\n                                新符號:{\" \"}\n                                {\n                                  parseNewElement(\n                                    figureEditList[idx].value.trim()\n                                  ).symbol\n                                }\n                              </span>\n                              <br />\n                              <span>\n                                新元件:{\" \"}\n                                {\n                                  parseNewElement(\n                                    figureEditList[idx].value.trim()\n                                  ).value\n                                }\n                              </span>\n                              <br />\n                              <button\n                                onClick={() => {\n                                  setCopyFailedFigure((prev) =>\n                                    prev.map((p, _ii) => {\n                                      if (idx === _ii) {\n                                        return {\n                                          ...p,\n                                          el: figureEditList[idx].value\n                                        };\n                                      }\n                                      return p;\n                                    })\n                                  );\n                                  setFigureEditList((prev) =>\n                                    prev.map((p, _ii) => {\n                                      if (idx === _ii) {\n                                        return { ...p, isEditing: false };\n                                      }\n                                      return p;\n                                    })\n                                  );\n                                }}\n                              >\n                                確認\n                              </button>\n                              <button\n                                style={{ marginLeft: 10 }}\n                                onClick={() => {\n                                  setFigureEditList((prev) =>\n                                    prev.map((p, _ii) => {\n                                      if (idx === _ii) {\n                                        return {\n                                          value: figureEditList[idx].value,\n                                          isEditing: false\n                                        };\n                                      }\n                                      return p;\n                                    })\n                                  );\n                                }}\n                              >\n                                取消\n                              </button>\n                            </div>\n                          </div>\n                        </>\n                      )}\n                    </li>\n                  ))}\n                </ul>\n              )}\n              {JSON.stringify(copyFailedFigure) !==\n                JSON.stringify(failedFigureOfDrawingsMap) && (\n                <div>\n                  <button\n                    onClick={async () => {\n                      // Test\n                      // console.log(\n                      //   Object.keys(figureOfDrawingsMap)\n                      //     .map((cur, _iii) => {\n                      //       const curEl = figureOfDrawingsMap[cur];\n                      //       const _value = curEl.values[0];\n                      //       let _key = cur;\n                      //       if (_key.indexOf(\"_duplicate\") >= 1) {\n                      //         _key = _key.slice(0, _key.indexOf(\"_duplicate\"));\n                      //       }\n                      //       return {\n                      //         num: _iii,\n                      //         el: `${_key} ${_value}`\n                      //       };\n                      //     })\n                      //     .concat(copyFailedFigure)\n                      // );\n                      // debugger;\n                      // Test\n                      await handleReInit(essentialData, setEssentialData, {\n                        method: \"figure-drawings\",\n                        data: Object.keys(figureOfDrawingsMap)\n                          .map((cur, _iii) => {\n                            const curEl = figureOfDrawingsMap[cur];\n                            const _value = curEl.values[0];\n                            let _key = cur;\n                            if (_key.indexOf(\"_duplicate\") >= 1) {\n                              _key = _key.slice(0, _key.indexOf(\"_duplicate\"));\n                            }\n                            return {\n                              num: _iii,\n                              el: `${_key} ${_value}`\n                            };\n                          })\n                          .concat(copyFailedFigure)\n                      });\n                      setCopyFailedFigure([]);\n                      setFigureEditList([]);\n                    }}\n                  >\n                    儲存\n                  </button>\n                  <button\n                    onClick={() => {\n                      setCopyFailedFigure(failedFigureOfDrawingsMap.slice());\n                      setFigureEditList(\n                        failedFigureOfDrawingsMap.map((e) => ({\n                          isEditing: false,\n                          value: e.el\n                        }))\n                      );\n                    }}\n                  >\n                    還原\n                  </button>\n                </div>\n              )}\n            </>\n          </div>\n        </section>\n      )}\n    </>\n  );\n};\n\nexport default FailedElements;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport editIcon from \"../assets/img_386644.png\";\nimport deleteIcon from \"../assets/delete_icon.png\";\nimport { isKeyValid } from \"../dict/keyRegs\";\nimport { handleMultipleValues } from \"../utils/otherUtils\";\nimport { XMLContextProvider } from \"../contexts/XMLContext\";\n\nconst FigureOfDrawings = ({ handleReInit }) => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const [XMLData] = useContext(XMLContextProvider);\n  const [isCollapse, setIsCollapse] = useState(false);\n  const [copyOfFigure, setCopyOfFigure] = useState({});\n  const [onEditingLists, setOnEdigintLists] = useState([]);\n  const [onAddingElement, setOnAddingElement] = useState(false);\n  const [addElementValue, setAddElementValue] = useState({\n    symbol: \"\",\n    elName: \"\",\n  });\n\n  const checkIfKeyDuplicate = () => {\n    const keyArr = Object.keys(copyOfFigure).map(\n      (mkey) => copyOfFigure[mkey].newKey || copyOfFigure[mkey].key\n    );\n    return (\n      keyArr.filter((item, index) => keyArr.indexOf(item) !== index).length > 0\n    );\n  };\n\n  const parseStatus = (status) => {\n    if (status === \"Ok\" || status === \"new Added\") {\n      return status;\n    } else if (status === \"element inconsistent\") {\n      return \"與符號說明元件名稱不一致\";\n    } else if (status === \"key duplicate\") {\n      return \"符號重複\";\n    } else if (status === \"Not in description of element\") {\n      return \"元件不在符號說明中\";\n    } else {\n      return status;\n    }\n  };\n\n  const shouldRenderSaveBtn = () => {\n    if (Object.keys(copyOfFigure).length === 0 || onEditingLists.length === 0) {\n      return false;\n    }\n    try {\n      if (\n        Object.keys(copyOfFigure).length ===\n          Object.keys(essentialData.figureOfDrawingsMap).length &&\n        Object.keys(copyOfFigure)\n          .map((mkey) => copyOfFigure[mkey])\n          .filter((el) => el.status === \"new Added\").length === 0 &&\n        Object.keys(copyOfFigure)\n          .map((mkey) => copyOfFigure[mkey].newKey)\n          .every((nk) => nk === null) &&\n        Object.keys(copyOfFigure)\n          .map((mkey) => copyOfFigure[mkey].newValues)\n          .every((nv) => nv === null)\n      ) {\n        return false;\n      } else {\n        return true;\n      }\n    } catch (error) {\n      console.log(`error: ${error.message}`);\n      return false;\n    }\n  };\n\n  const handleAddElement = (symbol, elName) => {\n    if (!isKeyValid(symbol.trim())) {\n      window.alert(`符號${symbol}不符合格式。`);\n      return;\n    }\n    if (\n      Object.keys(copyOfFigure)\n        .map((k) => copyOfFigure[k].newKey || copyOfFigure[k].key)\n        .includes(symbol)\n    ) {\n      window.alert(`符號${symbol}已經使用過了。`);\n      return;\n    }\n    setOnEdigintLists((prev) => [...prev, false]);\n    setCopyOfFigure((prev) => ({\n      ...prev,\n      [symbol]: {\n        values: handleMultipleValues(elName),\n        // elName.split(/[/,()（）]/).length === 1\n        //   ? [elName]\n        //   : [elName, ...elName.split(/[/,()（）]/).map((v) => v.trim())],\n        status: \"new Added\",\n        num: Object.keys(prev).length + 100000,\n        key: symbol,\n        newKey: null,\n        newValues: null,\n      },\n    }));\n    setOnAddingElement(false);\n    setAddElementValue({ symbol: \"\", elName: \"\" });\n  };\n\n  const initCopyOfFigure = () =>\n    Object.keys(essentialData.figureOfDrawingsMap).reduce(\n      (acc, cur, num) => ({\n        ...acc,\n        [cur]: {\n          ...essentialData.figureOfDrawingsMap[cur],\n          num,\n          key: cur,\n          newKey: null,\n          newValues: null,\n        },\n      }),\n      {}\n    );\n\n  const initOnEditingLists = () =>\n    Object.keys(essentialData.figureOfDrawingsMap).map((_) => false);\n\n  // globalHighlightElement\n  const setGlobalHighlightElement = (id) => {\n    // console.log(id);\n    const prevGlobalHighlightElement = [\n      ...essentialData.globalHighlightElement,\n    ];\n\n    if (prevGlobalHighlightElement.find((el) => el === id)) {\n      setEssentialData((prev) => ({\n        ...prev,\n        globalHighlightOn: !prevGlobalHighlightElement.length !== 1,\n        globalHighlightElement: prevGlobalHighlightElement.filter(\n          (g) => g !== id\n        ),\n      }));\n    } else {\n      setEssentialData((prev) => ({\n        ...prev,\n        globalHighlightOn: true,\n        globalHighlightElement: [...prevGlobalHighlightElement, id],\n      }));\n    }\n  };\n\n  useEffect(() => {\n    if (\n      !essentialData.isProcessing &&\n      Object.keys(essentialData.figureOfDrawingsMap).length > 0 &&\n      !(\n        Object.keys(essentialData.figureOfDrawingsMap).length === 1 &&\n        essentialData.figureOfDrawingsMap.parse_failed\n      ) &&\n      JSON.stringify(copyOfFigure) !==\n        JSON.stringify(essentialData.figureOfDrawingsMap)\n    ) {\n      setCopyOfFigure(initCopyOfFigure());\n      setOnEdigintLists(initOnEditingLists());\n    }\n  }, [essentialData]);\n\n  return (\n    <section>\n      <h2 onClick={() => setIsCollapse((prev) => !prev)}>\n        代表圖之符號簡單說明{isCollapse ? <span>✛</span> : <span>⤬</span>}\n      </h2>\n      <div className={`figure-content ${isCollapse ? \"collapse\" : \"\"}`}>\n        {essentialData.isProcessing ? (\n          <h3>Processing...</h3>\n        ) : Object.keys(essentialData.figureOfDrawingsMap).length === 0 ? (\n          <h3>No Data passed in yet.</h3>\n        ) : Object.keys(essentialData.figureOfDrawingsMap).length === 1 &&\n          essentialData.figureOfDrawingsMap.parse_failed ? (\n          <h2>無法分析代表圖之符號說明的內容</h2>\n        ) : (\n          Object.keys(copyOfFigure).length > 0 &&\n          onEditingLists.length > 0 && (\n            <>\n              {XMLData.figureLabels && (\n                <h5 className=\"figure-labels\">\n                  【指定代表圖】： {XMLData.figureLabels}\n                </h5>\n              )}\n              <ul>\n                <li>\n                  <span>符號</span>\n                  <span>元件名稱</span>\n                  <span>\n                    <img\n                      src={editIcon}\n                      style={{ visibility: \"hidden\" }}\n                      alt=\"\"\n                    />\n                    <img\n                      src={deleteIcon}\n                      alt=\"\"\n                      style={{ visibility: \"hidden\" }}\n                    />\n                  </span>\n                  <span>狀態</span>\n                </li>\n                {Object.keys(copyOfFigure)\n                  .map((key) => copyOfFigure[key])\n                  .sort((a, b) => a.num - b.num)\n                  .map(\n                    ({ key, id, status, newKey, values, newValues }, index) => {\n                      const statusInfo = parseStatus(status);\n                      const liColorId = id;\n                      const liColor =\n                        (essentialData.elementColorMap[liColorId] &&\n                          essentialData.elementColorMap[liColorId].color) ||\n                        \"hotpink\";\n                      const liStyle =\n                        (newKey !== null || newValues !== null) &&\n                        statusInfo !== \"new Added\"\n                          ? { backgroundColor: \"hotpink\" }\n                          : statusInfo === \"Ok\" || statusInfo === \"new Added\"\n                          ? {\n                              backgroundColor: !essentialData.globalHighlightOn\n                                ? \"transparent\"\n                                : essentialData.globalHighlightElement\n                                    .length === 0 ||\n                                  essentialData.globalHighlightElement.find(\n                                    (el) => el === id\n                                  )\n                                ? liColor\n                                : \"transparent\",\n                            }\n                          : status === \"element inconsistent\" ||\n                            status === \"Not in description of element\"\n                          ? {\n                              backgroundColor: !essentialData.globalHighlightOn\n                                ? \"transparent\"\n                                : essentialData.globalHighlightElement\n                                    .length === 0 ||\n                                  essentialData.globalHighlightElement.find(\n                                    (el) => el === id\n                                  )\n                                ? liColor\n                                : \"transparent\",\n                              border: \"3px rgb(255,0,0) solid\",\n                              color: \"rgb(255,0,0)\",\n                              fontWeight: \"bold\",\n                              boxShadow: \"none\",\n                              textShadow: \"2px 2px 1px black\",\n                            }\n                          : {\n                              backgroundColor: \"rgb(255,0,0)\",\n                              fontWeight: 700,\n                              border: \"2px #111 solid\",\n                            };\n                      return (\n                        <li key={key} style={liStyle}>\n                          {onEditingLists[index] ? (\n                            <span>\n                              <input\n                                type=\"text\"\n                                value={newKey || key}\n                                onChange={(e) =>\n                                  setCopyOfFigure((prev) => ({\n                                    ...prev,\n                                    [key]: {\n                                      ...prev[key],\n                                      newKey:\n                                        e.target.value === key\n                                          ? null\n                                          : e.target.value,\n                                    },\n                                  }))\n                                }\n                              />\n                            </span>\n                          ) : (\n                            <span onClick={() => setGlobalHighlightElement(id)}>\n                              {newKey ||\n                                (/duplicate/.test(key)\n                                  ? key.replace(/_duplicate_[0-9]*/, \"\")\n                                  : key)}\n                            </span>\n                          )}\n                          {onEditingLists[index] ? (\n                            <span>\n                              <input\n                                type=\"text\"\n                                value={(newValues || values)[0]}\n                                onChange={(e) =>\n                                  setCopyOfFigure((prev) => ({\n                                    ...prev,\n                                    [key]: {\n                                      ...prev[key],\n                                      newValues:\n                                        values[0] === e.target.value\n                                          ? null\n                                          : handleMultipleValues(\n                                              e.target.value\n                                            ) /* e.target.value.split(/[/,()（）]/)\n                                              .length === 1\n                                          ? [e.target.value]\n                                          : [\n                                              e.target.value,\n                                              ...e.target.value\n                                                .split(/[/,()（）]/)\n                                                .map((v) => v.trim())\n                                            ] */,\n                                    },\n                                  }))\n                                }\n                              />\n                            </span>\n                          ) : (\n                            <span onClick={() => setGlobalHighlightElement(id)}>\n                              {(newValues || values)[0]}\n                            </span>\n                          )}\n                          <span>\n                            <img\n                              src={editIcon}\n                              alt=\"edit\"\n                              onClick={() => {\n                                if (\n                                  onEditingLists[index] &&\n                                  copyOfFigure[key].newKey &&\n                                  /[^θ,、'-~a-z0-9\\s]/i.test(\n                                    copyOfFigure[key].newKey\n                                  )\n                                ) {\n                                  window.alert(\n                                    `符號${copyOfFigure[key].newKey}不符合格式。`\n                                  );\n                                  return;\n                                }\n                                if (\n                                  onEditingLists[index] &&\n                                  copyOfFigure[key].newKey &&\n                                  checkIfKeyDuplicate()\n                                ) {\n                                  window.alert(\n                                    `該符號${copyOfFigure[key].newKey}已經使用過了。`\n                                  );\n                                  return;\n                                }\n                                setOnEdigintLists((prev) =>\n                                  prev.map((p, prevIdx) =>\n                                    prevIdx === index ? !p : p\n                                  )\n                                );\n                              }}\n                            />\n                            <img\n                              src={deleteIcon}\n                              alt=\"delete\"\n                              onClick={() => {\n                                setOnEdigintLists((prev) =>\n                                  prev.filter((_, li) => index !== li)\n                                );\n                                setCopyOfFigure((prev) =>\n                                  Object.keys(prev).reduce((acc, cur) => {\n                                    if (cur !== key) {\n                                      acc[cur] = prev[cur];\n                                    }\n                                    return acc;\n                                  }, {})\n                                );\n                              }}\n                            />\n                          </span>\n                          <span>\n                            {(newKey !== null || newValues !== null) &&\n                            statusInfo !== \"new Added\"\n                              ? \"已修正\"\n                              : status === \"new Added\"\n                              ? \"新增元件\"\n                              : statusInfo.toUpperCase()}\n                          </span>\n                        </li>\n                      );\n                    }\n                  )}\n              </ul>\n              {onAddingElement && (\n                <p>\n                  <label htmlFor=\"add-symbol\">符號: </label>\n                  <input\n                    type=\"text\"\n                    id=\"add-symbol\"\n                    style={{ width: 100, height: 22 }}\n                    value={addElementValue.symbol}\n                    onChange={(e) =>\n                      setAddElementValue((prev) => ({\n                        ...prev,\n                        symbol: e.target.value,\n                      }))\n                    }\n                  />\n                  <br />\n                  <label htmlFor=\"add-element\">元件名稱: </label>\n                  <input\n                    type=\"text\"\n                    id=\"add-element\"\n                    style={{ marginRight: \".2em\", height: 22, minWidth: 190 }}\n                    value={addElementValue.elName}\n                    onChange={(e) =>\n                      setAddElementValue((prev) => ({\n                        ...prev,\n                        elName: e.target.value,\n                      }))\n                    }\n                  />\n                  <button\n                    disabled={\n                      !(\n                        addElementValue.symbol !== \"\" &&\n                        addElementValue.elName !== \"\"\n                      )\n                    }\n                    style={{ fontSize: \"1.06em\", transform: \"translateY(2px)\" }}\n                    onClick={() =>\n                      handleAddElement(\n                        addElementValue.symbol.trim(),\n                        addElementValue.elName.trim()\n                      )\n                    }\n                  >\n                    確認\n                  </button>\n                </p>\n              )}\n              <div>\n                {(!essentialData.globalHighlightOn ||\n                  essentialData.globalHighlightElement.length > 0) && (\n                  <button\n                    className=\"toggle-color\"\n                    onClick={() =>\n                      setEssentialData((prev) => ({\n                        ...prev,\n                        globalHighlightOn: true,\n                        globalHighlightElement: [],\n                      }))\n                    }\n                  >\n                    開啟標註\n                  </button>\n                )}\n                {essentialData.globalHighlightOn &&\n                  essentialData.globalHighlightElement.length === 0 && (\n                    <button\n                      className=\"toggle-color\"\n                      onClick={() =>\n                        setEssentialData((prev) => ({\n                          ...prev,\n                          globalHighlightOn: false,\n                        }))\n                      }\n                    >\n                      關閉標註\n                    </button>\n                  )}\n                <button onClick={() => setOnAddingElement((prev) => !prev)}>\n                  {onAddingElement ? \"取消\" : \"新增\"}\n                </button>\n                {shouldRenderSaveBtn() && (\n                  <>\n                    <button\n                      onClick={async () => {\n                        if (checkIfKeyDuplicate()) {\n                          window.alert(`有符號重複，請檢查後再按儲存。`);\n                          return;\n                        }\n                        await handleReInit(essentialData, setEssentialData, {\n                          method: \"figure-drawings\",\n                          data: Object.keys(copyOfFigure)\n                            .map((cur) => {\n                              const curEl = copyOfFigure[cur];\n                              const _value = (curEl.newValues ||\n                                curEl.values)[0];\n                              let _key = curEl.newKey || curEl.key;\n                              if (_key.indexOf(\"_duplicate\") >= 1) {\n                                _key = _key.slice(\n                                  0,\n                                  _key.indexOf(\"_duplicate\")\n                                );\n                              }\n                              return {\n                                num:\n                                  curEl.num >= 100000\n                                    ? curEl.num - 100000\n                                    : curEl.num,\n                                el: `${_key} ${_value}`,\n                              };\n                            })\n                            .concat(essentialData.failedFigureOfDrawingsMap),\n                        });\n                        setOnAddingElement(false);\n                        setAddElementValue({ symbol: \"\", elName: \"\" });\n                      }}\n                    >\n                      儲存\n                    </button>\n                    <button\n                      onClick={() => {\n                        setOnAddingElement(false);\n                        setAddElementValue({ symbol: \"\", elName: \"\" });\n                        setOnEdigintLists(initOnEditingLists());\n                        setCopyOfFigure(initCopyOfFigure());\n                      }}\n                    >\n                      還原\n                    </button>\n                  </>\n                )}\n              </div>\n            </>\n          )\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default FigureOfDrawings;\n","import React, { useContext } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport SettingImg from \"../assets/setting.png\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nfunction MainTitle({ toggleIsDBResultPopupOpen, toggleIsSettingPopupOpen }) {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const history = useHistory();\n\n  const handleGoBack = (e) => {\n    e.preventDefault();\n    history.goBack();\n  };\n\n  return (\n    <h1 id=\"main-title\">\n      <span\n        style={\n          essentialData.pathName === \"read-mode\" ? { display: \"none\" } : {}\n        }\n      >\n        {\" \"}\n        <Link to=\"/readme\">\n          使用\n          <br />\n          指南\n        </Link>\n      </span>\n      {essentialData.pathName === \"read-mode\" ? (\n        <>\n          <span>\n            <a onClick={handleGoBack}>\n              返{\"    \"}回\n              <br />\n              標準模式\n            </a>\n          </span>\n          <i\n            onClick={() =>\n              setEssentialData((prev) => ({\n                ...prev,\n                personalSettings: {\n                  ...essentialData.personalSettings,\n                  readingModePureText:\n                    !essentialData.personalSettings.readingModePureText,\n                },\n              }))\n            }\n          >\n            {essentialData.personalSettings.readingModePureText\n              ? \"互動式\"\n              : \"純文字\"}\n            <br />\n            閱讀\n          </i>\n        </>\n      ) : (\n        <span>\n          <Link to=\"/read-mode\">\n            閱讀\n            <br />\n            模式\n          </Link>\n        </span>\n      )}\n      <img\n        onClick={() => toggleIsSettingPopupOpen(true)}\n        className=\"setting-icon\"\n        src={SettingImg}\n        alt=\"\"\n      />\n      {essentialData.dbResultMap &&\n        Object.keys(essentialData.dbResultMap).length > 0 && (\n          <i\n            className=\"db-result\"\n            onClick={() => toggleIsDBResultPopupOpen(true)}\n          >\n            資料庫\n            <br />\n            搜尋結果\n          </i>\n        )}\n      {process.env.REACT_APP_SYSTEM_TYPE === \"tipo\"\n        ? \"自動化專利審查系統\"\n        : \"專利申請文件輔助偵錯系統\"}\n    </h1>\n  );\n}\n\nexport default MainTitle;\n","export const defaultPersonalSettings = {\n  isDarkMode: false,\n  fontSize: 2,\n  openTooltip: true,\n  showClaimElementKey: true,\n  synchronizeHighlight: false,\n  readingModePureText: false,\n  useDatabase: false,\n  savedApplications: {}\n};\n","import React, { useContext, useEffect } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport { defaultPersonalSettings } from \"../dict/defaultPersonalSettings\";\n\n/*\nhandleClose={toggleIsSettingPopupOpen}\n*/\n\nconst SettingsPopup = ({ setLocalStorageValue, handleClose }) => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const radioLists = [\"極大\", \"大\", \"中\", \"小\", \"極小\"];\n\n  const resetPersonalSettings = () => {\n    setEssentialData((prev) => ({\n      ...prev,\n      personalSettings: { ...defaultPersonalSettings }\n    }));\n    setLocalStorageValue({\n      ...defaultPersonalSettings\n    });\n  };\n\n  useEffect(() => {\n    switch (essentialData.personalSettings.fontSize) {\n      case 0:\n        document.querySelector(\".App\").style.fontSize = \"1.2em\";\n        break;\n      case 1:\n        document.querySelector(\".App\").style.fontSize = \"1.1em\";\n        break;\n      case 2:\n        document.querySelector(\".App\").style.fontSize = \"1em\";\n        break;\n      case 3:\n        document.querySelector(\".App\").style.fontSize = \"0.9em\";\n        break;\n      default:\n        document.querySelector(\".App\").style.fontSize = \"0.8em\";\n        break;\n    }\n  }, [essentialData.personalSettings.fontSize]);\n\n  return (\n    <div className=\"setting-popup\">\n      <h4>個人喜好設定</h4>\n      <div>\n        <p>\n          日夜模式：\n          <label>\n            <input\n              type=\"radio\"\n              name=\"light-dark\"\n              checked={!essentialData.personalSettings.isDarkMode}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    isDarkMode: false\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  isDarkMode: false\n                }));\n              }}\n            />\n            日&nbsp;&nbsp;\n          </label>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"light-dark\"\n              checked={essentialData.personalSettings.isDarkMode}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    isDarkMode: true\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  isDarkMode: true\n                }));\n              }}\n            />\n            夜&nbsp;&nbsp;\n          </label>\n        </p>\n        <p>\n          文字大小：\n          {radioLists.map((radioList, idx) => (\n            <label key={idx}>\n              <input\n                type=\"radio\"\n                name=\"font-size\"\n                checked={essentialData.personalSettings.fontSize === idx}\n                onChange={() => {\n                  setEssentialData((prev) => ({\n                    ...prev,\n                    personalSettings: {\n                      ...prev.personalSettings,\n                      fontSize: idx\n                    }\n                  }));\n                  setLocalStorageValue((prev) => ({\n                    ...prev,\n                    fontSize: idx\n                  }));\n                }}\n              />\n              {radioList}&nbsp;&nbsp;\n            </label>\n          ))}\n        </p>\n        <p>\n          請求項開啟提示工具(tooltip)：\n          <label>\n            <input\n              type=\"radio\"\n              name=\"open-tooltip\"\n              checked={essentialData.personalSettings.openTooltip}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    openTooltip: true\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  openTooltip: true\n                }));\n              }}\n            />\n            是&nbsp;&nbsp;\n          </label>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"open-tooltip\"\n              checked={!essentialData.personalSettings.openTooltip}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    openTooltip: false\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  openTooltip: false\n                }));\n              }}\n            />\n            否&nbsp;&nbsp;\n          </label>\n        </p>\n        <p>\n          請求項元件顯示對應符號：\n          <label>\n            <input\n              type=\"radio\"\n              name=\"show-symbol\"\n              checked={essentialData.personalSettings.showClaimElementKey}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    showClaimElementKey: true\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  showClaimElementKey: true\n                }));\n              }}\n            />\n            是&nbsp;&nbsp;\n          </label>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"show-symbol\"\n              checked={!essentialData.personalSettings.showClaimElementKey}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    showClaimElementKey: false\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  showClaimElementKey: false\n                }));\n              }}\n            />\n            否&nbsp;&nbsp;\n          </label>\n        </p>\n        <p>\n          說明書、申請專利範圍之所有構件皆同步標註(highlight)：\n          <label>\n            <input\n              type=\"radio\"\n              name=\"symbol-sync\"\n              checked={essentialData.personalSettings.synchronizeHighlight}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    synchronizeHighlight: true\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  synchronizeHighlight: true\n                }));\n              }}\n            />\n            是&nbsp;&nbsp;\n          </label>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"symbol-sync\"\n              checked={!essentialData.personalSettings.synchronizeHighlight}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    synchronizeHighlight: false\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  synchronizeHighlight: false\n                }));\n              }}\n            />\n            否&nbsp;&nbsp;\n          </label>\n        </p>\n        <p>\n          閱讀模式啟用純文字模式(取消構件標註「highlight」功能)：\n          <label>\n            <input\n              type=\"radio\"\n              name=\"pure-text\"\n              checked={essentialData.personalSettings.readingModePureText}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    readingModePureText: true\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  readingModePureText: true\n                }));\n              }}\n            />\n            是&nbsp;&nbsp;\n          </label>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"pure-text\"\n              checked={!essentialData.personalSettings.readingModePureText}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    readingModePureText: false\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  readingModePureText: false\n                }));\n              }}\n            />\n            否&nbsp;&nbsp;\n          </label>\n        </p>\n        {process.env.REACT_APP_SYSTEM_TYPE === \"tipo\" && <p>\n          連接資料庫來尋找請求項的構件(須有網路連線，且無法在本機上使用)：\n          <label>\n            <input\n              type=\"radio\"\n              name=\"use-db\"\n              checked={essentialData.personalSettings.useDatabase}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    useDatabase: true\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  useDatabase: true\n                }));\n              }}\n            />\n            是&nbsp;&nbsp;\n          </label>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"use-db\"\n              checked={!essentialData.personalSettings.useDatabase}\n              onChange={() => {\n                setEssentialData((prev) => ({\n                  ...prev,\n                  personalSettings: {\n                    ...prev.personalSettings,\n                    useDatabase: false\n                  }\n                }));\n                setLocalStorageValue((prev) => ({\n                  ...prev,\n                  useDatabase: false\n                }));\n              }}\n            />\n            否&nbsp;&nbsp;\n          </label>\n        </p>}\n      </div>\n      <p>\n        <button onClick={resetPersonalSettings}>回復原始設定</button>\n        <button onClick={() => handleClose(false)}>確認</button>\n      </p>\n    </div>\n  );\n};\n\nexport default SettingsPopup;\n\n/*\n    personalSettings: {\n      fontSize: 2\n      readingModePureText\n    }\n    readingModePureText\n*/\n","import React, { useContext, useState } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport { XMLContextProvider } from \"../contexts/XMLContext\";\n\nconst SidebarLayout = ({ children }) => {\n  const [hide, toggleHide] = useState(true);\n  const [essentialData] = useContext(EssentialDataContextProvider);\n  const [XMLData] = useContext(XMLContextProvider);\n\n  const handleOnScroll = () => {\n    const topOffset = document.querySelector(\".App .side\").scrollTop;\n    if (topOffset > 500 && hide) {\n      toggleHide(false);\n    } else if (topOffset <= 500 && !hide) {\n      toggleHide(true);\n    }\n  };\n  /*\n    personalSettings: {\n      isDarkMode: false,\n  */\n  // useEffect(() => {\n  //   document\n  //     .querySelector(\".App .side\")\n  //     .addEventListener(\"scroll\", handleOnScroll);\n\n  //   return () =>\n  //     document\n  //       .querySelector(\".App .side\")\n  //       .removeEventListener(\"scroll\", handleOnScroll);\n  // }, []);\n\n  return (\n    <main\n      className={`side ${\n        essentialData.personalSettings.isDarkMode ? \"dark\" : \"\"\n      }`}\n      onScroll={handleOnScroll}\n    >\n      <div>\n        <h1 className=\"sidebar-h1\">\n          元件名稱與符號\n          {XMLData.applicationNum && essentialData.utilityModelTitle && (\n            <p>\n              {!XMLData.applicationNum.endsWith(\"X\") && (\n                <span>\n                  {XMLData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}案號：\n                  <i>{XMLData.applicationNum}</i>\n                </span>\n              )}\n              <span>\n                {XMLData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}名稱：\n                {essentialData.utilityModelTitle}\n              </span>\n            </p>\n          )}\n        </h1>\n        {children}\n        <span\n          className={`sidebar-gotop ${hide ? \"hide\" : \"\"}`}\n          onClick={() => {\n            document.querySelector(\".App .side\").scrollTo({\n              top: 0,\n              left: 0,\n              behavior: \"smooth\",\n            });\n            toggleHide(true);\n          }}\n        >\n          ▲\n        </span>\n      </div>\n    </main>\n  );\n};\n\nexport default SidebarLayout;\n","export const processAbstract = (data, essentialData) => {\n  try {\n    tryToProcessAbstract(data, essentialData);\n  } catch (e) {\n    if (data && data.attributes && data.attributes.lang === \"tw\") {\n      essentialData.abstractContent.push(\"Sorry! 中文摘要內容無法分析...\");\n    } else if (data && data.attributes && data.attributes.lang === \"en\") {\n      essentialData.abstractContentEn.push(\"Sorry! 英文摘要內容無法分析...\");\n    }\n  }\n};\n\nconst tryToProcessAbstract = (data, essentialData) => {\n  const allParas = data.children[0].children;\n\n  allParas.forEach((paragraph, index) => {\n    let singlePara = \"\";\n    try {\n      const elements = paragraph.children;\n      for (let i = 0; i < elements.length; i++) {\n        if (\n          elements[i].name === \"sub\" &&\n          elements[i].value === \"\" &&\n          elements[i].children.length > 0 &&\n          elements[i].children[0].value > 0\n        ) {\n          singlePara += elements[i].children[0].value\n            .replace(/[↵\\n]/g, \"\")\n            .trim();\n        } else if (\n          elements[i].type === \"text\" &&\n          elements[i].value.length > 0\n        ) {\n          singlePara += elements[i].value.replace(/[↵\\n]/g, \"\").trim();\n        }\n      }\n    } catch (error) {\n      singlePara = `段落${index}無法分析}`;\n    } finally {\n      // singlePara = `<P>${singlePara}</p>`;\n      if (data.attributes.lang === \"tw\") {\n        essentialData.abstractContent.push(singlePara);\n      } else {\n        essentialData.abstractContentEn.push(singlePara);\n      }\n    }\n  });\n  // console.log(essentialData.abstractContent.join(/[↵\\n]/g))\n};\n","export const stringToUnicode = (str) => {\n  let unicodeStr = \"\";\n  for (let i = 0; i < str.length; i++) {\n    unicodeStr += str.charCodeAt(i).toString(16);\n  }\n  return unicodeStr;\n};\n","import { stringToUnicode } from \"./stringToUnicode\";\nimport {\n  checkAlphabetRangeCorrect,\n  extractElement,\n  lastTryToParseElements,\n  modifyValue,\n  handleMultipleValues,\n  extractElement_v2\n} from \"./otherUtils\";\nimport {\n  isKeyValid,\n  keyEndMatch,\n  keyStartMatch,\n  allSymbolChar\n} from \"../dict/keyRegs\";\n\nexport const processData = (\n  data,\n  method,\n  essentialData,\n  oldElements,\n  payload\n) => {\n  try {\n    tryProcessData(data, method, essentialData, oldElements, payload);\n  } catch (error) {\n    if (method === \"description-of-element\") {\n      essentialData.descriptionOfElementMap = { parse_failed: true };\n    } else {\n      essentialData.figureOfDrawingsMap = { parse_failed: true };\n    }\n  }\n};\n\nconst tryProcessData = (data, method, essentialData, oldElements, payload) => {\n  // // if we've extracted elements before, use the old ones\n\n  if (oldElements && method === \"description-of-element\") {\n    essentialData.descriptionOfElementMap = Object.keys(oldElements).reduce(\n      (acc, objKey) => {\n        const { values, status } = oldElements[objKey];\n        acc[objKey] =\n          status === \"key duplicate\"\n            ? { values, status }\n            : {\n                id: stringToUnicode(values[0]),\n                values,\n                isUsed: false // default is false\n              };\n        return acc;\n      },\n      {}\n    );\n    return;\n  } else if (oldElements && method === \"figure-drawings\") {\n    essentialData.figureOfDrawingsMap = Object.keys(oldElements).reduce(\n      (acc, objKey) => {\n        const { values, status } = oldElements[objKey];\n        acc[objKey] =\n          status === \"key duplicate\"\n            ? { values, status }\n            : {\n                id: stringToUnicode(values[0]),\n                values,\n                status: \"Not in description of element\" // Default status\n              };\n        return acc;\n      },\n      {}\n    );\n    return;\n  }\n\n  // if we don't have old elements, extract the elements\n  let keyAndValueArr = [];\n  let newElements;\n  let tmpFailedDescriptionOfElementMap = [];\n  let tmpFailedFigureOfDrawingsMap = [];\n  // if we've extracted elements before, use the old ones\n  if (\n    payload &&\n    (method === \"description-of-element\" || method === \"figure-drawings\")\n  ) {\n    newElements = payload;\n  } else {\n    // newElements = extractElement(data.children, []);\n\n    /*\n    newElements = extractElement_v2(data)\n      .split(\"@##@\")\n      .filter((p) => p !== \"\");\n    console.log(\"newElements\");\n    console.log(newElements);\n    debugger;\n    */\n\n    //  newElements = extractElement(data)\n    //   .filter((ele) => ele !== \"##br##\")\n    //   .filter((ele) => ele !== \"\")\n    newElements = extractElement_v2(data)\n      .split(\"@##@\")\n      .filter((p) => p !== \"\")\n      .map((ele, eleIdx) => ({\n        num: eleIdx,\n        el: ele.replace(/[↵\\n]/g, \"\").trim()\n      }))\n      .map((ele, eleIdx) => ({\n        ...ele,\n        el: /[；。，、;,'.]$/.test(ele.el) ? ele.el.slice(0, -1) : ele.el\n      }));\n    // Test\n    // if (method === \"description-of-element\") {\n    //   console.log(newElements);\n    //   debugger;\n    // }\n  }\n\n  if (\n    newElements.length === 1 &&\n    newElements[0].el.split(/[\\s、; ; ，]+/).length > 1 &&\n    (newElements[0].el\n      .split(/[\\s、; ; ，]+/)\n      .every((ee) => !!keyStartMatch(ee.replace(/[↵\\n]/g, \"\").trim())) ||\n      newElements[0].el\n        .split(/[\\s、; ; ，]+/)\n        .every((ee) => !!keyEndMatch(ee.replace(/[↵\\n]/g, \"\").trim())))\n  ) {\n    /*\n      全寫在同一行 ex: 打氣設備1、殼體10、容置空間100、第一殼101...\n    */\n    if (\n      newElements[0].el\n        .split(/[\\s、; ; ，]+/)\n        .every((ee) => !!keyStartMatch(ee.replace(/[↵\\n]/g, \"\").trim()))\n    ) {\n      newElements[0].el.split(/[\\s、; ; ，]+/).forEach((ee, eeIdx) => {\n        const theEl = ee.replace(/[↵\\n]/g, \"\").trim();\n        // const key = theEl.match(/^[θa-z0-9']+/i)[0];\n        const key = keyStartMatch(theEl)[0];\n        const value = modifyValue(theEl.slice(key.length));\n        keyAndValueArr.push({ key, value, num: eeIdx });\n      });\n    } else {\n      newElements[0].el.split(/[\\s、; ; ，]+/).forEach((ee, eeIdx) => {\n        const theEl = ee.replace(/[↵\\n]/g, \"\").trim();\n        // const key = theEl.match(/[θa-z0-9']+$/i)[0];\n        const key = keyEndMatch(theEl)[0];\n        const value = modifyValue(theEl.slice(0, theEl.length - key.length));\n        keyAndValueArr.push({ key, value, num: eeIdx });\n      });\n    }\n  } else if (\n    newElements.every(\n      ({ el }) =>\n        el\n          .replace(/[↵\\n]/g, \"\")\n          .trim()\n          .split(/[\\s; ;：:，.‧]+/).length === 1\n    ) &&\n    (newElements.every(\n      ({ el }) => !!keyStartMatch(el.replace(/[↵\\n]/, \"\").trim())\n    ) ||\n      newElements.every(\n        ({ el }) => !!keyEndMatch(el.replace(/[↵\\n]/g, \"\").trim())\n      ))\n  ) {\n    /*\n      元件和符號沒有空格: ex: 10充電座\n    */\n    if (\n      newElements.every(\n        ({ el }) => !!keyStartMatch(el.replace(/[↵\\n]/g, \"\").trim())\n      )\n    ) {\n      newElements.forEach(({ el, num }) => {\n        const theEl = el.replace(/[↵\\n]/g, \"\").trim();\n        // const key = theEl.match(/^[θa-z0-9']+/i)[0];\n        const key = keyStartMatch(theEl)[0];\n        const value = modifyValue(theEl.slice(key.length));\n        keyAndValueArr.push({ key, value, num });\n      });\n    } else {\n      newElements.forEach(({ el, num }) => {\n        const theEl = el.replace(/[↵\\n]/g, \"\").trim();\n        // const key = theEl.match(/[θa-z0-9']+$/i)[0];\n        const key = keyEndMatch(theEl)[0];\n        const value = modifyValue(theEl.slice(0, theEl.length - key.length));\n        keyAndValueArr.push({ key, value, num });\n      });\n    }\n  } else {\n    /*\n      用冒號「:」或逗號「，」或「.」來區分或空白格來分開符號與元件名稱\n    */\n    // console.log(\"we are here\");\n    // console.log(newElements);\n    // debugger;\n\n    newElements.forEach(({ num, el }) => {\n      try {\n        if (!/.*[：；;:、\\-.‧\\s]+.*/.test(el.replace(/[↵\\n]/g, \"\").trim())) {\n          // console.log(\"invalid form:\");\n          // console.log(el);\n          // debugger;\n          lastTryToParseElements(\n            el.replace(/[↵\\n]/g, \"\").trim()\n          ).forEach(({ key, value }) =>\n            keyAndValueArr.push({ key, value, num })\n          );\n        } else {\n          let newEl = el\n            .replace(/[↵\\n]/g, \"\")\n            .trim()\n            .replaceAll(/([.‧·\\-…·]{2,})/g, \" \");\n          // let keyAndValue = newEl.split(/[；;:：，.‧·]+/);\n          let keyAndValue = newEl.split(/[；;:：，]+/);\n          // console.log(keyAndValue);\n          if (keyAndValue.length === 2) {\n            // 用冒號「:」或逗號「，」或「.」來分開符號與元件名稱\n            if (\n              keyAndValue[0].trim().length > 0 &&\n              isKeyValid(keyAndValue[0].replaceAll(/[()\\s]/g, \"\").trim())\n            ) {\n              keyAndValueArr.push({\n                key: keyAndValue[0].replaceAll(/[()\\s]/g, \"\").trim(),\n                value: modifyValue(keyAndValue[1].trim()),\n                num\n              });\n            } else if (\n              keyAndValue[1].trim().length > 0 &&\n              isKeyValid(keyAndValue[1].replaceAll(/[()\\s]/g, \"\").trim())\n            ) {\n              keyAndValueArr.push({\n                key: keyAndValue[1].replaceAll(/[()\\s]/g, \"\").trim(),\n                value: modifyValue(keyAndValue[0].trim()),\n                num\n              });\n            } else {\n              // console.log(el);\n              // debugger;\n              lastTryToParseElements(\n                el.replace(/[↵\\n]/g, \"\").trim()\n              ).forEach(({ key, value }) =>\n                keyAndValueArr.push({ key, value, num })\n              );\n            }\n          } else {\n            // 若失敗，用空白格來分開符號與元件名稱\n            keyAndValue = keyAndValue[0].split(/[\\s]+/);\n            if (keyAndValue.length !== 2) {\n              lastTryToParseElements(\n                el.replace(/[↵\\n]/g, \"\").trim()\n              ).forEach(({ key, value }) =>\n                keyAndValueArr.push({ key, value, num })\n              );\n            } else if (\n              keyAndValue[0].trim().length > 0 &&\n              isKeyValid(keyAndValue[0].replaceAll(/[()\\s]/g, \"\").trim())\n            ) {\n              keyAndValueArr.push({\n                key: keyAndValue[0].replaceAll(/[()\\s]/g, \"\").trim(),\n                value: modifyValue(keyAndValue[1].trim()),\n                num\n              });\n            } else if (\n              keyAndValue[1].trim().length > 0 &&\n              isKeyValid(keyAndValue[1].replaceAll(/[()\\s]/g, \"\").trim())\n            ) {\n              keyAndValueArr.push({\n                key: keyAndValue[1].replaceAll(/[()\\s]/g, \"\").trim(),\n                value: modifyValue(keyAndValue[0].trim()),\n                num\n              });\n            } else {\n              // console.log(\"this one failed\");\n              // console.log(keyAndValue);\n              // console.log(el.replace(/[↵\\n]/, \"\").trim());\n              // debugger;\n              lastTryToParseElements(\n                el.replace(/[↵\\n]/g, \"\").trim()\n              ).forEach(({ key, value }) =>\n                keyAndValueArr.push({ key, value, num })\n              );\n            }\n          }\n        }\n      } catch (err) {\n        if (\n          /創作|新型|發明|習知|習用|現有/.test(el.replace(/[↵\\n]/g, \"\").trim())\n        ) {\n          return;\n        }\n        if (/\\[[0-9]+\\]/.test(el.replace(/[↵\\n]/g, \"\").trim())) {\n          return;\n        }\n\n        // console.log(el);\n        // debugger;\n\n        if (method === \"description-of-element\") {\n          tmpFailedDescriptionOfElementMap.push({\n            num,\n            el: el.replace(/[↵\\n]/g, \"\").trim()\n          });\n        } else {\n          tmpFailedFigureOfDrawingsMap.push({\n            num,\n            el: el.replace(/[↵\\n]/g, \"\").trim()\n          });\n        }\n      }\n    });\n  }\n\n  let dpCount = 1;\n  let keyAndValueMap = {};\n  keyAndValueArr.forEach((el) => {\n    try {\n      const keys = el.key.replaceAll(/[()\\s]/g, \"\").split(/[,、]/);\n      if (el.value === \"\") {\n        // 有 key 沒有 value\n        throw new Error(`${keys}!@#$%${el.num}`);\n      }\n      const values = handleMultipleValues(el.value);\n      // el.value.split(/[/,()（）]/).length === 1\n      //   ? [el.value]\n      //   : [\n      //       el.value,\n      //       ...el.value\n      //         .split(/[/,()（）]/)\n      //         .filter((value) => value.trim().length > 0)\n      //         .map((value) => value.trim())\n      //     ];\n      let keyRange = [];\n      keys.forEach((k) => {\n        k = k.trim();\n        try {\n          if (/.+[~～-].+/.test(k)) {\n            keyRange = [k];\n            let beginKey = k.split(/[~～-]/)[0].trim();\n            let endKey = k.split(/[~～-]/)[1].trim();\n            let beginWithPlum = false;\n            let endWithPlum = false;\n            // e.g. S1'~S2'\n            if (/'$/.test(beginKey)) {\n              beginKey = beginKey.slice(0, beginKey.length - 1);\n              beginWithPlum = true;\n            }\n            if (/'$/.test(endKey)) {\n              endKey = endKey.slice(0, endKey.length - 1);\n              endWithPlum = true;\n            }\n            if (beginWithPlum !== endWithPlum) {\n              throw Error(\"I don't understand\");\n            }\n            if (checkAlphabetRangeCorrect(beginKey, endKey)) {\n              // e.g. A~～D, a~～d, 100A~～100C\n              const startNum = beginKey.match(/^[0-9]*/)[0];\n              const beginAlphabetCharCode = beginKey.charCodeAt(\n                beginKey.length - 1\n              );\n              const endAlphabetCharCode = endKey.charCodeAt(\n                beginKey.length - 1\n              );\n              if (beginAlphabetCharCode >= endAlphabetCharCode) {\n                throw Error(\"I don't understand\");\n              }\n              for (\n                let i = beginAlphabetCharCode;\n                i <= endAlphabetCharCode;\n                i++\n              ) {\n                keyRange.push(\n                  startNum +\n                    String.fromCharCode(i) +\n                    (beginWithPlum && endWithPlum ? `'` : \"\")\n                );\n              }\n              keyRange.shift();\n            } else {\n              // e.g. S1~～S5\n              const beginIndex = parseInt(beginKey.match(/[0-9]+$/)[0]);\n              const endIndex = parseInt(endKey.match(/[0-9]+$/)[0]);\n              if (beginIndex >= endIndex) {\n                throw Error(\"It's just symbol\");\n              }\n              for (let i = beginIndex; i <= endIndex; i++) {\n                const replacement = i;\n                let reg = `${beginIndex}([^${beginIndex}]*)$`;\n                keyRange.push(\n                  beginKey.replace(RegExp(reg), replacement + \"$1\") +\n                    (beginWithPlum && endWithPlum ? `'` : \"\")\n                );\n              }\n              keyRange.shift();\n            }\n          } else {\n            keyRange = [k];\n          }\n        } catch (e) {\n          keyRange = [k];\n        }\n\n        // console.log(\"keyRange\");\n        // console.log(keyRange);\n\n        keyRange.forEach((kk) => {\n          if (\n            !RegExp(\n              `^[${allSymbolChar}']*[-~～]?[${allSymbolChar}']*$`,\n              \"i\"\n            ).test(kk)\n          ) {\n            if (method === \"description-of-element\") {\n              tmpFailedDescriptionOfElementMap.push({\n                // num: -1 * (Math.floor(Math.random() * 10000) + 10000),\n                num: el.num,\n                el: el.value\n              });\n            } else {\n              tmpFailedFigureOfDrawingsMap.push({\n                // num: -1 * (Math.floor(Math.random() * 10000) + 10000),\n                num: el.num,\n                el: el.value\n              });\n            }\n            return;\n          } else if (keyAndValueMap[kk] !== undefined) {\n            // 同個符號出現2次以上\n            keyAndValueMap[`${kk}_duplicate_${dpCount}`] = {\n              values,\n              status: \"key duplicate\"\n            };\n            dpCount++;\n            return;\n          }\n          keyAndValueMap[kk] =\n            method === \"description-of-element\"\n              ? {\n                  id: stringToUnicode(values[0]),\n                  values,\n                  isUsed: false // default is false\n                }\n              : {\n                  id: stringToUnicode(values[0]),\n                  values,\n                  status: \"Not in description of element\" // Default status\n                };\n        });\n      });\n    } catch (error) {\n      // 符號為 \"\" 的情況\n      if (method === \"description-of-element\") {\n        tmpFailedDescriptionOfElementMap.push({\n          // num: -1 * (Math.floor(Math.random() * 10000) + 10000),\n          num: parseInt(error.message.split(\"!@#$%\")[1]),\n          el: error.message.split(\"!@#$%\")[0]\n        });\n      } else {\n        tmpFailedFigureOfDrawingsMap.push({\n          // num: -1 * (Math.floor(Math.random() * 10000) + 10000),\n          num: parseInt(error.message.split(\"!@#$%\")[1]),\n          el: error.message.split(\"!@#$%\")[0]\n        });\n      }\n    }\n  });\n\n  if (method === \"description-of-element\") {\n    // console.log(\"keyAndValueMap: \", keyAndValueMap);\n    // console.log(\n    //   \"tmpFailedDescriptionOfElementMap:\",\n    //   tmpFailedDescriptionOfElementMap\n    // );\n    // debugger;\n    essentialData.descriptionOfElementMap = keyAndValueMap;\n    essentialData.failedDescriptionOfElementMap = tmpFailedDescriptionOfElementMap.sort();\n  } else {\n    essentialData.figureOfDrawingsMap = keyAndValueMap;\n    essentialData.failedFigureOfDrawingsMap = tmpFailedFigureOfDrawingsMap.sort();\n  }\n\n  // console.log(\"my Essentials\");\n  // console.log(essentialData.descriptionOfElementMap);\n};\n","export const checkFigureOfDrawings = ({\n  figureOfDrawingsMap,\n  descriptionOfElementMap\n}) => {\n  Object.keys(figureOfDrawingsMap).forEach((key) => {\n    // 同一個符號出現2次以上\n    if (figureOfDrawingsMap[key].status === \"key duplicate\") {\n      return;\n    }\n\n    if (descriptionOfElementMap[key] === undefined) {\n      return;\n    }\n\n    if (\n      figureOfDrawingsMap[key].values.length === 1 &&\n      (figureOfDrawingsMap[key].values[0] ===\n        descriptionOfElementMap[key].values[0] ||\n        descriptionOfElementMap[key].values.includes(\n          figureOfDrawingsMap[key].values[0]\n        ))\n    ) {\n      figureOfDrawingsMap[key].status = \"Ok\";\n      descriptionOfElementMap[key].isUsed = true;\n    } else if (\n      figureOfDrawingsMap[key].values.length > 1 &&\n      !figureOfDrawingsMap[key].values\n        .filter((e, i) => i !== 0)\n        .some(\n          (val) =>\n            !descriptionOfElementMap[key].values\n              .filter((e, i) => i !== 0)\n              .includes(val)\n        )\n    ) {\n      figureOfDrawingsMap[key].status = \"Ok\";\n      descriptionOfElementMap[key].isUsed = true;\n    } else {\n      // 指定代表圖與說明書的元件明稱不一致\n      figureOfDrawingsMap[key].status = \"element inconsistent\";\n      descriptionOfElementMap[key].status = \"element inconsistent\";\n    }\n  });\n};\n","const allColors = [\n  [210, 105, 30],\n  [109, 207, 107],\n  [156, 157, 48],\n  [131, 196, 5],\n  [175, 112, 112],\n  [77, 157, 79],\n  [134, 134, 220],\n  [51, 214, 214],\n  [225, 66, 220],\n  [171, 185, 46],\n  [229, 134, 53],\n  [152, 212, 42],\n  [206, 197, 197],\n  [210, 130, 178],\n  [118, 185, 173],\n  [198, 237, 80],\n  [171, 160, 160],\n  [192, 186, 74],\n  [237, 193, 155],\n  [112, 218, 125],\n  [125, 214, 202],\n  [85, 170, 231],\n  [173, 71, 71],\n  [199, 34, 229],\n  [145, 159, 67],\n  [21, 173, 82],\n  [87, 149, 173],\n  [218, 195, 204],\n  [5, 183, 18],\n  [107, 107, 188]\n];\n\nexport const pickColor = (index) => {\n  if (allColors[index]) {\n    return `rgb(${allColors[index][0]}, ${allColors[index][1]}, ${allColors[index][2]})`;\n    //return `rgba(${allColors[index][0]}, ${allColors[index][1]}, ${allColors[index][2]}, .7)`;\n  }\n  // 0.2126*R + 0.7152*G + 0.0722*B\n  let R, G, B;\n  do {\n    R = Math.random();\n    G = Math.random();\n    B = Math.random();\n  } while (0.2126 * R + 0.7152 * G + 0.0722 * B < 0.5);\n  return `rgb(${Math.floor(R * 255)}, ${Math.floor(G * 255)}, ${Math.floor(\n    B * 255\n  )})`;\n  // return `rgb(${Math.floor(Math.random() * 255)}, ${Math.floor(\n  //   Math.random() * 255\n  // )}, ${Math.floor(Math.random() * 255)})`;\n};\n","import { pickColor } from \"../dict/elementColors\";\nimport { stringToUnicode } from \"./stringToUnicode\";\n\nexport const buildElementColorMap = ({\n  descriptionOfElementMap,\n  elementColorMap,\n  utilityModelTitle\n}) => {\n  if (utilityModelTitle && utilityModelTitle !== \"\") {\n    elementColorMap[\n      stringToUnicode(utilityModelTitle.replace(/[↵\\n]/g, \"\").trim())\n    ] = {\n      value: utilityModelTitle.replace(/[↵\\n]/g, \"\").trim(),\n      // color: `rgba(${Math.floor(Math.random() * 255)}, ${Math.floor(\n      //   Math.random() * 255\n      // )}, ${Math.floor(Math.random() * 255)}, .7)`\n      color: pickColor(Object.keys(elementColorMap).length)\n    };\n  }\n\n  Object.keys(descriptionOfElementMap).forEach((key) => {\n    if (\n      elementColorMap[stringToUnicode(descriptionOfElementMap[key].values[0])]\n    ) {\n      return;\n    }\n    elementColorMap[stringToUnicode(descriptionOfElementMap[key].values[0])] = {\n      value: descriptionOfElementMap[key].values[0],\n      // color: `rgba(${Math.floor(Math.random() * 255)}, ${Math.floor(\n      //   Math.random() * 255\n      // )}, ${Math.floor(Math.random() * 255)}, .7)`\n      color: pickColor(Object.keys(elementColorMap).length)\n    };\n  });\n};\n","import { extractTableElement } from \"./extractTableElement\";\n\nexport const extractSingleParagraph = (child, dataType) => {\n  try {\n    return TryExtractSingleParagraph(child);\n  } catch (error) {\n    return {\n      general:\n        (child && child.attributes && child.attributes.general) ||\n        \"無法得知第幾段\",\n      content: \"\",\n      tables: []\n    };\n  }\n};\n\nconst TryExtractSingleParagraph = (child) => {\n  if (child.children.length > 1) {\n    let content = ``;\n    let tables = [];\n    let tableCount = 0;\n    child.children.forEach((d) => {\n      try {\n        if ((d.name === \"sub\" || d.name === \"sup\") && d.value === \"\") {\n          content += d.children[0]\n            ? d.children[0].value.replace(/[↵\\n]/g, \"\").trim()\n            : \"\";\n        } else if (d.name === \"br\" && d.value === \"\") {\n          content += \"<br/>\";\n        } else if (d.type === \"text\" && d.value.length > 0) {\n          content += d.value.replace(/[↵\\n]/g, \"\").trim();\n        } else if (d.name === \"tables\" && d.children.length > 0) {\n          try {\n            tables.push(extractTableElement(d));\n            // console.log(extractTableElement(d));\n            content += `@#%@table${tableCount}table@#%@`;\n            tableCount++;\n          } catch (error) {\n            content += `<br/><span style=\"background-color: red\">無法分析表格內容</span>`;\n          }\n        }\n      } catch (error) {\n        content = `<span style=\"background-color: red\">無法分析本段落內容</span>`;\n      }\n    });\n    return {\n      general:\n        (child && child.attributes && child.attributes.general) ||\n        \"無法得知第幾段\",\n      content,\n      tables\n    };\n  }\n  // console.log(`child.children.length = 1`, child.attributes.general);\n  return {\n    general:\n      (child && child.attributes && child.attributes.general) ||\n      \"無法得知第幾段\",\n    content: child.children[0].value,\n    tables: []\n  };\n};\n","const words = Array.from(\n  new Set([\n    \"原住民\",\n    \"百步蛇\",\n    \"拼板舟\",\n    \"船眼\",\n    \"泰雅族\",\n    \"太魯閣族\",\n    \"賽德克族\",\n    \"阿美族\",\n    \"排灣族\",\n    \"布農族\",\n    \"卑南族\",\n    \"賽夏族\",\n    \"邵族\",\n    \"噶瑪蘭族\",\n    \"撒奇萊雅族\",\n    \"鄒族\",\n    \"卡那卡那富族\",\n    \"拉阿魯哇族\",\n    \"魯凱族\",\n    \"達悟族\",\n    \"雅美族\",\n    \"沙阿魯阿族\",\n    \"少數民族\",\n    \"土著\",\n    \"平埔族\",\n    \"達魯瑪克部落\",\n    \"部落\",\n    \"馬太鞍部落\",\n    \"除瘟祭\",\n    \"傳統祭儀\",\n    \"祖靈祭\",\n    \"新年祭\",\n    \"矮靈祭\",\n    \"射耳祭\",\n    \"戰祭\",\n    \"貝神祭\",\n    \"五年祭\",\n    \"小米收穫祭\",\n    \"海祭\",\n    \"豐年祭\",\n    \"猴祭\",\n    \"大獵祭\",\n    \"飛魚祭\",\n    \"新船下水祭\",\n    \"夜祭\",\n    \"開墾祭\",\n    \"播種祭\",\n    \"除草祭\",\n    \"收割祭\",\n    \"收藏祭\",\n    \"開倉嘗新祭\",\n    \"獵頭祭\",\n    \"米貢祭\",\n    \"祖靈\",\n    \"祈天祭\",\n    \"特富野社祭儀\",\n    \"報訊曲\",\n    \"邵織紋\",\n    \"追逐白鹿\",\n    \"會所制度\",\n    \"報訊鈴\",\n    \"歌謠\",\n    \"飲酒歡樂歌\",\n    \"祭歌\",\n    \"sizung\",\n    \"石雕柱\",\n    \"木雕圖紋\",\n    \"香蕉絲織布\",\n    \"禮裙\",\n    \"巴斯達隘\",\n    \"賜福成長\",\n    \"日字紋\",\n    \"歌舞\",\n    \"舞片流蘇裙\",\n    \"大禮冠盤帽\",\n    \"巴拉告\",\n    \"特富野社\",\n    \"歷史頌\",\n    \"家屋\",\n    \"杵音\",\n    \"長木杵\",\n    \"主柱\",\n    \"貓頭鷹\",\n    \"測柱\",\n    \"傳說\",\n    \"馬蘭\",\n    \"鞦韆\"\n  ])\n);\n\nexport const aboriginalWords = [\n  ...words.sort((a, b) => b.length - a.length)\n].join(\"|\");\n","export const units = [\"個\", \"種\", \"端\", \"筆\", \"組\", \"對\"];\n\nexport const num = [\"一\", \"二\", \"兩\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\"];\n\nexport const numOfUnit = Array.from(\n  new Set([\n    ...num.map((n) => \"至少\" + n),\n    ...num.map((n) => \"任意\" + n),\n    ...num.map((n) => \"任\" + n),\n    ...num.map((n) => \"另外\" + n),\n    ...num.map((n) => \"另\" + n),\n    \"複數\",\n    \"若干\",\n    \"多數\",\n    \"很多\",\n    \"每一\",\n    \"多\",\n    \"數\",\n    \"各\",\n    \"一\",\n    \"二\",\n    \"兩\",\n    \"三\",\n    \"四\",\n    \"五\",\n    \"六\",\n    \"七\",\n    \"八\",\n    \"九\"\n  ])\n);\n\nconst words = Array.from(\n  new Set([\n    ...numOfUnit.reduce((acc, cur) => {\n      units.forEach((u) => acc.push(cur + u));\n      return acc;\n    }, []),\n    ...numOfUnit.filter((a) => a.length >= 2),\n    \"相對應的\",\n    \"對應的\",\n    \"相對的\",\n    \"相對應之\",\n    \"對應之\",\n    \"相對之\",\n    \"相對應\",\n    \"些許\",\n    \"對應\",\n    \"相對\",\n    \"至少\",\n    \"些\",\n    ...units.map((un) => \"些\" + un),\n    \"等\",\n    \"任\",\n    \"另\",\n    \"各\",\n    ...num,\n    ...units\n    // \"個\", \"種\", \"端\", \"筆\", \"組\", \"對\"\n  ])\n);\n\nexport const allUnitWords = () =>\n  [...words].sort((a, b) => b.length - a.length).join(\"|\");\n\nexport const allFirstTimeSeparateWord = () =>\n  [...words]\n    .filter((w) => w !== \"端\" && w !== \"等\")\n    .filter((w) => ![...num, ...units].filter((ww) => ww !== \"一\").includes(w))\n    .sort((a, b) => b.length - a.length)\n    .join(\"|\");\n","import { numOfUnit, units } from \"./allUnitWords\";\n\nconst referWords_1 = Array.from(\n  new Set([\n    ...numOfUnit.reduce((acc, cur) => {\n      units.forEach((u) => acc.push(cur + u));\n      return acc;\n    }, []),\n    \"至少\",\n    \"些\",\n    \"等\",\n    \"端\",\n    \"一\", // 「一」是一定要的*/\n    \"二\",\n    \"三\",\n    \"四\",\n    \"五\",\n    \"六\",\n    \"七\",\n    \"八\",\n    \"九\",\n    \"兩\",\n    \"各\",\n    \"個\"\n  ])\n);\n\nconst referWords_2 = Array.from(\n  new Set([\n    \"包括有\",\n    \"包含有\",\n    \"具有\",\n    \"俱有\",\n    \"包含\",\n    \"包括\",\n    \"之\", // 「之」是一定要的\n    \"的\" // 「的」是一定要的\n  ])\n);\n\nexport const limitedChar = Array.from(\n  new Set([\n    \"各\",\n    \"些\",\n    \"有\",\n    \"數\",\n    ...units\n    // ...num.map((nn) => \"第\" + nn)\n    // units = [\"個\", \"種\", \"端\", \"筆\", \"組\", \"對\"];\n  ])\n);\n\nexport const getReferWords_1 = () =>\n  [...referWords_1].sort((a, b) => b.length - a.length).join(\"|\");\n\nexport const getReferWords_2 = () =>\n  [...referWords_2].sort((a, b) => b.length - a.length).join(\"|\");\n\nexport const getLimitedChar = () => limitedChar.join(\"\");\n\nexport const symetricPrefix = () =>\n  Array.from(\n    new Set([\n      \"上\",\n      \"下\",\n      \"左\",\n      \"右\",\n      \"前\",\n      \"後\",\n      \"頭\",\n      \"尾\",\n      \"正\",\n      \"負\",\n      \"開\",\n      \"關\",\n      \"高\",\n      \"低\",\n      \"內\",\n      \"外\",\n      \"中\"\n    ])\n  ).join(\"\");\n","const words = [\"、\", \"或\", \"和\", \"及\", \"至\"];\n\nexport const concatWordSeparater = words.join(\"\");\n","export const figWithRangeStart = RegExp(\n  /^圖\\(?[\\u03B1-\\u09B6θa-z0-9一二三四五六七八九十(]+['”′″]?\\)?(\\s*[-~～到至]\\s*圖?\\(?[\\u03B1-\\u09B6θa-z0-9一二三四五六七八九十(]+['”′″]?\\)?)?/gi\n);\n\nexport const figWithCommaStart = RegExp(\n  /^圖\\(?[\\u03B1-\\u09B6θθ0-9a-z一二三四五六七八九十(]+['”′″]?\\)?([,、或與和以及跟]圖?\\(?[\\u03B1-\\u09B6θθ0-9a-z一二三四五六七八九十(]+['”′″]?\\)?)*/gi\n);\n\nexport const figWithRangeBetween = RegExp(\n  /圖\\(?[\\u03B1-\\u09B6θa-z0-9一二三四五六七八九十(]+['”′″]?\\)?(\\s*[-~～到至]\\s*圖?\\(?[\\u03B1-\\u09B6θa-z0-9一二三四五六七八九十(]+['”′″]?\\)?)?/gi\n);\n\nexport const figWithCommaBetween = RegExp(\n  /圖\\(?[\\u03B1-\\u09B6θθ0-9a-z一二三四五六七八九十(]+['”′″]?\\)?([,、或與和以及跟]圖?\\(?[\\u03B1-\\u09B6θθ0-9a-z一二三四五六七八九十(]+['”′″]?\\)?)*/gi\n);\n\nexport const figWithThisRangeStart = RegExp(\n  /^第\\(?[\\u03B1-\\u09B6θa-z0-9一二三四五六七八九十(]+['”′″]?\\)?圖?(\\s*[-~～到至]\\s*第?\\(?[\\u03B1-\\u09B6θa-z0-9一二三四五六七八九十(]+['”′″]?\\)?)?圖/gi\n);\n\nexport const figWithThisCommaStart = RegExp(\n  /^第\\(?[\\u03B1-\\u09B6θθ0-9a-z一二三四五六七八九十(]+['”′″]?\\)?圖?([,、或與和以及跟]第?\\(?[\\u03B1-\\u09B6θθ0-9a-z一二三四五六七八九十(]+['”′″]?\\)?)*圖/gi\n);\n\nexport const figWithThisRangeBetween = RegExp(\n  /第\\(?[\\u03B1-\\u09B6θa-z0-9一二三四五六七八九十(]+['”′″]?\\)?圖?(\\s*[-~～到至]\\s*第?\\(?[\\u03B1-\\u09B6θa-z0-9一二三四五六七八九十(]+['”′″]?\\)?)?圖/gi\n);\n\nexport const figWithThisCommaBetween = RegExp(\n  /第\\(?[\\u03B1-\\u09B6θθ0-9a-z一二三四五六七八九十(]+['”′″]?\\)?圖?([,、或與和以及跟]第?\\(?[\\u03B1-\\u09B6θθ0-9a-z一二三四五六七八九十(]+['”′″]?\\)?)*圖/gi\n);\n\nexport const figStartMatch = (key) => {\n  const commaMatch =\n    key.match(figWithCommaStart) || key.match(figWithThisCommaStart);\n  const rangeMatch =\n    key.match(figWithRangeStart) || key.match(figWithThisRangeStart);\n\n  if ((commaMatch || rangeMatch) === null) return null;\n  if (commaMatch && !rangeMatch) return commaMatch;\n  else if (!commaMatch && rangeMatch) return rangeMatch;\n  else\n    return commaMatch[0].length > rangeMatch[0].length\n      ? commaMatch\n      : rangeMatch;\n};\n\nexport const allFigBetweenMatch = (paragraph) => {\n  const allCommaMatch = [\n    ...paragraph.matchAll(figWithCommaBetween),\n    ...paragraph.matchAll(figWithThisCommaBetween),\n  ];\n  const allRangeMatch = [\n    ...paragraph.matchAll(figWithRangeBetween),\n    ...paragraph.matchAll(figWithThisRangeBetween),\n  ];\n\n  const allMatches = [...allCommaMatch, ...allRangeMatch].sort(\n    (a, b) => a.index - b.index\n  );\n  const finalMatches = [];\n\n  while (allMatches.length > 0) {\n    const tmp = allMatches.shift();\n\n    if (\n      tmp.index >=\n      (finalMatches[finalMatches.length - 1]?.index ?? -1) +\n        (finalMatches[finalMatches.length - 1]?.[0].length ?? 0)\n    ) {\n      finalMatches.push(tmp);\n      continue;\n    }\n\n    if (\n      tmp.index === (finalMatches[finalMatches.length - 1]?.index ?? -1) &&\n      tmp[0].length > (finalMatches[finalMatches.length - 1]?.[0].length ?? 0)\n    ) {\n      finalMatches[finalMatches.length - 1] = tmp;\n    }\n  }\n\n  return finalMatches;\n};\n","import { aboriginalWords } from \"../dict/aboriginalWords\";\nimport { symetricPrefix } from \"../dict/allReferWords\";\nimport { concatWordSeparater } from \"../dict/concatWordSeparater\";\nimport {\n  allFigBetweenMatch,\n  // figWithCommaBetween,\n  // figWithThisCommaBetween,\n  // figWithRangeBetween,\n  // figWithThisRangeBetween,\n} from \"../dict/figReg\";\nimport { allKeyBetweenMatch, allSymbolChar } from \"../dict/keyRegs\";\nimport { getKeyInRange } from \"./otherUtils\";\n\nexport const findMatches = (\n  applicationNum,\n  paragraph,\n  regExp,\n  concatRegExp,\n  concatSymRegExp,\n  regExpWithWrongChar,\n  descriptionOfElementMap,\n  figureOfDrawingsMap,\n  allDrawings\n) => {\n  // 符號說明的元件開頭是英文 -> 優先處理\n  const elementsStartWithAlphabet = regExp\n    .split(\"|\")\n    .filter((el) => RegExp(`^[${allSymbolChar}']+`, \"i\").test(el))\n    .map((el) =>\n      el.slice(el.match(RegExp(`^[${allSymbolChar}']+`, \"i\"))[0].length)\n    )\n    .filter((el) => typeof el === \"string\" && el.length > 0);\n\n  const elementsStartWithAlphabetOrigin = regExp\n    .split(\"|\")\n    .filter((el) => RegExp(`^[${allSymbolChar}']+`, \"i\").test(el))\n    .filter((el) => typeof el === \"string\" && el.length > 0)\n    .join(\"|\");\n\n  // console.log(elementsStartWithAlphabet);\n  // debugger;\n\n  // 0. 找圖式簡單說明明\n  let figMatches = [];\n  let allMatchesFromFig = allFigBetweenMatch(paragraph)\n    .filter(\n      (match) =>\n        !/^[@θ%度˚℃]/.test(paragraph.slice(match.index + match[0].length))\n    )\n    .filter((match) => {\n      if (elementsStartWithAlphabet.length === 0) {\n        return true;\n      }\n      return !RegExp(`^(${elementsStartWithAlphabet.join(\"|\")})`).test(\n        paragraph.slice(match.index + match[0].length)\n      );\n    });\n\n  // if (allFigBetweenMatch(paragraph).length > 0) {\n  //   console.log(allFigBetweenMatch(paragraph));\n  //   console.log(allMatchesFromFig);\n\n  //   const allCommaMatch = [\n  //     ...paragraph.matchAll(figWithCommaBetween),\n  //     ...paragraph.matchAll(figWithThisCommaBetween),\n  //   ];\n  //   const allRangeMatch = [\n  //     ...paragraph.matchAll(figWithRangeBetween),\n  //     ...paragraph.matchAll(figWithThisRangeBetween),\n  //   ];\n  //   console.log(\"allCommaMatch: \", allCommaMatch);\n  //   console.log(\"allRangeMatch: \", allRangeMatch);\n  //   debugger;\n  // }\n\n  /*\n  if (paragraph.startsWith(\"進一步參考圖1\")) {\n    console.log(\n      allFigBetweenMatch(paragraph).filter(\n        (match) =>\n          !/^[@θ%度˚℃]/.test(paragraph.slice(match.index + match[0].length))\n      )\n    );\n    console.log(\"elementsStartWithAlphabet\", elementsStartWithAlphabet);\n    console.log(\"allMatchesFromFig\", allMatchesFromFig);\n    debugger;\n  }\n  */\n\n  /*if (paragraph.startsWith(\"據此，本創作之擺飾品於製作實施時，請一併參閱\")) {\n    const allCommaMatch = [\n      ...paragraph.matchAll(figWithCommaBetween),\n      ...paragraph.matchAll(figWithThisCommaBetween)\n    ];\n    const allRangeMatch = [\n      ...paragraph.matchAll(figWithRangeBetween),\n      ...paragraph.matchAll(figWithThisRangeBetween)\n    ];\n\n    const allMatches = [...allCommaMatch, ...allRangeMatch].sort(\n      (a, b) => a.index - b.index\n    );\n    console.log(\"allMatches: \", allMatches);\n    debugger;\n\n    const finalMatches = [];\n\n    while (allMatches.length > 0) {\n      const tmp = allMatches.shift();\n\n      if (\n        tmp.index >\n        (finalMatches[finalMatches.length - 1]?.index ?? -1) +\n          (finalMatches[finalMatches.length - 1]?.[0].length ?? 0)\n      ) {\n        finalMatches.push(tmp);\n        continue;\n      }\n\n      if (\n        tmp.index === (finalMatches[finalMatches.length - 1]?.index ?? -1) &&\n        tmp[0].length > (finalMatches[finalMatches.length - 1]?.[0].length ?? 0)\n      ) {\n        finalMatches[finalMatches.length - 1] = tmp;\n      }\n    }\n    console.log(\"final matches: \", finalMatches);\n    debugger;\n  }*/\n\n  allMatchesFromFig.forEach((match) => {\n    let keys = match[0]\n      .replaceAll(/第|圖/g, \"\")\n      .replaceAll(/[()]/g, \"\")\n      .split(/[、，,或與和以及跟]/)\n      .filter((e) => e !== \"\")\n      .map((k) => k.trim());\n\n    // if (/.+[~-].+/.test(keys[0])) {\n    //   keys = getKeyInRange(keys[0]);\n    // }\n    if (keys.some((curKey) => /.+[-~～到至].+/.test(curKey))) {\n      keys = keys.reduce((accKeys, curKey) => {\n        if (/.+[-~～到至].+/.test(curKey)) {\n          return [...accKeys, ...getKeyInRange(curKey, true)];\n        }\n        return [...accKeys, curKey];\n      }, []);\n    }\n\n    match.type = \"figure\";\n    match.keys = keys.map((k) => \"圖\" + k);\n\n    // console.log(match);\n    // debugger;\n\n    figMatches.push(match);\n    // console.log(\"we fine one\");\n    // console.log(match);\n    //   debugger;\n  });\n\n  // 1. 先找特別元件名稱 -> 符號 e.g. 第一、第二元件\n  let concatMatches = [];\n  if (concatRegExp !== \"\") {\n    const _concatRegExp = RegExp(\n      `(第[一二三四五六七八九十]([${concatWordSeparater}]第?[一二三四五六七八九十])+(${concatRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*)`,\n      \"ig\"\n    );\n    concatMatches = [...concatMatches, ...paragraph.matchAll(_concatRegExp)];\n    // Test\n    // if (concatMatches.length > 0) {\n    //   console.log(\"concatMatches\");\n    //   console.log(concatMatches);\n    //   debugger;\n    // }\n  }\n  if (concatSymRegExp !== \"\") {\n    const _concatSymRegExp = RegExp(\n      `([${symetricPrefix()}]([${concatWordSeparater}][${symetricPrefix()}])+(${concatSymRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*)`,\n      \"ig\"\n    );\n    concatMatches = [...concatMatches, ...paragraph.matchAll(_concatSymRegExp)];\n  }\n  if (concatMatches.length > 0) {\n    concatMatches = concatMatches\n      .filter(\n        (match) =>\n          !figMatches.some(\n            (mt) =>\n              !(\n                match.index + match[0].length <= mt.index ||\n                match.index >= mt.index + mt[0].length\n              )\n          )\n      )\n      .sort((a, b) => a.index - b.index)\n      .map((match) => {\n        match.type = \"concatMatch\";\n        // console.log(match);\n        // debugger;\n        if (\n          match[5] &&\n          RegExp(`[${allSymbolChar}']+$`, \"i\").test(match[5]) &&\n          (/^[@θ%度˚℃]/.test(paragraph.slice(match.index + match[0].length)) ||\n            (elementsStartWithAlphabet.length > 0 &&\n              RegExp(`^(${elementsStartWithAlphabet.join(\"|\")})`).test(\n                paragraph.slice(match.index + match[0].length)\n              )))\n        ) {\n          match[0] = match[0].split(/[、,]/).slice(0, -1).join(\"、\");\n          match[5] = match[5].split(/[、,]/).slice(0, -1).join(\"、\");\n          match[6] = match[6].split(/[、,]/).slice(0, -1).join(\"、\");\n        }\n        return match;\n      });\n  }\n\n  /**\n   * Test\n   */\n  // console.log(_regExp);\n  // debugger;\n\n  // 2. 先找元件名稱 -> 符號\n  let matches = [];\n  for (let i = 0; i <= 1; i++) {\n    if (i === 1 && elementsStartWithAlphabetOrigin === \"\") {\n      break;\n    }\n    const _regExp = RegExp(\n      //`(${regExp})\\\\(?([${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*)`,\n      `(${\n        i === 0 ? regExp : elementsStartWithAlphabetOrigin\n      })\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*)`,\n      `ig`\n    );\n    // console.log(_regExp);\n    // debugger;\n\n    let matchesThisRound = [...paragraph.matchAll(_regExp)]\n      .filter(\n        (match) =>\n          !figMatches.some(\n            (mt) =>\n              !(\n                match.index + match[0].length <= mt.index ||\n                match.index >= mt.index + mt[0].length\n              )\n          )\n      )\n      .filter(\n        (match) =>\n          !matches.some(\n            (mt) =>\n              !(\n                match.index + match[0].length <= mt.index ||\n                match.index >= mt.index + mt[0].length\n              )\n          )\n      )\n      .filter(\n        (match) =>\n          !concatMatches.some(\n            (mt) =>\n              !(\n                match.index + match[0].length <= mt.index ||\n                match.index >= mt.index + mt[0].length\n              )\n          )\n      )\n      .map((match) => {\n        if (\n          match[3] &&\n          RegExp(`[${allSymbolChar}']+$`, \"i\").test(match[3]) &&\n          (/^[@θ%度˚℃]/.test(paragraph.slice(match.index + match[0].length)) ||\n            (elementsStartWithAlphabet.length > 0 &&\n              RegExp(`^(${elementsStartWithAlphabet.join(\"|\")})`).test(\n                paragraph.slice(match.index + match[0].length)\n              )))\n        ) {\n          // console.log(\"change match\");\n          // console.log(match);\n          // debugger;\n          match[0] = match[0].split(/[、,]/).slice(0, -1).join(\"、\");\n          match[3] = match[3].split(/[、,]/).slice(0, -1).join(\"、\");\n          match[4] = match[4].split(/[、,]/).slice(0, -1).join(\"、\");\n          // debugger;\n          return match;\n        }\n        return match;\n      })\n      .map((match) => {\n        if (\n          /[()]$/.test(match[0]) &&\n          !RegExp(`[${allSymbolChar}-~']+\\\\)$`, \"i\").test(match[0])\n        ) {\n          match[0] = match[0].slice(0, match[0].length - 1);\n          return match;\n        }\n        return match;\n      });\n\n    // Test\n    // if (\n    //   /^如圖1至圖10所示，圖中揭示出，為一種手腳並用升降移位輔助裝置/.test(\n    //     paragraph\n    //   )\n    // ) {\n    //   console.log(paragraph);\n    //   console.log(\n    //     [...paragraph.matchAll(_regExp)]\n    //       .filter(\n    //         (match) =>\n    //           !matches.some(\n    //             (mt) =>\n    //               !(\n    //                 match.index + match[0].length <= mt.index ||\n    //                 match.index >= mt.index + mt[0].length\n    //               )\n    //           )\n    //       )\n    //       .filter(\n    //         (match) =>\n    //           !concatMatches.some(\n    //             (mt) =>\n    //               !(\n    //                 match.index + match[0].length <= mt.index ||\n    //                 match.index >= mt.index + mt[0].length\n    //               )\n    //           )\n    //       )\n    //       .map((match) => {\n    //         if (\n    //           match[3] &&\n    //           /[${allSymbolChar}']+$/i.test(match[3]) &&\n    //           (/^[@θ%度˚℃]/.test(\n    //             paragraph.slice(match.index + match[0].length)\n    //           ) ||\n    //             RegExp(`^(${elementsStartWithAlphabet.join(\"|\")})`).test(\n    //               paragraph.slice(match.index + match[0].length)\n    //             ))\n    //         ) {\n    //           console.log(\"change match\");\n    //           console.log(\"origin match\", match);\n    //           console.log(\n    //             `paragraph.slice(match.index + match[0].length)`,\n    //             paragraph.slice(match.index + match[0].length)\n    //           );\n    //           console.log(\n    //             `final if`,\n    //             match[3] &&\n    //               /[${allSymbolChar}']+$/i.test(match[3]) &&\n    //               (/^[@θ%度˚℃]/.test(\n    //                 paragraph.slice(match.index + match[0].length)\n    //               ) ||\n    //                 (elementsStartWithAlphabet.length > 0 &&\n    //                   RegExp(`^(${elementsStartWithAlphabet.join(\"|\")})`).test(\n    //                     paragraph.slice(match.index + match[0].length)\n    //                   )))\n    //           );\n\n    //           debugger;\n    //           match[0] = match[0].split(/[、,]/).slice(0, -1).join(\"、\");\n    //           match[3] = match[3].split(/[、,]/).slice(0, -1).join(\"、\");\n    //           match[4] = match[4].split(/[、,]/).slice(0, -1).join(\"、\");\n    //           // debugger;\n    //           return match;\n    //         }\n    //         return match;\n    //       })\n    //   );\n    //   debugger;\n    // }\n\n    matches = [...matchesThisRound, ...matches].sort(\n      (a, b) => a.index - b.index\n    );\n  }\n\n  matches = matches.map((match, matchIdx) => {\n    if (\n      RegExp(`^(以及|和|與|及|或|到|至)\\\\(?[${allSymbolChar}']+\\\\)?`, \"i\").test(\n        paragraph.slice(match.index + match[0].length)\n      )\n    ) {\n      const extraKeys = paragraph\n        .slice(match.index + match[0].length)\n        .match(\n          RegExp(\n            `^(以及|和|與|及|或)(\\\\(?[${allSymbolChar}']+\\\\)?)(@|θ|%|\\\\\\\\|\\\\?|\\\\.|\\\\+|\\\\[|\\\\]|\\\\(|\\\\)|{|}|「|」|˚|℃|的|皆|個|年|月|日|度|[0-9]|[a-z]|[A-Z])?`,\n            \"i\"\n          )\n        );\n      // .match(\n      //   /^(以及|和|與|及|或)(\\(?[0-9a-zθ']+\\)?)(@|θ|%|\\\\|\\?|\\.|\\+|\\[|\\]|\\(|\\)|{|}|「|」|˚|℃|的|皆|個|年|月|日|度|[0-9]|[a-z]|[A-Z])?/i\n      // );\n      const extraRange = paragraph\n        .slice(match.index + match[0].length)\n        .match(\n          RegExp(\n            `^(至|到)(\\\\(?[${allSymbolChar}']+\\\\)?)(@|θ|%|\\\\\\\\|\\\\?|\\\\.|\\\\+|\\\\[|\\\\]|\\\\(|\\\\)|{|}|「|」|˚|℃|的|皆|個|年|月|日|度|[0-9]|[a-z]|[A-Z])?`,\n            \"i\"\n          )\n        );\n\n      if ((extraKeys || extraRange)[3]) {\n        return match;\n      }\n\n      if (\n        matches[matchIdx + 1] &&\n        match.index + match[0].length + (extraKeys || extraRange)[0].length >=\n          matches[matchIdx + 1].index\n      ) {\n        return match;\n      }\n      if (\n        figMatches.find(\n          (mt) =>\n            !(\n              match.index +\n                match[0].length +\n                (extraKeys || extraRange)[0].length <=\n                mt.index || match.index >= mt.index + mt[0].length\n            )\n        )\n      ) {\n        return match;\n      }\n      if (\n        concatMatches.find(\n          (mt) =>\n            !(\n              match.index +\n                match[0].length +\n                (extraKeys || extraRange)[0].length <=\n                mt.index || match.index >= mt.index + mt[0].length\n            )\n        )\n      ) {\n        return match;\n      }\n\n      if (extraKeys) {\n        match.extraKeys = extraKeys[2];\n      } else {\n        match.extraRange = extraRange[2];\n      }\n\n      match[0] = match[0] + (extraKeys || extraRange)[0];\n      // console.log(\"it ok to add new key\");\n      // console.log(\"we got sth here\");\n      // console.log(match);\n      // // console.log(extraKeys);\n      // debugger;\n      return match;\n    }\n    return match;\n  });\n\n  // console.log(\"my matches\");\n  // console.log(matches);\n\n  // console.log(matches);\n  // if (/^在較佳實施例的量子裝置.量子電腦.之中/.test(paragraph)) {\n  //   console.log(\"1. my matches\");\n  //   console.log(_regExp);\n  //   console.log(paragraph);\n  //   console.log(matches);\n  //   debugger;\n  // }\n\n  // 3. 最後找有錯字的元件名稱\n  const _regExpWithWrongChar = RegExp(\n    //`(${regExpWithWrongChar})\\\\(?([${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*)`,\n    `(${regExpWithWrongChar})\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*)`,\n    `ig`\n  );\n  // console.log(_regExpWithWrongChar);\n  // debugger;\n\n  const matchesWithWrongChar = [...paragraph.matchAll(_regExpWithWrongChar)];\n  let wrongCharMatches = [];\n  matchesWithWrongChar.forEach((match) => {\n    if (\n      figMatches.find(\n        (mt) =>\n          !(\n            match.index + match[0].length <= mt.index ||\n            match.index >= mt.index + mt[0].length\n          )\n      )\n    ) {\n      return;\n    }\n    if (\n      concatMatches.find(\n        (mt) =>\n          !(\n            match.index + match[0].length <= mt.index ||\n            match.index >= mt.index + mt[0].length\n          )\n      )\n    ) {\n      return;\n    }\n    if (\n      matches.find(\n        (mt) =>\n          !(\n            match.index + match[0].length <= mt.index ||\n            match.index >= mt.index + mt[0].length\n          )\n      )\n    ) {\n      return;\n    }\n    wrongCharMatches.push(match);\n  });\n\n  wrongCharMatches = wrongCharMatches\n    .map((match) => {\n      if (\n        match[3] &&\n        RegExp(`[${allSymbolChar}']+$`, \"i\").test(match[3]) &&\n        (/^[@θ%度˚℃]/.test(paragraph.slice(match.index + match[0].length)) ||\n          (elementsStartWithAlphabet.length > 0 &&\n            RegExp(`^(${elementsStartWithAlphabet.join(\"|\")})`).test(\n              paragraph.slice(match.index + match[0].length)\n            )))\n      ) {\n        // console.log(match);\n        match[0] = match[0].split(/[、,]/).slice(0, -1).join(\"、\");\n        match[3] = match[3].split(/[、,]/).slice(0, -1).join(\"、\");\n        match[4] = match[4].split(/[、,]/).slice(0, -1).join(\"、\");\n        // debugger;\n        return match;\n      }\n      return match;\n    })\n    .map((match, matchIdx) => {\n      if (\n        RegExp(\n          `^(以及|和|與|及|或|到|至)\\\\(?[${allSymbolChar}']+\\\\)?`,\n          \"i\"\n        ).test(paragraph.slice(match.index + match[0].length))\n      ) {\n        const extraKeys = paragraph\n          .slice(match.index + match[0].length)\n          .match(\n            RegExp(\n              `(以及|和|與|及|或)(\\\\(?[${allSymbolChar}']+\\\\)?)(@|θ|%|\\\\\\\\|\\\\?|\\\\.|\\\\+|\\\\[|\\\\]|\\\\(|\\\\)|{|}|「|」|˚|℃|的|皆|個|年|月|日|度|[0-9]|[a-z]|[A-Z])?`,\n              \"i\"\n            )\n          );\n        // .match(\n        //   /^(以及|和|與|及|或)(\\(?[0-9a-zθ']+\\)?)(@|θ|%|\\\\|\\?|\\.|\\+|\\[|\\]|\\(|\\)|{|}|「|」|˚|℃|的|皆|個|年|月|日|度|[0-9]|[a-z]|[A-Z])?/i\n        // );\n\n        const extraRange = paragraph\n          .slice(match.index + match[0].length)\n          .match(\n            RegExp(\n              `^(至|到)(\\\\(?[${allSymbolChar}']+\\\\)?)(@|θ|%|\\\\\\\\|\\\\?|\\\\.|\\\\+|\\\\[|\\\\]|\\\\(|\\\\)|{|}|「|」|˚|℃|的|皆|個|年|月|日|度|[0-9]|[a-z]|[A-Z])?`,\n              \"i\"\n            )\n          );\n        // .match(\n        //   /^(至|到)(\\(?[0-9a-zθ']+\\)?)(@|θ|%|\\\\|\\?|\\.|\\+|\\[|\\]|\\(|\\)|{|}|「|」|˚|℃|的|皆|個|年|月|日|度|[0-9]|[a-z]|[A-Z])?/i\n        // );\n\n        if ((extraKeys || extraRange)[3]) {\n          return match;\n        }\n\n        const nextMatchIdx =\n          (matches.find((mm) => mm.index > match.index) &&\n            matches.find((mm) => mm.index > match.index).index) ||\n          1000000;\n        const nextWrongMatchIdx =\n          (wrongCharMatches[matchIdx + 1] &&\n            wrongCharMatches[matchIdx + 1].index) ||\n          1000000;\n        const nextIdx =\n          nextMatchIdx < nextWrongMatchIdx ? nextMatchIdx : nextWrongMatchIdx;\n        if (\n          match.index + match[0].length + (extraKeys || extraRange)[0].length >=\n          nextIdx\n        ) {\n          return match;\n        }\n        if (\n          concatMatches.find(\n            (mt) =>\n              !(\n                match.index +\n                  match[0].length +\n                  (extraKeys || extraRange)[0].length <=\n                  mt.index || match.index >= mt.index + mt[0].length\n              )\n          )\n        ) {\n          return match;\n        }\n\n        if (extraKeys) {\n          match.extraKeys = extraKeys[2];\n        } else {\n          match.extraRange = extraRange[2];\n        }\n\n        match[0] = match[0] + (extraKeys || extraRange)[0];\n        return match;\n      }\n      return match;\n    });\n\n  // Test\n  // if (/^本發明中，所謂「產生蒸氣」意指藉由以下方法/.test(paragraph)) {\n  //   console.log(\"wrongCharMatches\");\n  //   console.log(wrongCharMatches);\n  //   debugger;\n  // }\n\n  // 4. 再找符號 -> 元件名稱\n  let symbolMatches = [];\n  let allMatchesFromSymbol = allKeyBetweenMatch(paragraph)\n    .filter(\n      (match) =>\n        !/^[@θ%度˚℃]/.test(paragraph.slice(match.index + match[0].length))\n    )\n    .filter((match) => {\n      if (elementsStartWithAlphabet.length === 0) {\n        return true;\n      }\n      return !RegExp(`^(${elementsStartWithAlphabet.join(\"|\")})`).test(\n        paragraph.slice(match.index + match[0].length)\n      );\n    })\n    .filter(\n      (match) =>\n        !figMatches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.index ||\n              match.index >= mt.index + mt[0].length\n            )\n        )\n    )\n    .filter(\n      (match) =>\n        !concatMatches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.index ||\n              match.index >= mt.index + mt[0].length\n            )\n        )\n    )\n    .filter(\n      (match) =>\n        !matches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.index ||\n              match.index >= mt.index + mt[0].length\n            )\n        )\n    );\n\n  // Test\n  // if (\n  //   /^該殼體1，其上具有一頭部殼體11、一握把殼體12及一頭部上蓋13。該頭部殼體11/.test(\n  //     paragraph\n  //   )\n  // ) {\n  //   console.log(\"check here\");\n  //   console.log(allKeyBetweenMatch(paragraph));\n  //   console.log(allMatchesFromSymbol);\n  //   debugger;\n  // }\n\n  allMatchesFromSymbol.forEach((match) => {\n    let keys = match[0]\n      .replaceAll(/[()]/g, \"\")\n      .split(/[、,]/)\n      .filter((e) => e !== \"\");\n    // if (/.+[~-].+/.test(keys[0])) {\n    //   keys = getKeyInRange(keys[0]);\n    // }\n    if (keys.some((curKey) => /.+[~-].+/.test(curKey))) {\n      keys = keys.reduce((accKeys, curKey) => {\n        if (/.+[-~～].+/.test(curKey)) {\n          return [...accKeys, ...getKeyInRange(curKey)];\n        }\n        return [...accKeys, curKey];\n      }, []);\n    }\n\n    const correctPreElements = keys.map((key) => {\n      const matchedPreElements = [\n        ...((descriptionOfElementMap[key] &&\n          descriptionOfElementMap[key].values) ||\n          []),\n        ...((figureOfDrawingsMap[key] && figureOfDrawingsMap[key].values) ||\n          []),\n      ];\n\n      if (matchedPreElements.length > 0) {\n        return matchedPreElements;\n      }\n      return getDuplicateValues(key, descriptionOfElementMap);\n    });\n\n    if (\n      correctPreElements.some((v) => v === null) ||\n      !correctPreElements.every(\n        (v) => JSON.stringify(v) === JSON.stringify(correctPreElements[0])\n      )\n    ) {\n      return;\n    }\n\n    let prevElement = correctPreElements[0]\n      .filter((e) => e !== \"\")\n      .map((mm) => {\n        if (match.index - mm.length >= 0) {\n          // Test\n          // console.log(\"correctPreElements\", mm);\n          // console.log(\n          //   \"testPreElements\",\n          //   paragraph.slice(match.index - mm.length, match.index)\n          // );\n          // debugger;\n          return findClosestElement(\n            paragraph.slice(match.index - mm.length, match.index),\n            mm\n          );\n        }\n        return null;\n      })\n      .filter((e) => e !== null && !/[^\\u4E00-\\u9FFF]/.test(e.testElement))\n      .sort((a, b) => b.matchedRatio - a.matchedRatio)[0];\n\n    // console.log(\"keys: \", keys);\n    // console.log(\"correctPreElement: \", correctPreElements[0]);\n    // console.log(\"prevElement: \", prevElement);\n    // debugger;\n\n    if (\n      !prevElement ||\n      figMatches.some(\n        (mt) =>\n          !(\n            match.index + match[0].length <= mt.index ||\n            match.index - prevElement.testElement.length >=\n              mt.index + mt[0].length\n          )\n      ) ||\n      concatMatches.some(\n        (mt) =>\n          !(\n            match.index + match[0].length <= mt.index ||\n            match.index - prevElement.testElement.length >=\n              mt.index + mt[0].length\n          )\n      ) ||\n      matches.some(\n        (mt) =>\n          !(\n            match.index + match[0].length <= mt.index ||\n            match.index - prevElement.testElement.length >=\n              mt.index + mt[0].length\n          )\n      ) ||\n      wrongCharMatches.some(\n        (mt) =>\n          !(\n            match.index + match[0].length <= mt.index ||\n            match.index - prevElement.testElement.length >=\n              mt.index + mt[0].length\n          )\n      )\n    ) {\n      return;\n    }\n\n    match[0] = prevElement.testElement + match[0];\n    match.index -= prevElement.testElement.length;\n    match.type = \"symbol\";\n    match.keys = keys;\n    match.prevElement = prevElement.testElement;\n    match.potentialElement = prevElement.realElement;\n\n    symbolMatches.push(match);\n    // console.log(\"we fine one\");\n    // console.log(match);\n    //   debugger;\n  });\n\n  // console.log(regMatchesKey);\n  // debugger;\n  // const regSymbol = RegExp(\n  //   `(((${regMatchesKey.slice(\n  //     0,\n  //     regMatchesKey.length - 1\n  //   )})+)(([、,](${regMatchesKey.slice(0, regMatchesKey.length - 1)})+)*))`,\n  //   \"ig\"\n  // );\n\n  // // console.log(regSymbol);\n  // //console.log(`(${regExpWithWrongChar.slice(0, regExpWithWrongChar.length-1)})$`);\n\n  // const matchesBySymbol = [...paragraph.matchAll(regSymbol)];\n  // const symbolReg = `(${regExpWithWrongChar})$`;\n\n  // // console.log(symbolReg);\n  // // debugger;\n\n  // const hasCharBefore = /(@|、|，|、|，|-|；|:|,|\\\\|\\?|\\.|\\+|\\[|\\]|\\(|\\)|{|}|「|」|第|圖|例|約|的|皆|和|或|及|至|[0-9]|[a-z]|[A-Z])$/;\n  // const hasCharAfter = /^(@|θ|%|\\\\|\\?|\\.|\\+|\\[|\\]|\\(|\\)|{|}|「|」|˚|℃|的|皆|個|年|月|日|度|[0-9]|[a-z]|[A-Z])/;\n\n  // matchesBySymbol\n  //   .filter(\n  //     (symbolMatches) =>\n  //       !hasCharBefore.test(paragraph.slice(0, symbolMatches.index)) &&\n  //       !hasCharAfter.test(\n  //         paragraph.slice(symbolMatches.index + symbolMatches[0].length)\n  //       )\n  //   )\n  //   .forEach((symbolMatches) => {\n  //     const previousElement = paragraph\n  //       .slice(0, symbolMatches.index)\n  //       .match(symbolReg);\n  //     if (previousElement === null && symbolMatches[0].length < 2) {\n  //       return;\n  //     }\n  //     symbolMatches.index = previousElement\n  //       ? symbolMatches.index - previousElement[0].length\n  //       : symbolMatches.index;\n  //     symbolMatches.value = previousElement\n  //       ? previousElement[0] + symbolMatches[0]\n  //       : symbolMatches[0];\n  //     if (\n  //       matches.find(\n  //         (mt) =>\n  //           !(\n  //             symbolMatches.index + symbolMatches.value.length <= mt.index ||\n  //             symbolMatches.index >= mt.index + mt[0].length\n  //           )\n  //       )\n  //     ) {\n  //       return;\n  //     }\n  //     symbolMatches.keys = symbolMatches[0].split(/[、,]/).filter((k) => k !== \"\");\n  //     symbolMatches.previousElement = previousElement ? previousElement[0] : null;\n  //     symbolMatches.type = \"symbol\";\n\n  //     // console.log(`get symbol: `);\n  //     // console.log(symbolReg);\n  //     // console.log(symbolMatches);\n  //     // debugger;\n\n  //     matches.push(symbolMatches);\n  //   });\n\n  // 5. 找「發明」此類用語\n  let wrongWordMatches = [];\n  if (applicationNum !== \"\" && applicationNum[3] === \"2\") {\n    wrongWordMatches = [...paragraph.matchAll(/本發明|發明/g)]\n      .filter(\n        (match) =>\n          !figMatches.some(\n            (mt) =>\n              !(\n                match.index + match[0].length <= mt.index ||\n                match.index >= mt.index + mt[0].length\n              )\n          )\n      )\n      .filter(\n        (match) =>\n          !concatMatches.some(\n            (mt) =>\n              !(\n                match.index + match[0].length <= mt.index ||\n                match.index >= mt.index + mt[0].length\n              )\n          )\n      )\n      .filter(\n        (match) =>\n          !matches.some(\n            (mt) =>\n              !(\n                match.index + match[0].length <= mt.index ||\n                match.index >= mt.index + mt[0].length\n              )\n          )\n      )\n      .filter(\n        (match) =>\n          !wrongCharMatches.some(\n            (mt) =>\n              !(\n                match.index + match[0].length <= mt.index ||\n                match.index >= mt.index + mt[0].length\n              )\n          )\n      )\n      .filter(\n        (match) =>\n          !symbolMatches.some(\n            (mt) =>\n              !(\n                match.index + match[0].length <= mt.index ||\n                match.index >= mt.index + mt[0].length\n              )\n          )\n      )\n      .map((match) => {\n        match.type = \"wrongWords\";\n        return match;\n      });\n  }\n\n  // Test\n  // if (wrongWordMatches.length > 0) {\n  //   console.log(wrongWordMatches);\n  //   debugger;\n  // }\n\n  // 6. 找原住民用語\n  let aboriginalMatches = [...paragraph.matchAll(RegExp(aboriginalWords, \"g\"))]\n    .filter(\n      (match) =>\n        !figMatches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.index ||\n              match.index >= mt.index + mt[0].length\n            )\n        )\n    )\n    .filter(\n      (match) =>\n        !concatMatches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.index ||\n              match.index >= mt.index + mt[0].length\n            )\n        )\n    )\n    .filter(\n      (match) =>\n        !matches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.index ||\n              match.index >= mt.index + mt[0].length\n            )\n        )\n    )\n    .filter(\n      (match) =>\n        !wrongCharMatches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.index ||\n              match.index >= mt.index + mt[0].length\n            )\n        )\n    )\n    .filter(\n      (match) =>\n        !symbolMatches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.index ||\n              match.index >= mt.index + mt[0].length\n            )\n        )\n    )\n    .filter(\n      (match) =>\n        !wrongWordMatches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.index ||\n              match.index >= mt.index + mt[0].length\n            )\n        )\n    )\n    .map((match) => {\n      match.type = \"aboriginalWords\";\n      return match;\n    });\n\n  matches = [\n    ...figMatches,\n    ...concatMatches,\n    ...matches,\n    ...wrongCharMatches,\n    ...symbolMatches,\n    ...wrongWordMatches,\n    ...aboriginalMatches,\n  ].sort((a, b) => a.index - b.index);\n\n  matches = matches.reduce((acc, cur) => {\n    if (acc.find((m) => m.index === cur.index)) {\n      return acc;\n    }\n    acc.push(cur);\n    return acc;\n  }, []);\n\n  //Test\n  /*\n  if (/^請參閱/.test(paragraph)) {\n    console.log(\"all matches\");\n    console.log(matches);\n    debugger;\n  }\n  */\n\n  return matches;\n};\n\nconst findClosestElement = (testElement, realElement) => {\n  // console.log(\"try this\");\n  // console.log(\"testElement: \", testElement);\n  // console.log(\"realElement: \", realElement);\n  // debugger;\n\n  let matchedCharCount = 0;\n  for (let i = 0; i < testElement.length; i++) {\n    if (realElement.includes(testElement[i])) {\n      matchedCharCount++;\n    }\n  }\n  return matchedCharCount / realElement.length >= 0.5\n    ? {\n        testElement,\n        realElement,\n        matchedRatio: matchedCharCount / realElement.length,\n      }\n    : null;\n};\n\nconst getDuplicateValues = (key, descriptionOfElementMap) => {\n  const values = [];\n\n  Object.keys(descriptionOfElementMap).forEach((k) => {\n    if (k.startsWith(`${key}_duplicate`)) {\n      values.push(...descriptionOfElementMap[k].values);\n    }\n  });\n\n  return values.length === 0 ? null : values;\n};\n","const words = Array.from(\n  new Set([\n    \"以允許\",\n    \"以用來\",\n    \"相對應\",\n    \"相對於\",\n    \"對應於\",\n    \"對應到\",\n    \"作用在\",\n    \"做用在\",\n    \"作用於\",\n    \"做用於\",\n    \"可用以\",\n    \"可對應\",\n    \"係用以\",\n    \"可用來\",\n    \"係用來\",\n    \"可用於\",\n    \"係用於\",\n    \"上述\",\n    \"前述\",\n    \"對於\",\n    \"對應\",\n    \"用以\",\n    \"用於\",\n    \"用來\",\n    \"可以\",\n    \"不行\",\n    \"無法\",\n    \"包括\",\n    \"包含\",\n    \"一種\",\n    \"多種\",\n    \"若干\",\n    \"具有\",\n    \"延伸\",\n    \"而且\",\n    \"並且\",\n    \"以及\",\n    \"大於\",\n    \"小於\",\n    \"等於\",\n    \"共有\",\n    \"置於\",\n    \"位於\",\n    \"至少\",\n    \"最少\",\n    \"至多\",\n    \"最多\",\n    \"第一\",\n    \"第二\",\n    \"第三\",\n    \"第四\",\n    \"第五\",\n    \"第六\",\n    \"第七\",\n    \"第八\",\n    \"第九\",\n    \"第十\",\n    \"是否\",\n    \"較佳\",\n    \"另外\",\n    \"任意\",\n    \"任一\",\n    \"另\",\n    \"任\",\n    \"又\",\n    \"有\",\n    \"或\",\n    \"並\",\n    \"若\",\n    \"且\",\n    \"係\",\n    \"是\",\n    \"之\",\n    \"的\",\n    \"和\",\n    \"與\",\n    \"及\",\n    \"且\",\n    \"該\", // 「該」是一定要的\n    \"一\" // 「一」也很重要\n  ])\n);\n\nexport const allSeperatedWords = () =>\n  [...words].sort((a, b) => b.length - a.length).join(\"|\");\n","import { stringToUnicode } from \"./stringToUnicode\";\nimport { findMatches } from \"./findMatches\";\nimport { checkKeyCorrect } from \"./checkKeyCorrect\";\nimport { getKeyInRange, isKeyInReserve } from \"./otherUtils\";\nimport { allSeperatedWords } from \"../dict/allSeperatedWords\";\nimport { symetricPrefix } from \"../dict/allReferWords\";\nimport { concatWordSeparater } from \"../dict/concatWordSeparater\";\nimport { isKeyValid } from \"../dict/keyRegs\";\nimport { getMapValues } from \"./otherUtils\";\n\nexport const modifySingleParagraph = (\n  applicationNum,\n  general,\n  content,\n  tables,\n  regExp,\n  concatRegExp,\n  concatSymRegExp,\n  regExpsOrigin,\n  regExpWithWrongChar,\n  descriptionOfElementMap,\n  figureOfDrawingsMap,\n  allDrawings,\n  dataType\n) => {\n  try {\n    let paragraph = content.replace(/\\s/g, \"\");\n    const matches = findMatches(\n      applicationNum,\n      paragraph,\n      regExp,\n      concatRegExp,\n      concatSymRegExp,\n      regExpWithWrongChar,\n      descriptionOfElementMap,\n      figureOfDrawingsMap,\n      allDrawings\n    );\n    // Test\n    // if (\n    //   paragraph.includes(\n    //     \"本創作提供一種複合鞋釘，包括由第一材料製成的第一部件以及由異於第一材料的第二材料製成的第二部件。\"\n    //   )\n    // ) {\n    //   console.log(matches);\n    //   debugger;\n    // }\n\n    let paragraphMatch = {\n      figures: [],\n      figuresErrors: [],\n      corrects: [],\n      wrongs: [],\n      potentialErrors: [],\n      wrongWords: [],\n      aboriginalWords: [],\n    };\n\n    for (let i = matches.length - 1; i >= 0; i--) {\n      if (matches[i].type === \"figure\") {\n        const start = matches[i].index;\n        const end = matches[i].index + matches[i][0].length;\n        const figs = [...matches[i].keys].reverse();\n        let copyParagraph = paragraph;\n        let hasWrongFigs = false;\n        let wrongFigNotInText = false;\n\n        /*\n        console.log(matches[i]);\n        console.log(\"start: \", start, \" end: \", end);\n        console.log(\"figs: \", figs);\n        debugger;\n        */\n\n        figs.forEach((fig) => {\n          if (allDrawings.find((drawing) => drawing.fig === fig)) {\n            // Figure is correct\n            if (\n              matches[i][0].match(\n                RegExp(\n                  `圖?\\\\(?${trimFig(fig.slice(1))}\\\\)?(?!.*${trimFig(\n                    fig.slice(1)\n                  )})`\n                )\n              ) ||\n              matches[i][0].match(\n                RegExp(\n                  `第?\\\\(?${trimFig(fig.slice(1))}\\\\)?(?!.*${trimFig(\n                    fig.slice(1)\n                  )})圖?`\n                )\n              )\n            ) {\n              // 圖X 有出現在文字中\n              const figMatch_1 = matches[i][0].match(\n                // RegExp(\n                //   `圖?\\\\(?${trimFig(fig.slice(1))}\\\\)?(?!.*${trimFig(\n                //     fig.slice(1)\n                //   )})`\n                // )\n                RegExp(`圖?\\\\(?${trimFig(fig.slice(1))}\\\\)?`)\n              );\n              const figMatch_2 = matches[i][0].match(\n                // RegExp(\n                //   `第?\\\\(?${trimFig(fig.slice(1))}\\\\)?(?!.*${trimFig(\n                //     fig.slice(1)\n                //   )})圖?`\n                // )\n                RegExp(`第?\\\\(?${trimFig(fig.slice(1))}\\\\)?圖?`)\n              );\n              // test\n              /*\n              if (fig === \"圖1\") {\n                console.log(\"figMatch_1: \", figMatch_1);\n                console.log(\"figMatch_2: \", figMatch_2);\n                debugger;\n              }\n              */\n              // test\n              const figMatch =\n                figMatch_1[0].length > figMatch_2[0].length\n                  ? figMatch_1\n                  : figMatch_2;\n              const figStart = start + figMatch.index;\n              const figEnd = figStart + figMatch[0].length;\n              copyParagraph = [\n                copyParagraph.slice(0, figEnd),\n                `</i>`,\n                copyParagraph.slice(figEnd),\n              ].join(\"\");\n              copyParagraph = [\n                copyParagraph.slice(0, figStart),\n                `<i class='figure f-${stringToUnicode(fig)}'>`,\n                copyParagraph.slice(figStart),\n              ].join(\"\");\n              paragraphMatch.figures.unshift({\n                group: stringToUnicode(fig),\n                fig,\n                start: figStart,\n                end: figEnd,\n              });\n            } else {\n              // 圖X 未出現在文字中\n              paragraphMatch.figures.unshift({\n                group: stringToUnicode(fig),\n                fig,\n                start,\n                end,\n              });\n            }\n\n            return;\n          }\n\n          // Figure has error\n          hasWrongFigs = true;\n\n          if (\n            matches[i][0].match(\n              RegExp(\n                `圖?\\\\(?${trimFig(fig.slice(1))}\\\\)?(?!.*${trimFig(\n                  fig.slice(1)\n                )})`\n              )\n            ) ||\n            matches[i][0].match(\n              RegExp(\n                `第?\\\\(?${trimFig(fig.slice(1))}\\\\)?(?!.*${trimFig(\n                  fig.slice(1)\n                )})圖?`\n              )\n            )\n          ) {\n            // 圖X 有出現在文字中\n            const figMatch_1 = matches[i][0].match(\n              // RegExp(\n              //   `圖?\\\\(?${trimFig(fig.slice(1))}\\\\)?(?!.*${trimFig(\n              //     fig.slice(1)\n              //   )})`\n              // )\n              RegExp(`圖?\\\\(?${trimFig(fig.slice(1))}\\\\)?`)\n            );\n            const figMatch_2 = matches[i][0].match(\n              // RegExp(\n              //   `第?\\\\(?${trimFig(fig.slice(1))}\\\\)?(?!.*${trimFig(\n              //     fig.slice(1)\n              //   )})圖?`\n              // )\n              RegExp(`第?\\\\(?${trimFig(fig.slice(1))}\\\\)?圖?`)\n            );\n            const figMatch =\n              figMatch_1[0].length > figMatch_2[0].length\n                ? figMatch_1\n                : figMatch_2;\n            const figStart = start + figMatch.index;\n            const figEnd = figStart + figMatch[0].length;\n\n            copyParagraph = [\n              copyParagraph.slice(0, figEnd),\n              `</i>`,\n              copyParagraph.slice(figEnd),\n            ].join(\"\");\n            copyParagraph = [\n              copyParagraph.slice(0, figStart),\n              `<i class='errorfigure ef-${stringToUnicode(fig)}'>`,\n              copyParagraph.slice(figStart),\n            ].join(\"\");\n            paragraphMatch.figuresErrors.unshift({\n              group: stringToUnicode(fig),\n              fig,\n              start: figStart,\n              end: figEnd,\n            });\n          } else {\n            // 圖X 未出現在文字中\n            wrongFigNotInText = true;\n            paragraphMatch.figuresErrors.unshift({\n              group: stringToUnicode(fig),\n              fig,\n              start,\n              end,\n            });\n          }\n        });\n\n        if (!hasWrongFigs || (hasWrongFigs && !wrongFigNotInText)) {\n          paragraph = copyParagraph;\n        } else {\n          paragraph = [\n            paragraph.slice(0, end),\n            `</i>`,\n            paragraph.slice(end),\n          ].join(\"\");\n          paragraph = [\n            paragraph.slice(0, start),\n            `<i class='errorfigure'>`,\n            paragraph.slice(start),\n          ].join(\"\");\n        }\n      } else if (matches[i].type === \"wrongWords\") {\n        const start = matches[i].index;\n        const end = matches[i].index + matches[i][0].length;\n        const value = matches[i][0];\n\n        paragraph = [\n          paragraph.slice(0, end),\n          `</i>`,\n          paragraph.slice(end),\n        ].join(\"\");\n        paragraph = [\n          paragraph.slice(0, start),\n          `<i class='error ew-${stringToUnicode(value)}'>`,\n          paragraph.slice(start),\n        ].join(\"\");\n        paragraphMatch.wrongWords.unshift({\n          group: stringToUnicode(value),\n          value,\n          start,\n          end,\n        });\n      } else if (matches[i].type === \"aboriginalWords\") {\n        const start = matches[i].index;\n        const end = matches[i].index + matches[i][0].length;\n        const value = matches[i][0];\n\n        paragraph = [\n          paragraph.slice(0, end),\n          `</i>`,\n          paragraph.slice(end),\n        ].join(\"\");\n        paragraph = [\n          paragraph.slice(0, start),\n          `<i class='aboriginal ab-${stringToUnicode(value)}'>`,\n          paragraph.slice(start),\n        ].join(\"\");\n        paragraphMatch.aboriginalWords.unshift({\n          group: stringToUnicode(value),\n          value,\n          start,\n          end,\n        });\n      } else if (matches[i].type === \"symbol\") {\n        // console.log(matches[i]);\n        // debugger;\n        const start = matches[i].index;\n        const end = matches[i].index + matches[i][0].length;\n        const value = matches[i].prevElement;\n        const keys = matches[i].keys;\n        const potentialElement = matches[i].potentialElement;\n        if (\n          dataType !== \"allAbstractParagraphDetails\" &&\n          dataType !== \"allTechnicalFieldParagraphDetails\" &&\n          dataType !== \"allBackgroundArtParagraphDetails\"\n        ) {\n          paragraph = [\n            paragraph.slice(0, end),\n            `</i>`,\n            paragraph.slice(end),\n          ].join(\"\");\n          paragraph = [\n            paragraph.slice(0, start),\n            `<i class='potentialError pe-${stringToUnicode(value)}'>`,\n            paragraph.slice(start),\n          ].join(\"\");\n        }\n        paragraphMatch.potentialErrors.unshift({\n          group: stringToUnicode(value),\n          value,\n          item:\n            \"「\" +\n            value +\n            keys.join(\"、\") +\n            \"」是否為「\" +\n            potentialElement +\n            keys.join(\"、\") +\n            \"」\",\n          keys /*: [\"\"]*/,\n          start,\n          end,\n        });\n      } else if (matches[i].type === \"concatMatch\") {\n        // 檢查複合式元件 e.g. 第一、第二凹凸結構100、200\n        // Test\n        // console.log(matches[i]);\n        // debugger;\n        let keyBeenModified = false;\n        let hasAnyError = false;\n        const item = matches[i][1]; // 元件\n        const items = item\n          .split(RegExp(`[${concatWordSeparater}]`))\n          .map((it) => {\n            if (item.startsWith(\"第\")) {\n              return (\n                \"第\" +\n                it[it.match(/[一二三四五六七八九十]/).index] +\n                matches[i][3]\n              );\n            } else {\n              return (\n                it[it.match(RegExp(`[${symetricPrefix()}]`)).index] +\n                matches[i][3]\n              );\n            }\n          });\n\n        // Test\n        // console.log(\"item\", item);\n        // console.log(\"items\", items);\n        // debugger;\n\n        let keys =\n          matches[i][5] === \"\"\n            ? [matches[i][4].replaceAll(/[()]/g, \"\")]\n            : matches[i][5]\n            ? [\n                matches[i][4],\n                ...matches[i][5]\n                  .replaceAll(/[()]/g, \"\")\n                  .split(/[、,]/)\n                  .filter((e) => e !== \"\"),\n              ]\n            : [\"\"];\n        // if (/.+[~-].+/.test(keys[0])) {\n        //   keyBeenModified = true;\n        //   keys = getKeyInRange(keys[0]);\n        // }\n        if (keys.some((curKey) => /.+[-~～].+/.test(curKey))) {\n          // keyBeenModified = true;\n          keys = keys.reduce((accKeys, curKey) => {\n            if (/.+[-~～].+/.test(curKey)) {\n              const _keyInRange = getKeyInRange(curKey);\n              if (_keyInRange.length > 0) {\n                keyBeenModified = true;\n              }\n              return [...accKeys, ..._keyInRange];\n            }\n            return [...accKeys, curKey];\n          }, []);\n          // keys = getKeyInRange(keys[0]);\n        }\n        keys =\n          keys.length === 1 && keys[0] === \"\"\n            ? keys\n            : keys\n                .filter((k) => k !== \"\")\n                .filter((k) => !isKeyInReserve(k) && isKeyValid(k));\n        keys = Array.from(new Set(keys));\n\n        let paragraphReplacements = [];\n\n        // [...keys].filter((k) => k !== \"\").reverse().forEach((_key, _kIdx) => {\n        //   const _keyIdx = keys - 1 - _kIdx;\n        //   if (\n        //     descriptionOfElementMap[keys[_keyIdx]] &&\n        //     descriptionOfElementMap[keys[_keyIdx]].values.includes(items[_keyIdx])\n        //   ) {\n\n        //   }\n\n        // });\n\n        items.forEach((_item, _itemIdx) => {\n          /// const _itemIdx = item.split(\"、\").length - 1 - _itIdx;\n          const matchIndex = regExpsOrigin.map((o) => o.value).indexOf(_item);\n          const value = item.split(RegExp(`[${concatWordSeparater}]`))[\n            _itemIdx\n          ];\n          let start = matches[i].index;\n          item\n            .split(RegExp(`[${concatWordSeparater}]`))\n            .filter((iitt, iiddxx) => iiddxx < _itemIdx)\n            .forEach((iitt) => {\n              start += iitt.length + 1;\n            });\n          const end =\n            _itemIdx === items.length - 1\n              ? matches[i].index + matches[i][1].length\n              : start + value.length;\n          const keyStart = keys[_itemIdx]\n            ? matches[i].index + matches[i][0].indexOf(keys[_itemIdx])\n            : -100;\n          const keyEnd = keys[_itemIdx]\n            ? keyStart + keys[_itemIdx].length\n            : -100;\n\n          if (matchIndex >= 0) {\n            // 元件名稱正確\n            if (keys[_itemIdx] && keys[_itemIdx] !== \"\") {\n              // 有符號\n              if (\n                isKeyInMapValue(\n                  keys[_itemIdx],\n                  _item,\n                  descriptionOfElementMap,\n                  figureOfDrawingsMap\n                ) ||\n                hasDuplicateKey(\n                  keys[_itemIdx],\n                  _item,\n                  descriptionOfElementMap\n                ) ||\n                isKeyInReserve(keys[_itemIdx])\n              ) {\n                // 符號正確\n                paragraphMatch.corrects.unshift({\n                  group: stringToUnicode(\n                    getMapValues(\n                      descriptionOfElementMap,\n                      figureOfDrawingsMap,\n                      regExpsOrigin[matchIndex]\n                    )?.values[0] || _item\n                  ),\n                  value,\n                  item:\n                    getMapValues(\n                      descriptionOfElementMap,\n                      figureOfDrawingsMap,\n                      regExpsOrigin[matchIndex]\n                    )?.values[0] || _item,\n                  keys: [keys[_itemIdx]],\n                  start,\n                  end,\n                  keyStart,\n                  keyEnd,\n                });\n                const replacement = `<span class=\"c-${stringToUnicode(\n                  getMapValues(\n                    descriptionOfElementMap,\n                    figureOfDrawingsMap,\n                    regExpsOrigin[matchIndex]\n                  )?.values[0] || _item\n                )}\">`;\n                if (!keyBeenModified) {\n                  paragraphReplacements.push({\n                    start: keyStart,\n                    end: keyEnd,\n                    replacement,\n                  });\n                }\n                paragraphReplacements.push({\n                  start,\n                  end,\n                  replacement,\n                });\n              } else {\n                // 符號錯誤\n                hasAnyError = true;\n\n                paragraphMatch.wrongs.unshift({\n                  group: stringToUnicode(\n                    getMapValues(\n                      descriptionOfElementMap,\n                      figureOfDrawingsMap,\n                      regExpsOrigin[matchIndex]\n                    )?.values[0] || _item\n                  ),\n                  item:\n                    getMapValues(\n                      descriptionOfElementMap,\n                      figureOfDrawingsMap,\n                      regExpsOrigin[matchIndex]\n                    )?.values[0] || _item,\n                  value: item,\n                  fullValue:\n                    getMapValues(\n                      descriptionOfElementMap,\n                      figureOfDrawingsMap,\n                      regExpsOrigin[matchIndex]\n                    )?.values[0] || _item,\n                  wrongKeys: [keys[_itemIdx]],\n                });\n\n                if (\n                  dataType !== \"allAbstractParagraphDetails\" &&\n                  dataType !== \"allTechnicalFieldParagraphDetails\" &&\n                  dataType !== \"allBackgroundArtParagraphDetails\"\n                ) {\n                  const replacement = `<i class=\"error e-${stringToUnicode(\n                    getMapValues(\n                      descriptionOfElementMap,\n                      figureOfDrawingsMap,\n                      regExpsOrigin[matchIndex]\n                    )?.values[0] || _item\n                  )}\">`;\n                  if (!keyBeenModified) {\n                    paragraphReplacements.push({\n                      start: keyStart,\n                      end: keyEnd,\n                      replacement,\n                      type: \"error\",\n                    });\n                  }\n                  paragraphReplacements.push({\n                    start,\n                    end,\n                    replacement,\n                    type: \"error\",\n                  });\n                }\n              }\n            } else {\n              // 沒有符號\n              paragraphMatch.corrects.unshift({\n                group: stringToUnicode(\n                  getMapValues(\n                    descriptionOfElementMap,\n                    figureOfDrawingsMap,\n                    regExpsOrigin[matchIndex]\n                  )?.values[0] || _item\n                ),\n                value,\n                item:\n                  getMapValues(\n                    descriptionOfElementMap,\n                    figureOfDrawingsMap,\n                    regExpsOrigin[matchIndex]\n                  )?.values[0] || _item,\n                keys: [],\n                start,\n                end,\n                keyStart,\n                keyEnd,\n              });\n              paragraphReplacements.push({\n                start,\n                end,\n                replacement: `<span class=\"c-${stringToUnicode(\n                  getMapValues(\n                    descriptionOfElementMap,\n                    figureOfDrawingsMap,\n                    regExpsOrigin[matchIndex]\n                  )?.values[0] || _item\n                )}\">`,\n              });\n            }\n          } else {\n            // 元件名稱錯誤\n            if (keys[_itemIdx] && keys[_itemIdx] !== \"\" && !keyBeenModified) {\n              // 有符號\n              if (\n                regExpsOrigin\n                  .map((og) => og.key)\n                  .find((ogkey) => ogkey === keys[_itemIdx])\n              ) {\n                // 元件名稱錯誤 有符號且該符號存在\n                hasAnyError = true;\n                paragraphMatch.wrongs.unshift({\n                  group: stringToUnicode(_item),\n                  item: _item,\n                  value: _item,\n                  wrongKeys: [keys[_itemIdx]],\n                });\n\n                if (\n                  dataType !== \"allAbstractParagraphDetails\" &&\n                  dataType !== \"allTechnicalFieldParagraphDetails\" &&\n                  dataType !== \"allBackgroundArtParagraphDetails\"\n                ) {\n                  paragraphReplacements.push({\n                    start,\n                    end,\n                    replacement: `<i class=\"error e-${stringToUnicode(\n                      _item\n                    )}\">`,\n                    type: \"error\",\n                  });\n\n                  paragraphReplacements.push({\n                    start: keyStart,\n                    end: keyEnd,\n                    replacement: `<i class=\"error e-${stringToUnicode(\n                      _item\n                    )}\">`,\n                    type: \"error\",\n                  });\n                }\n              } else {\n                // 元件名稱錯誤 有符號但該符號不存在\n                const closestItem = findClosestItem(regExpsOrigin, _item);\n                paragraphMatch.potentialErrors.unshift({\n                  group: stringToUnicode(_item),\n                  item: closestItem\n                    ? _item + keys[_itemIdx] + \"：是否為「\" + closestItem + \"」\"\n                    : _item,\n                  value: _item,\n                  start,\n                  end,\n                  keys: [keys[_itemIdx]],\n                });\n\n                if (\n                  dataType !== \"allAbstractParagraphDetails\" &&\n                  dataType !== \"allTechnicalFieldParagraphDetails\" &&\n                  dataType !== \"allBackgroundArtParagraphDetails\"\n                ) {\n                  paragraphReplacements.push({\n                    start,\n                    end,\n                    replacement: `<i class=\"potentialError pe-${stringToUnicode(\n                      _item\n                    )}\">`,\n                    type: \"potentialError\",\n                  });\n\n                  paragraphReplacements.push({\n                    start: keyStart,\n                    end: keyEnd,\n                    replacement: `<i class=\"potentialError pe-${stringToUnicode(\n                      _item\n                    )}\">`,\n                    type: \"potentialError\",\n                  });\n                }\n              }\n            } else if (!keyBeenModified) {\n              // 沒有符號\n              if (\n                dataType !== \"allAbstractParagraphDetails\" &&\n                dataType !== \"allTechnicalFieldParagraphDetails\" &&\n                dataType !== \"allBackgroundArtParagraphDetails\"\n              ) {\n                paragraphReplacements.push({\n                  start,\n                  end,\n                  replacement: `<i class=\"potentialError pe-${stringToUnicode(\n                    _item\n                  )}\">`,\n                  type: \"potentialError\",\n                });\n              }\n\n              const closestItem = findClosestItem(regExpsOrigin, _item);\n              paragraphMatch.potentialErrors.unshift({\n                group: stringToUnicode(_item),\n                value: _item,\n                item: closestItem\n                  ? _item + \"：是否為「\" + closestItem + \"」\"\n                  : _item,\n                keys: [],\n                start,\n                end,\n              });\n            }\n          }\n        }); // each item\n\n        if (keyBeenModified && hasAnyError) {\n          paragraphReplacements.push({\n            start: matches[i].index + matches[i][1].length,\n            end: matches[i].index + matches[i][0].length,\n            replacement: `<i class=\"error\">`,\n            type: \"error\",\n          });\n        }\n\n        paragraphReplacements\n          .sort((a, b) => b.start - a.start)\n          .forEach(({ start, end, replacement, type }) => {\n            paragraph = [\n              paragraph.slice(0, end),\n              type === \"error\" || type === \"potentialError\"\n                ? `</i>`\n                : `</span>`,\n              paragraph.slice(end),\n            ].join(\"\");\n            paragraph = [\n              paragraph.slice(0, start),\n              replacement,\n              paragraph.slice(start),\n            ].join(\"\");\n          });\n\n        // Test\n        // if (\n        //   paragraph.includes(\n        //     \"從第3、4圖中可以看出，本實施例之緩衝元件30具有一頂部31、一第一側壁部321、一第二側壁部322以及一弧狀部33\"\n        //   )\n        // ) {\n        //   console.log(matches[i]);\n        //   console.log(\"items: \", items);\n        //   console.log(\"keys: \", keys);\n        //   console.log(\"keybeenModified: \", keyBeenModified);\n        //   console.log(\"hasAnyError: \", hasAnyError);\n        //   debugger;\n        // }\n      } else {\n        // 檢查元件\n        let keyBeenModified = false;\n        let value = matches[i][0]; // 元件+符號\n        if ([...value.matchAll(/[()]/g)].length === 1 && /[()]$/.test(value)) {\n          // value: \"無線收發器11)\"  刪掉最後的括號\n          value = value.slice(0, value.length - 1);\n        }\n        const item = matches[i][1]; // 元件\n        let keys =\n          matches[i][3] === \"\"\n            ? [matches[i][2].replaceAll(/[()]/g, \"\")]\n            : matches[i][3]\n            ? [\n                matches[i][2],\n                ...matches[i][3]\n                  .replaceAll(/[()]/g, \"\")\n                  .split(/[、,]/)\n                  .filter((e) => e !== \"\"),\n              ]\n            : [\"\"];\n\n        if (keys.some((curKey) => /.+[-~～].+/.test(curKey))) {\n          // keyBeenModified = true;\n          keys = keys.reduce((accKeys, curKey) => {\n            if (/.+[-~～].+/.test(curKey)) {\n              const _keyInRange = getKeyInRange(curKey);\n              if (_keyInRange.length > 0) {\n                keyBeenModified = true;\n              }\n              return [...accKeys, ..._keyInRange];\n            }\n            return [...accKeys, curKey];\n          }, []);\n          // keys = getKeyInRange(keys[0]);\n        }\n\n        if (matches[i].extraKeys) {\n          // let extraKeys = [matches[i].extraKeys];\n          // if (/.+[~-].+/.test(matches[i].extraKeys)) {\n          //  keyBeenModified = true;\n          //  extraKeys = getKeyInRange(matches[i].extraKeys);\n          // }\n          // keys = [...keys, ...extraKeys];\n          keyBeenModified = true;\n          keys = [...keys, matches[i].extraKeys.replaceAll(/[()]/g, \"\")];\n        } else if (matches[i].extraRange) {\n          keyBeenModified = true;\n          const lastStart = keys[keys.length - 1];\n          const keyInExtraRange = getKeyInRange(\n            `${lastStart}~${matches[i].extraRange.replaceAll(/[()]/g, \"\")}`\n          );\n\n          if (keyInExtraRange.length > 1) {\n            keys = [...keys.slice(0, -1), ...keyInExtraRange];\n          } else {\n            value = value.slice(0, value.match(/(至|到)/).index);\n          }\n        }\n        keys =\n          keys.length === 1 && keys[0] === \"\"\n            ? keys\n            : keys\n                .filter((k) => k !== \"\")\n                .filter((k) => !isKeyInReserve(k) && isKeyValid(k));\n        keys = Array.from(new Set(keys));\n\n        const start = matches[i].index;\n        let end =\n          matches[i].index + (keys.length === 0 ? item.length : value.length);\n\n        const matchIndex = regExpsOrigin\n          .map((o) => o.value)\n          .indexOf(matches[i][1]);\n        if (matchIndex >= 0) {\n          // 元件名稱正確\n          const keyErrorResults = checkKeyCorrect(\n            item,\n            keys,\n            descriptionOfElementMap,\n            figureOfDrawingsMap\n          );\n          if (keyErrorResults.some((arr) => !arr)) {\n            // has key error\n            let newValue = keyBeenModified\n              ? `<i class=\"error e-${stringToUnicode(item)}\">` + value + `</i>`\n              : value.replace(\n                  item,\n                  `<i class=\"error e-${stringToUnicode(item)}\">${item}</i>`\n                );\n\n            let lastIndex = newValue.length;\n            for (let _iii = keyErrorResults.length - 1; _iii >= 0; _iii--) {\n              if (!keyErrorResults[_iii]) {\n                if (!keyBeenModified) {\n                  const replacement = `<i class=\"error e-${stringToUnicode(\n                    item\n                  )}\">${keys[_iii]}</i>`;\n                  // let reg = `${keys[_iii]}([^${keys[_iii]}]*)$`;\n                  // newValue = newValue.replace(RegExp(reg), replacement + '$1');  // replace from\n                  const currentIndex = newValue\n                    .slice(0, lastIndex)\n                    .lastIndexOf(keys[_iii]);\n                  newValue =\n                    newValue.slice(0, currentIndex) +\n                    newValue\n                      .slice(currentIndex, lastIndex)\n                      .replace(keys[_iii], replacement) +\n                    newValue.slice(lastIndex);\n                  lastIndex = currentIndex;\n                }\n\n                // Test\n                // if (\n                //   matches[i].index === 76 &&\n                //   paragraph.startsWith(\"另一方面，紫外線光源\")\n                // ) {\n                //   console.log(matches[i]);\n                //   console.log(`value: ${value}`);\n                //   console.log(`item: ${item}`);\n                //   console.log(`keys: ${keys}`);\n                //   console.log(`keyErrorResults: ${keyErrorResults}`);\n                //   console.log(`_iii: ${_iii}`);\n                //   console.log(`keys[_iii]: ${keys[_iii]}`);\n                //   debugger;\n                // }\n\n                const wrongMatch = {\n                  group: stringToUnicode(item),\n                  item:\n                    getMapValues(\n                      descriptionOfElementMap,\n                      figureOfDrawingsMap,\n                      regExpsOrigin[matchIndex]\n                    )?.values[0] || item,\n                  value: item,\n                  wrongKeys: [keys[_iii]],\n                };\n                if (\n                  paragraphMatch.wrongs[0] &&\n                  paragraphMatch.wrongs[0].group === wrongMatch.group &&\n                  paragraphMatch.wrongs[0].item === wrongMatch.item &&\n                  paragraphMatch.wrongs[0].value === wrongMatch.value\n                ) {\n                  paragraphMatch.wrongs[0] = {\n                    ...wrongMatch,\n                    wrongKeys: [\n                      ...paragraphMatch.wrongs[0].wrongKeys,\n                      ...wrongMatch.wrongKeys.filter(\n                        (k) => !paragraphMatch.wrongs[0].wrongKeys.includes(k)\n                      ),\n                    ],\n                  };\n                } else {\n                  paragraphMatch.wrongs.unshift(wrongMatch);\n                }\n\n                // console.log(\"new Error been shifted\");\n                // console.log(paragraphMatch.wrongs[0]);\n                // debugger;\n              }\n            }\n            // console.log(\"best content: \", newValue);\n            end = start + newValue.length;\n\n            if (\n              dataType !== \"allAbstractParagraphDetails\" &&\n              dataType !== \"allTechnicalFieldParagraphDetails\" &&\n              dataType !== \"allBackgroundArtParagraphDetails\"\n            ) {\n              paragraph = [\n                paragraph.slice(0, start),\n                paragraph.slice(start).replace(value, newValue),\n              ].join(\"\");\n            }\n\n            keys = keys.filter((_k, _ik) => keyErrorResults[_ik]);\n            if (keys.length > 0) {\n              paragraphMatch.corrects.unshift({\n                group: stringToUnicode(\n                  getMapValues(\n                    descriptionOfElementMap,\n                    figureOfDrawingsMap,\n                    regExpsOrigin[matchIndex]\n                  )?.values[0] || item\n                ),\n                value,\n                item:\n                  getMapValues(\n                    descriptionOfElementMap,\n                    figureOfDrawingsMap,\n                    regExpsOrigin[matchIndex]\n                  )?.values[0] || item,\n                keys,\n                start,\n                end,\n              });\n            }\n          } else {\n            // all keys are correct\n            paragraphMatch.corrects.unshift({\n              group: stringToUnicode(\n                getMapValues(\n                  descriptionOfElementMap,\n                  figureOfDrawingsMap,\n                  regExpsOrigin[matchIndex]\n                )?.values[0] || item\n              ),\n              value,\n              item:\n                getMapValues(\n                  descriptionOfElementMap,\n                  figureOfDrawingsMap,\n                  regExpsOrigin[matchIndex]\n                )?.values[0] || item,\n              keys,\n              start,\n              end,\n            });\n          }\n\n          // console.log(regExpsOrigin[matchIndex])\n          paragraph = [\n            paragraph.slice(0, end),\n            `</span>`,\n            paragraph.slice(end),\n          ].join(\"\");\n          paragraph = [\n            paragraph.slice(0, start),\n            `<span class=\"c-${stringToUnicode(\n              getMapValues(\n                descriptionOfElementMap,\n                figureOfDrawingsMap,\n                regExpsOrigin[matchIndex]\n              )?.values[0] || item\n            )}\">`,\n            paragraph.slice(start),\n          ].join(\"\");\n        } else {\n          // 元件名稱錯誤\n          if (\n            keys.filter((kkk) => kkk !== \"\").length > 0 &&\n            keys\n              .filter((kkk) => kkk !== \"\")\n              .every((kkkk) =>\n                regExpsOrigin\n                  .map((og) => og.key)\n                  .find((ogkey) => ogkey === kkkk)\n              )\n          ) {\n            // 元件符號錯誤且有符號 而且 該符號存在\n            if (\n              dataType !== \"allAbstractParagraphDetails\" &&\n              dataType !== \"allTechnicalFieldParagraphDetails\" &&\n              dataType !== \"allBackgroundArtParagraphDetails\"\n            ) {\n              paragraph = [\n                paragraph.slice(0, end),\n                `</i>`,\n                paragraph.slice(end),\n              ].join(\"\");\n              paragraph = [\n                paragraph.slice(0, start),\n                // `<i class=\"potentialError pe-${stringToUnicode(item)}\">`,\n                // 新版不管 potential Error\n                // 元件錯就算 Error\n                `<i class=\"error e-${stringToUnicode(item)}\">`,\n                paragraph.slice(start),\n              ].join(\"\");\n            }\n\n            paragraphMatch.wrongs.unshift({\n              group: stringToUnicode(item),\n              item,\n              value: item,\n              wrongKeys: keys,\n            });\n          } else if (!RegExp(allSeperatedWords()).test(item)) {\n            // 元件名稱錯誤且不包含「分隔字」,且沒有符號\n            if (\n              dataType !== \"allAbstractParagraphDetails\" &&\n              dataType !== \"allTechnicalFieldParagraphDetails\" &&\n              dataType !== \"allBackgroundArtParagraphDetails\"\n            ) {\n              paragraph = [\n                paragraph.slice(0, end),\n                `</i>`,\n                paragraph.slice(end),\n              ].join(\"\");\n              paragraph = [\n                paragraph.slice(0, start),\n                `<i class=\"potentialError pe-${stringToUnicode(item)}\">`,\n                paragraph.slice(start),\n              ].join(\"\");\n            }\n\n            // console.log(matches[i]);\n            // debugger;\n\n            const closestItem = findClosestItem(regExpsOrigin, item);\n            paragraphMatch.potentialErrors.unshift({\n              group: stringToUnicode(item),\n              value,\n              item: closestItem\n                ? item + \"：是否為「\" + closestItem + \"」\"\n                : item,\n              keys,\n              start,\n              end,\n            });\n          }\n        }\n      }\n\n      // }\n    } // for each match\n\n    // put back tables if exist\n    for (let j = tables.length - 1; j >= 0; j--) {\n      paragraph = paragraph.replace(\n        `@#%@table${j}table@#%@`,\n        \"<br/>\" + tables[j]\n      );\n    }\n\n    paragraphMatch.wrongs = paragraphMatch.wrongs.reduce((acc, cur) => {\n      if (\n        acc.find(\n          (wrong) =>\n            wrong.group === cur.group &&\n            wrong.item === cur.item &&\n            wrong.value === cur.value\n        )\n      ) {\n        const prevIdx = acc.findIndex(\n          (wrong) =>\n            wrong.group === cur.group &&\n            wrong.item === cur.item &&\n            wrong.value === cur.value\n        );\n        acc[prevIdx] = {\n          ...acc[prevIdx],\n          wrongKeys: [\n            ...acc[prevIdx].wrongKeys,\n            ...cur.wrongKeys.filter((k) => !acc[prevIdx].wrongKeys.includes(k)),\n          ],\n        };\n        return acc;\n      }\n      return [...acc, cur];\n    }, []);\n\n    paragraphMatch.corrects.sort((a, b) => a.start - b.start);\n    paragraphMatch.wrongs.sort((a, b) => a.start - b.start);\n    paragraphMatch.potentialErrors.sort((a, b) => a.start - b.start);\n    paragraphMatch.wrongWords.sort((a, b) => a.start - b.start);\n    paragraphMatch.aboriginalWords.sort((a, b) => a.start - b.start);\n\n    if (\n      dataType === \"allAbstractParagraphDetails\" ||\n      dataType === \"allTechnicalFieldParagraphDetails\" ||\n      dataType === \"allBackgroundArtParagraphDetails\"\n    ) {\n      paragraphMatch.wrongs = [];\n      paragraphMatch.potentialErrors = [];\n    }\n\n    // matchTableForAllParagraph.push(paragraphMatch);\n    // modifiedParagraph.push({general, paragraph});\n    // paragraphDetails = {\n    //   general,\n    //   content,  // old content\n    //   paragraph,  // new content, being modified\n    //   paragraphMatch: {\n    //     corrects: [],\n    //     wrongs: [],\n    //     potentialErrors: [],\n    //   }\n    // }\n\n    // if (paragraphMatch.wrongs.length > 0) {\n    //   console.log(\"This paragraph has errors!\");\n    //   console.log(paragraphMatch.wrongs);\n    //   debugger;\n    // }\n\n    return {\n      isOK: true,\n      general,\n      content,\n      modifiedParagraph: paragraph,\n      tables,\n      paragraphMatch,\n      isCollapse: true,\n    };\n  } catch (err) {\n    console.log(\"here is why\");\n    console.log(err);\n    return {\n      isOK: false,\n      general,\n      content,\n      modifiedParagraph: `<span class='error'>${content}</span>`,\n      tables,\n      paragraphMatch: {\n        figures: [],\n        figuresErrors: [],\n        corrects: [],\n        wrongs: [],\n        potentialErrors: [],\n        wrongWords: [],\n        aboriginalWords: [],\n      },\n      isCollapse: true,\n    };\n  }\n};\n\nfunction findClosestItem(regExpsOrigin, item) {\n  const wantedMatchChar = item.length - 1;\n  return regExpsOrigin\n    .map((o) => o.value)\n    .filter((e) => e.length === item.length)\n    .find((el) => {\n      let matchCharCount = 0;\n      for (let i = 0; i < el.length; i++) {\n        if (el[i] === item[i]) {\n          matchCharCount++;\n        }\n      }\n      if (matchCharCount === wantedMatchChar) return true;\n      return false;\n    });\n}\n\nfunction hasDuplicateKey(key, item, descriptionOfElementMap) {\n  return Object.keys(descriptionOfElementMap)\n    .filter((k) => k.startsWith(`${key}_duplicate`))\n    .some((k) => descriptionOfElementMap[k].values.includes(item));\n}\n\nfunction isKeyInMapValue(\n  key,\n  item,\n  descriptionOfElementMap,\n  figureOfDrawingsMap\n) {\n  if (\n    descriptionOfElementMap[key] &&\n    descriptionOfElementMap[key].values.includes(item)\n  ) {\n    return true;\n  }\n\n  if (\n    figureOfDrawingsMap[key] &&\n    figureOfDrawingsMap[key].values.includes(item)\n  ) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction trimFig(fig) {\n  if (!/^[0-9]+[a-z]$/.test(fig)) return fig;\n\n  const alphabetMatch = fig.match(/[a-z]$/);\n\n  return fig.slice(0, alphabetMatch.index) + \"\\\\(?\" + alphabetMatch[0];\n}\n","import { isKeyInReserve } from \"./otherUtils\";\n\nexport const checkKeyCorrect = (\n  item,\n  keys,\n  descriptionOfElementMap,\n  figureOfDrawingsMap\n) => {\n  // Test\n  /*\n  if (item === \"第二排程選項\" && keys && keys.length > 3) {\n    console.log(Object.keys(descriptionOfElementMap));\n    console.log(keys);\n    console.log(\n      Object.keys(descriptionOfElementMap)\n        .filter((k) => k.startsWith(`15_duplicate`))\n        .map((k) => descriptionOfElementMap[k].values.includes(item))\n    );\n    debugger;\n  }\n  */\n\n  if (keys.length === 1 && (keys[0] === \"\" || keys[0] === undefined)) {\n    return [true];\n  } else {\n    return keys.map((key) => {\n      // Test\n      /*\n      if (key === \"elongatedstructuralsupport\") {\n        console.log(key);\n        debugger;\n      }\n      */\n\n      if (\n        descriptionOfElementMap[key] &&\n        descriptionOfElementMap[key].values.includes(item)\n      ) {\n        return true;\n      }\n\n      if (\n        figureOfDrawingsMap[key] &&\n        figureOfDrawingsMap[key].values.includes(item)\n      ) {\n        return true;\n      }\n\n      /*\n      if (\n        descriptionOfElementMap[key] === undefined &&\n        !Object.keys(descriptionOfElementMap).find((k) =>\n          k.startsWith(`${key}_duplicate`)\n        )\n      ) {\n        return false;\n      }\n      */\n\n      return (\n        Object.keys(descriptionOfElementMap)\n          .filter((k) => k.startsWith(`${key}_duplicate`))\n          .some((k) => descriptionOfElementMap[k].values.includes(item)) ||\n        isKeyInReserve(key)\n      );\n    });\n  }\n};\n\n/*\nexport const checkKeyCorrect = (item, keys, descriptionOfElementMap) => {\n  if (keys.length === 1 && (keys[0] === \"\" || keys[0] === undefined)) {\n    return [true];\n  } else {\n    return keys.map((key) => {\n      if (descriptionOfElementMap[key] === undefined) {\n        return false;\n      }\n      return descriptionOfElementMap[key].values.includes(item);\n    });\n  }\n};\n*/\n","// export const handleSpecialChar = (items) => {\n//   const arrays = [\n//     ...items.matchAll(/[%、，、，-；:,\\/\\\\\\?\\.\\+\\[\\]\\(\\){}「」˚℃]/gi)\n//   ];\n//   for (let i = arrays.length - 1; i >= 0; i--) {\n//     items = [\n//       items.slice(0, arrays[i].index),\n//       `.`,\n//       items.slice(arrays[i].index + arrays[i][0].length)\n//     ].join(\"\");\n//   }\n//   // console.log(items);\n//   return items;\n// };\n\n// .‧·\n/*\n  \"@\",\n  \"、\",\n  \"，\",\n  \"、\",\n  \"-\",\n  \"；\",\n  \":\",\n  \",\",\n  \"\\\\\\\\\",\n  \"\\\\/\",\n  \"\\\\?\",\n  \"\\\\.\",\n  \"\\\\+\",\n  \"\\\\[\",\n  \"\\\\]\",\n  \"\\\\(\",\n  \"\\\\)\",\n  \"{\",\n  \"}\",\n  \"「\",\n  \"」\"\n*/\n\nexport const handleSpecialChar = (items) => {\n  const arrays = [...items.matchAll(/[^θ&＆a-z0-9\\u4E00-\\u9FFF]/gi)];\n  for (let i = arrays.length - 1; i >= 0; i--) {\n    const replaceReg =\n      // arrays[i][0] === \"/\" ||\n      // arrays[i][0] === \"(\" ||\n      // arrays[i][0] === \")\" ||\n      // arrays[i][0] === \"，\" ||\n      // arrays[i][0] === \"、\"\n      [\"/\", \"(\", \")\", \"[\", \"]\", \".\", \"?\", \"+\"].includes(arrays[i][0])\n        ? `\\\\${arrays[i][0]}`\n        : [\n            \"@\",\n            \"、\",\n            \"，\",\n            \"、\",\n            \"‧\",\n            \"·\",\n            \"-\",\n            \"；\",\n            \":\",\n            \",\",\n            \"{\",\n            \"}\",\n            \"「\",\n            \"」\"\n          ].includes(arrays[i][0])\n        ? arrays[i][0]\n        : `[\\\\u4E00-\\\\u9FFF]`;\n    items = [\n      items.slice(0, arrays[i].index),\n      replaceReg,\n      items.slice(arrays[i].index + arrays[i][0].length)\n    ].join(\"\");\n  }\n  // console.log(items);\n  return items;\n};\n","import { extractSingleParagraph } from \"./extractSingleParagraph\";\nimport { modifySingleParagraph } from \"./modifySingleParagraph\";\nimport { handleSpecialChar } from \"./handleSpecialChar\";\nimport { stringToUnicode } from \"./stringToUnicode\";\nimport { symetricPrefix } from \"../dict/allReferWords\";\nimport { pickColor } from \"../dict/elementColors\";\nimport { allSymbolChar } from \"../dict/keyRegs\";\n\nexport const modifyAllParagraph = (\n  data,\n  dataType,\n  whichOne,\n  essentialData,\n  oldDataBodies\n) => {\n  let dataBodies = [];\n  if (typeof whichOne === \"number\" && oldDataBodies) {\n    dataBodies = oldDataBodies.map((oldData) => ({\n      general: oldData.general,\n      content: oldData.content,\n      tables: oldData.tables\n    }));\n  } else if (typeof whichOne === \"number\" && oldDataBodies === null) {\n    dataBodies = data.children.map((child, _ii) => {\n      if (dataType === \"allAbstractParagraphDetails\") {\n        return {\n          ...extractSingleParagraph(child.children[0]),\n          general: `摘要:第${_ii + 1}段`\n        };\n      } else if (dataType === \"allTechnicalFieldParagraphDetails\") {\n        const p = extractSingleParagraph(child);\n        p.general = `技術領域【${p.general}】`;\n        return p;\n      } else if (dataType === \"allBackgroundArtParagraphDetails\") {\n        const p = extractSingleParagraph(child);\n        p.general = `先前技術【${p.general}】`;\n        return p;\n      } else {\n        return extractSingleParagraph(child);\n      }\n    });\n  } else {\n    // update some paragraphs\n    // console.log(\"Update some paragraph\");\n    dataBodies = whichOne.map(({ content, general, isDelete }, pIdx) => {\n      if (isDelete) {\n        return { isDelete };\n      } else if (content || general) {\n        return {\n          general:\n            general ||\n            (oldDataBodies[pIdx] && oldDataBodies[pIdx].general) ||\n            \"無法得知第幾段\",\n          content:\n            content ||\n            (oldDataBodies[pIdx] && oldDataBodies[pIdx].content) ||\n            \"無內容。\",\n          tables: (oldDataBodies[pIdx] && oldDataBodies[pIdx].tables) || [],\n          isUpdated: true\n        };\n      }\n      return {\n        general: oldDataBodies[pIdx].general,\n        content: oldDataBodies[pIdx].content,\n        tables: oldDataBodies[pIdx].tables\n      };\n    });\n  }\n  // allTechnicalFieldParagraphDetails: [],\n  // allBackgroundArtParagraphDetails: [],\n\n  // Test\n  /*\n  if (\n    dataType === \"allAbstractParagraphDetails\" ||\n    dataType === \"allTechnicalFieldParagraphDetails\" ||\n    dataType === \"allBackgroundArtParagraphDetails\"\n  ) {\n    console.log(dataType);\n    console.log(dataBodies);\n    debugger;\n  }\n  */\n\n  findKeyWords(dataBodies, dataType, whichOne, essentialData);\n};\n\nfunction findKeyWords(data, dataType, whichOne, essentialData) {\n  let regExps = [];\n  let regExpsOrigin = [];\n  let concatRegExps = {};\n  let regExp = ``;\n  let concatRegExp = ``;\n  let concatSymRegExp = ``;\n  let regExpWithWrongChar = ``;\n  let regExpBackup = ``;\n  let regExpWithWrongCharbackup = ``;\n\n  // Create regExp for find matches\n  const {\n    applicationNum,\n    descriptionOfElementMap,\n    utilityModelTitle,\n    elementColorMap,\n    figureOfDrawingsMap,\n    allDrawings\n  } = essentialData;\n\n  const allElements = Object.keys(descriptionOfElementMap)\n    .filter((key) => descriptionOfElementMap[key].status !== \"key duplicate\")\n    .reduce(\n      (acc, cur) => [\n        ...acc,\n        ...descriptionOfElementMap[cur].values.map((value) => ({\n          key: cur,\n          value,\n          from: \"d\"\n        }))\n      ],\n      []\n    );\n\n  Object.keys(figureOfDrawingsMap)\n    .filter((key) => figureOfDrawingsMap[key].status !== \"key duplicate\")\n    .forEach((key) =>\n      figureOfDrawingsMap[key].values.forEach((v, vIdx) => {\n        if (\n          !allElements.find((allEl) => allEl.key === key && allEl.value === v)\n        ) {\n          allElements.push({\n            key,\n            value: v,\n            from: \"f\"\n          });\n\n          if (vIdx === 0 && !elementColorMap[stringToUnicode(v)]) {\n            elementColorMap[stringToUnicode(v)] = {\n              value: v,\n              color: pickColor(Object.keys(elementColorMap).length)\n            };\n          }\n        }\n      })\n    );\n\n  allElements.sort((a, b) => b.value.length - a.value.length);\n\n  const utilityModelTitleValue = utilityModelTitle.replace(/[↵\\n]/g, \"\").trim();\n\n  if (\n    utilityModelTitle &&\n    utilityModelTitle !== \"\" &&\n    !allElements.find((el) => utilityModelTitleValue.endsWith(el.value))\n  ) {\n    allElements.push({\n      key: \"utilityModelTitle\",\n      value: utilityModelTitleValue,\n      from: \"t\"\n    });\n    if (!elementColorMap[stringToUnicode(utilityModelTitleValue)]) {\n      elementColorMap[stringToUnicode(utilityModelTitleValue)] = {\n        value: utilityModelTitleValue,\n        color: pickColor(Object.keys(elementColorMap).length)\n      };\n    }\n    // console.log(elementColorMap);\n    // debugger;\n  }\n\n  // console.log(allElements);\n  // debugger;\n\n  allElements\n    // .sort((a, b) => b.value.length - a.value.length)\n    .forEach(({ key, value, from }) => {\n      if (regExps.includes(value) || value === \"\") {\n        return;\n      }\n\n      if (/^第./.test(value)) {\n        // concatRegExps.push({front: value.slice(0, 2), main: value.slice(2)});\n        if (concatRegExps[stringToUnicode(value.slice(2))]) {\n          concatRegExps[stringToUnicode(value.slice(2))].prefixes.push(\n            value.slice(0, 2)\n          );\n        } else {\n          concatRegExps[stringToUnicode(value.slice(2))] = {\n            prefixes: [value.slice(0, 2)],\n            main: value.slice(2),\n            symetric: false\n          };\n        }\n      } else if (RegExp(`^[${symetricPrefix()}]`).test(value)) {\n        // 上、下連接件\n        if (concatRegExps[stringToUnicode(value.slice(1))]) {\n          concatRegExps[stringToUnicode(value.slice(1))].prefixes.push(\n            value.slice(0, 1)\n          );\n        } else {\n          concatRegExps[stringToUnicode(value.slice(1))] = {\n            prefixes: [value.slice(0, 1)],\n            main: value.slice(1),\n            symetric: true\n          };\n        }\n      }\n\n      regExps.unshift(handleSpecialChar(value));\n      regExpsOrigin.unshift({ key, value, from });\n      // do some backup in case that error occurs\n      regExpBackup = regExp;\n      regExpWithWrongCharbackup = regExpWithWrongChar;\n      try {\n        // console.log(\"regExps[0]\", regExps[0]);\n        if (\n          regExps[0].length >= 3 &&\n          !(\n            regExps[0].includes(\"[\\\\u4E00-\\\\u9FFF]\") ||\n            regExps[0].includes(\"\\\\/\") ||\n            regExps[0].includes(\"\\\\(\") ||\n            regExps[0].includes(\"\\\\)\")\n          )\n        ) {\n          for (let i = 0; i < regExps[0].length; i++) {\n            // const replaceReg =\n            //   regExps[0][i] === \"/\" ||\n            //   regExps[0][i] === \"(\" ||\n            //   regExps[0][i] === \")\"\n            //     ? `\\\\${regExps[0][i]}`\n            //     : `[\\\\u4E00-\\\\u9FFF]`;\n\n            regExpWithWrongChar +=\n              [\n                regExps[0].slice(0, i),\n                `[\\\\u4E00-\\\\u9FFF]`,\n                regExps[0].slice(i + 1)\n              ].join(\"\") + \"|\";\n          }\n        } /* else {\n          regExpWithWrongChar += regExps[0] + \"|\";\n        } */\n        regExp += regExps[0] + \"|\";\n        const test1 = `(${regExp.slice(\n          0,\n          regExp.length - 1\n        )})([${allSymbolChar}'-~]*)`.replaceAll(\"\\\\\", \"\\\\\\\\\");\n        const test2 = `(${regExpWithWrongChar.slice(\n          0,\n          regExpWithWrongChar.length - 1\n        )})([${allSymbolChar}'-~]*)`.replaceAll(\"\\\\\", \"\\\\\\\\\");\n        RegExp(test1, `ig`);\n        RegExp(test2, `ig`);\n      } catch (err) {\n        console.log(`RegExp goes wrong: ${regExps[0]}`);\n        regExp = regExpBackup;\n        regExpWithWrongChar = regExpWithWrongCharbackup;\n      }\n      // regExp += regExps[0] + \"|\";\n    });\n\n  Object.values(concatRegExps)\n    .filter((v) => v.prefixes.length > 1)\n    .sort((a, b) => b.main.length - a.main.length)\n    .forEach(({ main, symetric }) => {\n      if (symetric) {\n        concatSymRegExp += main + \"|\";\n      } else {\n        concatRegExp += main + \"|\";\n      }\n    });\n\n  // console.log(utilityModelTitle);\n  // console.log(\"regExp\");\n  // console.log(regExp.slice(0, regExp.length - 1));\n  // console.log(\"regExpWithWrongChar\");\n  // console.log(regExpWithWrongChar.slice(0, regExpWithWrongChar.length - 1));\n  // console.log(regExpsOrigin);\n  // debugger;\n\n  regExp = regExp.slice(0, regExp.length - 1);\n  concatRegExp = concatRegExp.slice(0, concatRegExp.length - 1);\n  concatSymRegExp = concatSymRegExp.slice(0, concatSymRegExp.length - 1);\n  regExpWithWrongChar = regExpWithWrongChar.slice(\n    0,\n    regExpWithWrongChar.length - 1\n  );\n\n  // console.log(regExp);\n  // debugger;\n\n  // Modify Each paragraph\n  if (whichOne === -1) {\n    data.forEach(({ general, content, tables }) => {\n      essentialData[dataType].push(\n        modifySingleParagraph(\n          applicationNum,\n          general,\n          content,\n          tables,\n          regExp,\n          concatRegExp,\n          concatSymRegExp,\n          regExpsOrigin,\n          regExpWithWrongChar,\n          descriptionOfElementMap,\n          figureOfDrawingsMap,\n          allDrawings,\n          dataType\n        )\n      );\n    }); // for each paragraph\n    essentialData[dataType].sort(\n      (a, b) => parseInt(a.general) - parseInt(b.general)\n    );\n  } else {\n    for (let idx = data.length - 1; idx >= 0; idx--) {\n      const { general, content, tables, isUpdated, isDelete } = data[idx];\n      if (isDelete) {\n        essentialData[dataType].splice(idx, 1);\n      } else if (isUpdated) {\n        essentialData[dataType][idx] = modifySingleParagraph(\n          applicationNum,\n          general,\n          content,\n          tables,\n          regExp,\n          concatRegExp,\n          concatSymRegExp,\n          regExpsOrigin,\n          regExpWithWrongChar,\n          descriptionOfElementMap,\n          figureOfDrawingsMap,\n          allDrawings,\n          dataType\n        );\n      }\n    }\n    essentialData[dataType].sort(\n      (a, b) => parseInt(a.general) - parseInt(b.general)\n    );\n  }\n}\n","export const checkClaimConnection = (claim) => {\n  const { content, matches, usedElements, preUsedElements } = claim;\n  const sections = content.split(\"@##@\");\n\n  if (sections.length < 2) {\n    return;\n  }\n\n  for (let i = 0; i < sections.length; i++) {\n    const start =\n      i === 0\n        ? 0\n        : sections[i - 1].start +\n          sections[i - 1].content.length +\n          \"@##@\".length;\n\n    sections[i] = {\n      start,\n      content: sections[i],\n      matches: matches\n        .filter((m) => m.start >= start && m.start < start + sections[i].length)\n        .map((m) => ({ ...m, sectionIdx: i })),\n      usedElements: usedElements\n        .filter((m) => m.start >= start && m.start < start + sections[i].length)\n        .map((m) => ({ ...m, sectionIdx: i })),\n      preUsedElements: preUsedElements\n        .filter((m) => m.start >= start && m.start < start + sections[i].length)\n        .map((m) => ({ ...m, sectionIdx: i })),\n      connected: i === 0 ? true : false\n    };\n  }\n\n  sections.forEach((sec, idx) => {\n    if (idx === 0) {\n      return;\n    }\n\n    // console.log(\"getMainComp: \", idx);\n    sec.mainElement = getMainComp(sec, preUsedElements, usedElements);\n\n    /*\n    if (sec.matches.length === 0 && sec.usedElements.length === 0) {\n      sec.connected = true;\n      return;\n    }\n    */\n\n    if (!sec.mainElement) {\n      sec.connected = true;\n      return;\n    }\n\n    const usedElementInOtherSection = sections\n      .filter((_, i) => i < idx)\n      .map((s) => s.usedElements)\n      .flat();\n\n    sec.matches.forEach((m) => {\n      const result = usedElementInOtherSection.filter(\n        (other) => other.group === m.group\n      );\n      result.forEach((r) => {\n        if (!sections[r.sectionIdx].connected) {\n          sections[r.sectionIdx].connected = true;\n        }\n        if (!sec.connected) {\n          sec.connected = true;\n        }\n      });\n    });\n  });\n\n  /*\n  if (claim.num === 6) {\n    console.log(sections);\n    debugger;\n  }\n  */\n\n  if (sections.length === 2) return;\n\n  sections.forEach((sec, idx) => {\n    if (!sec.connected && sec.mainElement) {\n      /*\n      const otherMainElement = sections\n        .filter((_, i) => i !== idx && i !== 0)\n        .filter(\n          (s) => s.usedElements.length > 0 || s.preUsedElements.length > 0\n        )\n        .map((s) =>\n          s.preUsedElements[0]\n            ? (s.usedElements[0]?.start || Infinity) <=\n              s.preUsedElements[0].start\n              ? s.usedElements[0]\n              : s.preUsedElements[0]\n            : s.usedElements[0]\n        )\n        .filter((s) => !!s)\n        .map((s) => s.value || s.item);\n        */\n\n      // check again, this time, if usedElements and preUsedElements also appear in\n      // other section, it's OK\n      const elementInOtherSection = sections\n        .filter((_, i) => i !== idx)\n        .map((s) => [...s.usedElements, ...s.preUsedElements])\n        .flat();\n\n      const myElements = [...sec.usedElements, ...sec.preUsedElements];\n\n      for (let m of myElements) {\n        if (elementInOtherSection.find((other) => other.group === m.group))\n          return;\n      }\n\n      /*\n      myElements.forEach((m) => {\n        const result = elementInOtherSection.filter(\n          (other) => other.group === m.group\n        );\n        result.forEach((r) => {\n          if (!sections[r.sectionIdx].connected) {\n            sections[r.sectionIdx].connected = true;\n          }\n          if (!sec.connected) {\n            sec.connected = true;\n          }\n        });\n      });\n\n      if (sec.connected) return;\n      */\n\n      // fail to find connection\n      /*\n      const mainElement = sec.preUsedElements[0]\n        ? (sec.usedElements[0]?.start || Infinity) <=\n          sec.preUsedElements[0].start\n          ? sec.usedElements[0].value || sec.usedElements[0].item\n          : sec.preUsedElements[0].value || sec.preUsedElements[0].item\n        : sec.usedElements[0].value || sec.usedElements[0].item;\n        */\n      // console.log(\"section idx\", idx);\n      // debugger;\n\n      const otherMainElement = sections\n        .filter((_, i) => i !== idx && i !== 0)\n        .map((s) => s.mainElement)\n        .filter((s) => !!s);\n\n      claim.errors.push({\n        message: `主要構件「${\n          sec.mainElement\n        }」，未記載與其他主要構件「${otherMainElement.join(\n          \"」、「\"\n        )}」之連結或其對應關係。`,\n        start: content.length,\n        end: content.length,\n        mainElement: sec.mainElement,\n        otherMainElement\n      });\n    }\n  });\n};\n\nconst getMainComp = (sec, preUsedElements, usedElements) => {\n  /*\n      const mainElement = sec.preUsedElements[0]\n        ? (sec.usedElements[0]?.start || Infinity) <=\n          sec.preUsedElements[0].start\n          ? sec.usedElements[0].value || sec.usedElements[0].item\n          : sec.preUsedElements[0].value || sec.preUsedElements[0].item\n        : sec.usedElements[0].value || sec.usedElements[0].item;\n  */\n\n  if (sec.preUsedElements.length === 0 && sec.usedElements.length === 0)\n    return null;\n\n  const mainComp =\n    (sec.preUsedElements[0]?.start || Infinity) <\n    (sec.usedElements[0]?.start || Infinity)\n      ? { ...sec.preUsedElements[0], mainCompType: \"preUsedElements\" }\n      : { ...sec.usedElements[0], mainCompType: \"usedElements\" };\n\n  if ((sec.matches[0]?.start || Infinity) <= mainComp.start) return null;\n\n  // console.log(mainComp);\n  // console.log(sec.matches);\n  // debugger;\n\n  if (mainComp.mainCompType === \"preUsedElements\") {\n    preUsedElements[\n      preUsedElements.findIndex((e) => e.start === mainComp.start)\n    ].isMainComp = true;\n  } else {\n    usedElements[\n      usedElements.findIndex((e) => e.start === mainComp.start)\n    ].isMainComp = true;\n  }\n\n  return mainComp.value || mainComp.item;\n};\n","export const claimStartTerms = [\n  \"申請專利範圍請求項\",\n  \"專利範圍請求項\",\n  \"請求項專利範圍\",\n  \"請求專利範圍\",\n  \"申請專利請求\",\n  \"申請專利範圍\",\n  \"申請請求項\",\n  \"權利請求項\",\n  \"申請專利\",\n  \"申請範圍\",\n  \"申請權利\",\n  \"專利範圍\",\n  \"專利要求\",\n  \"權利要求\",\n  \"專利請求\",\n  \"請求項\"\n].join(\"|\");\n","// (申請專利範圍請求項|申請專利範圍|權利要求|請求項)\n\nimport { claimStartTerms } from \"./claimStartTerms\";\n\nexport const claimStartReg = RegExp(\n  `^(${claimStartTerms})第?\\\\(?[0-9]+\\\\)?項?(\\\\s*(以及|[-~～,，、到至或與和及跟])\\\\s*(${claimStartTerms})?第?\\\\(?[0-9]+\\\\)?項?)*`\n);\n\nexport const getAllClaims = (reg) =>\n  reg\n    .split(/以及|[,，、或與和及跟]/)\n    .map((e) => e.replaceAll(RegExp(`${claimStartTerms}|\\\\(|\\\\)|\\\\s`, \"g\"), \"\"))\n    .map((e) => e.replaceAll(/第|項/g, \"\"));\n\nexport const shouldClaimUseAny = (claimMatchString, claimRanges) => {\n  console.log(\"claimMatchString\", claimMatchString);\n  console.log(claimRanges);\n  debugger;\n\n  if (/[-~～,，、到至與和及跟]/.test(claimMatchString)) return true;\n\n  if (claimRanges.length > 1 && !/或/.test(claimMatchString)) return true;\n\n  return false;\n};\n\nexport const claimHasOrNoAnd = (claimMatchString, claimRanges) => {\n  if (claimRanges.length === 1 && Number(claimRanges[0])) return true;\n\n  if (/以及|[與和及跟]/.test(claimMatchString)) return false;\n\n  if (/或/.test(claimMatchString)) return true;\n\n  return false;\n};\n\n/*\n  申請專利範圍第1、2或3項所述\n  申請專利範圍第1或2或3項所述\n  申請專利範圍第1項、第2項、或第3項其中任一項所述\n  申請專利範圍第1項或第2項或第3項所述\n  申請專利範圍第1、2、3項其中任一項所述\n\n  申請專利範圍第4至6、10項其中任一項所述\n  申請專利範圍第3、4、6至10項其中任一項所述\n  申請專利範圍第3至4、6至10項其中任一項所述\n  申請專利範圍第3至4、6、8至10項其中任一項所述\n  申請專利範圍第1至3項其中任一項所述\n\n  申請專利範圍第1項及申請專利範圍第3項其中任一項所述\n  申請專利範圍第1項或申請專利範圍第3項所述\n*/\n\n/*\n         申請專利範圍第1、2或3項    ->  [1,2]  \n         申請專利範圍第1或2或3項   -> [1,2,3]\n         申請專利範圍第1項、第2項、或第3項 -> [1,2,3] yes\n         申請專利範圍第1項或第2項或第3項 -> [1,2,3]\n         申請專利範圍第1、2、3項 -> [1,2,3]  yes\n\n         申請專利範圍第4至6、10項 -> [4至6,10] yes\n         申請專利範圍第3、4、6至10項 -> [3,4,6至10] yes\n         申請專利範圍第3至4、6至10項 -> [3至4,6至10] yes\n         申請專利範圍第3至4、6、8至10項 -> [3至4,6,8至10] yes\n         申請專利範圍第1至3項 -> [1至3] yes\n\n         申請專利範圍第1項及申請專利範圍第3項 -> [1,3] yes\n         申請專利範圍第1項或申請專利範圍第3項 -> [1,3]\n    */\n","import {\n  claimStartReg,\n  getAllClaims,\n  claimHasOrNoAnd,\n  shouldClaimUseAny,\n} from \"../dict/claimReg\";\nimport { claimStartTerms } from \"../dict/claimStartTerms\";\nimport { getKeyInRange } from \"./otherUtils\";\n\nexport const checkCoOperatingClaim = (originalContent, prevClaims, index) => {\n  let attaches = [];\n  let attemptAttaches = [];\n  let errors = [];\n\n  try {\n    if (\n      !originalContent.match(\n        /^.+?(配合|包含|包括|具有|俱有|依據|依照|為|如|與|依)(申請專利範圍請求項|申請專利範圍|權利要求|請求項)/\n      )\n    )\n      return {\n        attaches,\n        attemptAttaches,\n        errors,\n      };\n\n    // 如果有引用記載\n    // 統一把開頭的「如」，「依據」去掉\n    const coOpMatch = originalContent.match(\n      /(配合|包含|包括|具有|俱有|依據|依照|為|如|與|依)(申請專利範圍請求項|申請專利範圍|權利要求|請求項)/\n    );\n    const content = originalContent.slice(\n      coOpMatch.index + coOpMatch[1].length\n    );\n\n    // console.log(\"有引用記載\");\n    // console.log(originalContent);\n    // console.log(content);\n    // debugger;\n\n    const contentStart = content.split(/[:，;。]/)[0];\n\n    const claimMatchString = contentStart.match(claimStartReg)?.[0];\n\n    // console.log(claimMatchString);\n    // debugger;\n\n    if (!claimMatchString)\n      return {\n        attaches,\n        attemptAttaches,\n        errors,\n      };\n\n    const claimRanges = getAllClaims(claimMatchString);\n\n    // 未以選擇式為之\n    if (\n      shouldClaimUseAny(claimMatchString, claimRanges) &&\n      !contentStart\n        .slice(claimMatchString.length)\n        .match(/(其中任意?|任意?其中|其中|任意?)一項/)\n    ) {\n      errors.unshift({\n        message: `引用記載型式未以選擇式為之`,\n        errorContent: claimMatchString,\n        start: -1000,\n        end: -999,\n      });\n    }\n\n    // 使用大陸用語:權利要求\n    if (/申請專利範圍請求項|權利要求/.test(claimMatchString)) {\n      const errMatch = contentStart.match(/申請專利範圍請求項|權利要求/);\n\n      // console.log(errMatch);\n      // debugger;\n\n      errors.unshift({\n        message: `獨立項之引用記載形式「……${contentStart.slice(\n          0,\n          errMatch.index + errMatch[0].length\n        )}……」，不符合獨立項之引用記載形式`,\n        errorContent: errMatch[0],\n        start: -1000,\n        end: -999,\n      });\n    }\n\n    attaches = claimRanges\n      .reduce((accKeys, curKey) => {\n        if (/.+[-~～到至].+/.test(curKey)) {\n          return [...accKeys, ...getKeyInRange(curKey)];\n        }\n        return [...accKeys, curKey];\n      }, [])\n      .map((a) => parseInt(a));\n\n    if (attaches.find((a) => !a))\n      return {\n        attaches,\n        attemptAttaches,\n        errors,\n      };\n\n    attemptAttaches = attaches.slice();\n\n    /*if (\n      content.match(\n        /如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?[至到~-](申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?.*?(其中|任意|任)[1一]項?/\n      )\n    ) {\n      // `如請求項1至10，其中1項之電連接器之鎖扣結構，其中...`\n      const result = content.match(\n        /如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?[至到~-](申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?.*?(其中|任意|任)[1一]項?/\n      );\n      let _attaches = [];\n      let _attemptAttaches = [];\n      for (let i = parseInt(result[2]); i <= parseInt(result[4]); i++) {\n        _attaches.push(i);\n        _attemptAttaches.push(i);\n      }\n      attaches = [...attaches, ..._attaches];\n      attemptAttaches = [...attemptAttaches, ..._attemptAttaches];\n    }\n\n    if (\n      content.match(\n        /如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?(([，、或](申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?)+)[，、或]?或(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n      )\n    ) {\n      // `如請求項1，2或請求項3之電連接器之鎖扣結構，其中...`\n      const result = content.match(\n        /如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?(([，、或](申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?)+)[，、或]?或(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n      );\n      let _attaches = [parseInt(result[2])];\n      _attaches = [\n        ..._attaches,\n        ...result[3]\n          .replace(/[，、或]/, \"\")\n          .split(/[，、或]/)\n          .map((el) => parseInt(el.match(/[0-9]+/)[0]))\n      ];\n      _attaches = [..._attaches, parseInt(result[8])];\n      let _attemptAttaches = _attaches.slice();\n      attaches = [...attaches, ..._attaches];\n      attemptAttaches = [...attemptAttaches, ..._attemptAttaches];\n    }\n\n    if (\n      content.match(\n        /如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?或(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n      )\n    ) {\n      // `如請求項1或請求項2之電連接器之鎖扣結構，其中...`\n      const result = content.match(\n        /如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?或(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n      );\n      const _attaches = [parseInt(result[2]), parseInt(result[4])];\n      const _attemptAttaches = _attaches.slice();\n      attaches = [...attaches, ..._attaches];\n      attemptAttaches = [...attemptAttaches, ..._attemptAttaches];\n    }\n\n    if (\n      attemptAttaches.length === 0 &&\n      attaches.length === 0 &&\n      content.match(\n        /如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?[至到~-](申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n      )\n    ) {\n      // 如請求項1至2所述之鎖扣結構，其中 -> 未以選擇式為之\n      const result = content.match(\n        /如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?(至|到|~|-)(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n      );\n\n      if (!errors.find((er) => er.message === `引用記載型式未以選擇式為之`)) {\n        errors.unshift({\n          message: `引用記載型式未以選擇式為之`,\n          errorContent: result[0].slice(1),\n          start: -1000,\n          end: -999\n        });\n      }\n\n      let _attaches = [];\n      let _attemptAttaches = [];\n      for (let i = parseInt(result[2]); i <= parseInt(result[5]); i++) {\n        _attaches.push(i);\n        _attemptAttaches.push(i);\n      }\n      attaches = [...attaches, ..._attaches];\n      attemptAttaches = [...attemptAttaches, ..._attemptAttaches];\n    } else if (\n      content.match(\n        /如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?/\n      )\n    ) {\n      const _attaches = [\n        parseInt(\n          content.match(\n            /如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?/\n          )[2]\n        )\n      ];\n      const _attemptAttaches = _attaches.slice();\n      attaches = [...attaches, ..._attaches];\n      attemptAttaches = [...attemptAttaches, ..._attemptAttaches];\n    }\n\n    if (attemptAttaches.length === 0 && attaches.length === 0) {\n      return { attemptAttaches: [], attaches: [], errors };\n    } else {\n      attemptAttaches = attemptAttaches\n        .reduce((a, e) => {\n          if (!a.includes(e)) {\n            return [...a, e];\n          }\n          return a;\n        }, [])\n        .sort((a, b) => a - b);\n      attaches = attaches\n        .reduce((a, e) => {\n          if (!a.includes(e)) {\n            return [...a, e];\n          }\n          return a;\n        }, [])\n        .sort((a, b) => a - b);\n    }*/\n\n    for (let i = attaches.length - 1; i >= 0; i--) {\n      // 檢查依附的請求項是否存在\n      if (!prevClaims.some((claim) => claim.num === parseInt(attaches[i]))) {\n        const start = content.match(RegExp(attaches[i]))\n          ? content.match(RegExp(attaches[i])).index\n          : -100;\n        errors.unshift({\n          message:\n            attaches[i] === index\n              ? `引用記載之請求項${attaches[i]}即為本身，不可依附自己`\n              : `引用記載之請求項${attaches[i]}不在該請求項之前或不存在`,\n          start,\n          end: start + (attaches[i] + \"\").toString().length,\n        });\n        attaches.splice(i, 1);\n        continue;\n      }\n\n      // 檢查依附的請求項是否無法分析\n      if (prevClaims[parseInt(attaches[i]) - 1].type === \"unknown\") {\n        errors.unshift({\n          message: `引用記載之請求項${attaches[i]}目前無法分析，先暫且跳過`,\n          start: -100,\n          end: -99,\n        });\n        attaches.splice(i, 1);\n      }\n    }\n\n    return {\n      attemptAttaches,\n      attaches,\n      errors,\n    };\n  } catch (e) {\n    return {\n      attemptAttaches: [],\n      attaches: [],\n      errors: [],\n    };\n  }\n};\n\nexport const checkParentClaim = (originalContent, prevClaims, index) => {\n  let attaches;\n  let attemptAttaches;\n  let errors = [];\n\n  try {\n    if (\n      // !originalContent.match(\n      //   /^(.*?)(申請專利範圍請求項|申請專利範圍|權利要求|請求項)/\n      // )\n      !originalContent.match(RegExp(`^(.*?)(${claimStartTerms})`))\n    )\n      throw Error(\"無法判斷此請求項為獨立項或附屬項\");\n\n    // 統一把開頭的「如」，「依據」去掉\n    const content = originalContent.slice(\n      // originalContent.match(\n      //   /^(.*?)(申請專利範圍請求項|申請專利範圍|權利要求|請求項)/\n      // )[1].length\n      originalContent.match(RegExp(`^(.*?)(${claimStartTerms})`))[1].length\n    );\n\n    const contentStart = content.split(/[:，;]/)[0];\n\n    const claimMatchString = contentStart.match(claimStartReg)?.[0];\n\n    // console.log(claimMatchString);\n\n    if (!claimMatchString) throw Error(\"無法判斷此請求項為獨立項或附屬項\");\n\n    const claimRanges = getAllClaims(claimMatchString);\n\n    // console.log(\"claimRanges: \", claimRanges);\n    // debugger;\n\n    // 未以選擇式為之\n    if (\n      !claimHasOrNoAnd(claimMatchString, claimRanges) &&\n      !contentStart\n        .slice(claimMatchString.length)\n        .match(/(其中任意?|任意?其中|其中|任意?)一項/)\n    ) {\n      errors.unshift({\n        message: `多項附屬項未以選擇式為之`,\n        errorContent: claimMatchString,\n        start: -1001,\n        end: -1000,\n      });\n    }\n\n    // 未以選擇式為之\n    /*\n  if (\n    content\n      .split(/[:，;]/)[0]\n      .match(\n        /^(.+(申請專利範圍請求項|申請專利範圍|權利要求|請求項).+)([及和])(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?[0-9]+項?/\n      )\n  ) {\n    const errorContent = content\n      .split(/[:，;]/)[0]\n      .match(\n        /^(.+(申請專利範圍請求項|申請專利範圍|權利要求|請求項).+)([及和])(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?[0-9]+項?/\n      )[0];\n    content = content.replace(/[及和]/, \"或\");\n    errors.unshift({\n      message: `多項附屬項未以選擇式為之`,\n      errorContent,\n      start: -1001,\n      end: -1000\n    });\n  }*/\n\n    // 使用大陸用語:權利要求\n    if (/申請專利範圍請求項|權利要求/.test(claimMatchString)) {\n      const errMatch = originalContent.match(/申請專利範圍請求項|權利要求/);\n\n      // console.log(errMatch);\n      // debugger;\n\n      errors.unshift({\n        message: `附屬項文字開頭「${originalContent.slice(\n          0,\n          errMatch.index + errMatch[0].length\n        )}……」，不符合附屬項之記載形式`,\n        errorContent: errMatch[0],\n        start: -1000,\n        end: -999,\n      });\n    }\n\n    attaches = claimRanges\n      .reduce((accKeys, curKey) => {\n        if (/.+[-~～到至].+/.test(curKey)) {\n          return [...accKeys, ...getKeyInRange(curKey)];\n        }\n        return [...accKeys, curKey];\n      }, [])\n      .map((a) => parseInt(a));\n\n    if (attaches.find((a) => !a))\n      throw Error(\"無法判斷此請求項為獨立項或附屬項\");\n\n    attemptAttaches = attaches.slice();\n\n    /*\n  if (\n    content.match(\n      /^如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?[至到~-](申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?.*?(其中|任意|任)[1一]項?/\n    )\n  ) {\n    // `如請求項1至10，其中1項之電連接器之鎖扣結構，其中...`\n    const result = content.match(\n      /^如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?[至到~-](申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?.*?(其中|任意|任)[1一]項?/\n    );\n    attaches = [];\n    attemptAttaches = [];\n    for (let i = parseInt(result[2]); i <= parseInt(result[4]); i++) {\n      attaches.push(i);\n      attemptAttaches.push(i);\n    }\n  } else if (\n    content.match(\n      /^如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?(([，、或](申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?)+)[，、或]?或(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n    )\n  ) {\n    // `如請求項1，2或請求項3之電連接器之鎖扣結構，其中...`\n    const result = content.match(\n      /^如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?(([，、或](申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?)+)[，、或]?或(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n    );\n    attaches = [parseInt(result[2])];\n    attaches = [\n      ...attaches,\n      ...result[3]\n        .replace(/[，、或]/, \"\")\n        .split(/[，、或]/)\n        .map((el) => parseInt(el.match(/[0-9]+/)[0]))\n    ];\n    attaches = [...attaches, parseInt(result[8])];\n    attemptAttaches = attaches.slice();\n  } else if (\n    content.match(\n      /^如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?或(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n    )\n  ) {\n    // 如請求項1或請求項2之電連接器之鎖扣結構，其中...`\n    const result = content.match(\n      /^如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?或(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n    );\n    attaches = [parseInt(result[2]), parseInt(result[4])];\n    attemptAttaches = attaches.slice();\n  } else if (\n    content.match(\n      /^如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?[至到~-](申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n    )\n  ) {\n    // 如請求項1至2所述之鎖扣結構，其中 -> 未以選擇式為之\n    const result = content.match(\n      /^如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?(至|到|~|-)(申請專利範圍請求項|申請專利範圍|權利要求|請求項)?第?([0-9]+)項?/\n    );\n\n    if (!errors.find((er) => er.message === `多項附屬項未以選擇式為之`)) {\n      errors.unshift({\n        message: `多項附屬項未以選擇式為之`,\n        errorContent: result[0].slice(1),\n        start: -1000,\n        end: -999\n      });\n    }\n\n    attaches = [];\n    attemptAttaches = [];\n    for (let i = parseInt(result[2]); i <= parseInt(result[5]); i++) {\n      attaches.push(i);\n      attemptAttaches.push(i);\n    }\n  } else if (\n    content.match(\n      /^如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?/\n    )\n  ) {\n    attaches = [\n      parseInt(\n        content.match(\n          /^如(申請專利範圍請求項|申請專利範圍|權利要求|請求項)第?([0-9]+)項?/\n        )[2]\n      )\n    ];\n    attemptAttaches = attaches.slice();\n  } else {\n    throw Error(\"無法判斷此請求項為獨立項或附屬項\");\n  }*/\n\n    for (let i = attaches.length - 1; i >= 0; i--) {\n      // 檢查依附的請求項是否存在\n      if (!prevClaims.some((claim) => claim.num === parseInt(attaches[i]))) {\n        const start = content.match(RegExp(attaches[i]))\n          ? content.match(RegExp(attaches[i])).index\n          : -100;\n        errors.unshift({\n          message:\n            attaches[i] === index\n              ? `請求項${attaches[i]}即為本身，不可依附自己`\n              : `請求項${attaches[i]}不在該請求項之前或不存在`,\n          start,\n          end: start + (attaches[i] + \"\").toString().length,\n        });\n        attaches.splice(i, 1);\n        continue;\n      }\n\n      // 檢查依附的請求項是否無法分析\n      if (prevClaims[parseInt(attaches[i]) - 1].type === \"unknown\") {\n        errors.unshift({\n          message: `所依附的請求項${attaches[i]}目前無法分析，先暫且跳過`,\n          start: -100,\n          end: -99,\n        });\n        attaches.splice(i, 1);\n      }\n    }\n\n    // 檢查多附多\n    /*\n  if (index === 18) {\n    console.log(attaches);\n    console.log(content);\n    debugger;\n  }\n  */\n\n    if (attaches.length > 1) {\n      for (let i = attaches.length - 1; i >= 0; i--) {\n        /*\n      if (index === 18) {\n        console.log(\"attach\", attaches[i]);\n        debugger;\n      }\n      */\n\n        const { result, type } = checkMultiToMulti(\n          attaches[i],\n          prevClaims,\n          \"direct\"\n        );\n\n        if (result) {\n          const start = content.match(RegExp(attaches[i]))\n            ? content.match(RegExp(attaches[i])).index\n            : -100;\n          errors.unshift({\n            message: `本請求項所依附之請求項${attaches[i]}為多項附屬項${\n              type === \"direct\" ? \"直接\" : \"間接\"\n            }依附多項附屬項`,\n            start,\n            end: start + (attaches[i] + \"\").toString().length,\n          });\n          // 討論過後，決定多項附屬項直(間)接依附的請求項保留\n          // attaches.splice(i, 1);\n        }\n      }\n    }\n\n    return {\n      attemptAttaches,\n      attaches,\n      errors,\n    };\n  } catch (e) {\n    throw e.message;\n  }\n};\n\nfunction checkMultiToMulti(addIndex, prevClaims, type) {\n  let targetClaim = prevClaims.find((claim) => claim.num === addIndex);\n  if (targetClaim.type === \"independent\" || targetClaim.attaches.length === 0) {\n    return {\n      result: false,\n      type,\n    };\n  } else if (targetClaim.attaches.length > 1) {\n    return {\n      result: true,\n      type,\n    };\n  } else {\n    return checkMultiToMulti(targetClaim.attaches[0], prevClaims, \"indirect\");\n  }\n}\n\nexport const getAllAttachedClaims = (allClaims, attachedClaims, claim) => {\n  if (claim.attaches.length === 0) {\n    return attachedClaims;\n  } else {\n    let allAttachedClaims = [...attachedClaims];\n    for (let i = 0; i < claim.attaches.length; i++) {\n      // console.log(\"target claim: \", claim.attaches[i])\n      const currentClaim = allClaims.find((c) => c.num === claim.attaches[i]);\n      allAttachedClaims = [currentClaim, ...allAttachedClaims];\n      const newAttachedClaim = getAllAttachedClaims(\n        allClaims,\n        allAttachedClaims,\n        currentClaim\n      );\n      allAttachedClaims = [...allAttachedClaims, ...newAttachedClaim];\n    }\n    return allAttachedClaims\n      .reduce((acc, cur) => {\n        if (!acc.find((el) => el.num === cur.num)) {\n          return [...acc, cur];\n        }\n        return acc;\n      }, [])\n      .sort((a, b) => b.num - a.num);\n  }\n};\n\nexport const getAllClaimPaths = (claims, currentClaim) => {\n  if (currentClaim.attaches.length === 0) {\n    return [[]];\n  }\n\n  let paths = [];\n  currentClaim.attaches.forEach((attach) => {\n    const newFoundPath = getAllClaimPaths(claims, claims[attach - 1]).map(\n      (path) => [attach, ...path]\n    );\n    paths.push(...newFoundPath);\n  });\n\n  return paths;\n};\n","import { checkCoOperatingClaim, checkParentClaim } from \"./checkAttachClaim\";\n\nexport const checkClaim = (prevClaims, content, index) => {\n  // index is the num of claims -> claim 1 -> index = 1\n  let type;\n  let attemptAttaches = [];\n  let attaches = [];\n  let errors = [];\n\n  // 未以單句為之\n  if (!/。$/.test(content)) {\n    errors.push({\n      message: `請求項未以單句為之(無句號)`,\n      start: -200,\n      end: -199\n    });\n  }\n  if (content.indexOf(\"。\") !== content.length - 1) {\n    [...content.matchAll(/。/g)].forEach((mm) => {\n      if (mm.index !== content.length - 1) {\n        errors.push({\n          message: `請求項未以單句為之(句號在句中)`,\n          errorContent: \"。\",\n          start: mm.index,\n          end: mm.index + 1\n        });\n      }\n    });\n  }\n\n  if (/^一種?/.test(content)) {\n    // 獨立項\n    type = \"independent\";\n    const CoOperatingClaimCheck = checkCoOperatingClaim(\n      content,\n      prevClaims,\n      index\n    );\n    attemptAttaches = CoOperatingClaimCheck.attemptAttaches;\n    attaches = CoOperatingClaimCheck.attaches;\n    if (!/^一種/.test(content)) {\n      errors.push({\n        message: `獨立項未以「一種」開頭`,\n        errorContent: content[0],\n        start: -154,\n        end: -155\n      });\n    }\n    errors = [...CoOperatingClaimCheck.errors, ...errors];\n\n    /**\n     *  Test\n     */\n    // if (attaches.length > 0 || attemptAttaches.length > 0) {\n    //   console.log(\"請求項\" + index);\n    //   console.log(content);\n    //   console.log(\"attaches\", attaches);\n    //   console.log(\"attemptAttaches\", attemptAttaches);\n    //   debugger;\n    // }\n  } else {\n    // 附屬項或者無法判斷\n    try {\n      type = \"additional\";\n      const claimCheck = checkParentClaim(content, prevClaims, index);\n      attemptAttaches = claimCheck.attemptAttaches;\n      attaches = claimCheck.attaches;\n      if (!/^(依據|根據|如|依)/.test(content)) {\n        errors.push({\n          message: `附屬項未以「如」、「依據」或「根據」等用語開頭`,\n          errorContent: content[0],\n          start: -154,\n          end: -155\n        });\n      }\n      errors = [...claimCheck.errors, ...errors];\n    } catch (err) {\n      console.log(`claim ${index} unable to analyze: ${err.message}`);\n      console.log(err);\n      type = \"unknown\";\n      attemptAttaches = [];\n      attaches = [];\n      errors = [\n        {\n          message: err.message,\n          start: -100,\n          end: -99\n        }\n      ];\n    }\n  }\n\n  return {\n    type,\n    content,\n    attemptAttaches,\n    attaches,\n    errors\n  };\n};\n","import { checkClaim } from \"./checkClaims\";\n\nexport const extractSingleClaim = (index, claims, claim, newContent) => {\n  if (newContent !== \"\") {\n    const content = removeEmptySentence(newContent);\n    claims.push({\n      num: index + 1,\n      ...checkClaim(claims, content, index + 1)\n    });\n  } else if (\n    claim.children[0].children.length === 1 &&\n    claim.children[0].children[0].type === \"text\" &&\n    claim.children[0].children[0].children.length === 0\n  ) {\n    const content = removeEmptySentence(claim.children[0].children[0].value)\n      .replace(/\\n/g, \"\")\n      .trim();\n    claims.push({\n      num: index + 1,\n      ...checkClaim(claims, content, index + 1)\n    });\n  } else if (\n    claim.children.length > 1 &&\n    claim.children.every((el) => el.name === \"claim-text\") &&\n    claim.children.every((el) => el.children.length > 0)\n  ) {\n    let content = \"\";\n    for (let x = 0; x < claim.children.length; x++) {\n      claim.children[x].children.forEach((el) => {\n        if (el.type === \"text\" && el.children.length === 0) {\n          content += el.value;\n        } else if (\n          (el.name === \"sub\" || el.name === \"sub\") &&\n          el.value === \"\" &&\n          el.children.length > 0 &&\n          el.children[0].value.length > 0\n        ) {\n          content += el.children[0].value.replace(/[↵\\n]/g, \"\").trim();\n        } else if (el.name === \"br\" && el.type === \"element\") {\n          // content += `<br/>`;\n          content += `@##@`;\n        }\n      });\n    }\n    content = removeEmptySentence(content).replace(/[↵\\n]/g, \"\").trim();\n    claims.push({\n      num: index + 1,\n      ...checkClaim(claims, content, index + 1)\n    });\n  } else {\n    let content = \"\";\n    claim.children[0].children.forEach((el) => {\n      if (el.type === \"text\" && el.children.length === 0) {\n        content += el.value;\n      } else if (\n        (el.name === \"sub\" || el.name === \"sub\") &&\n        el.value === \"\" &&\n        el.children.length > 0 &&\n        el.children[0].value.length > 0\n      ) {\n        content += el.children[0].value.replace(/[↵\\n]/g, \"\").trim();\n      } else if (el.name === \"br\" && el.type === \"element\") {\n        // content += `<br/>`;\n        content += `@##@`;\n      }\n    });\n    content = removeEmptySentence(content).replace(/\\n/g, \"\").trim();\n    claims.push({\n      num: index + 1,\n      ...checkClaim(claims, content, index + 1)\n    });\n  }\n};\n\nconst removeEmptySentence = (content) =>\n  content\n    .split(\"@##@\")\n    .filter((s) => s.trim() !== \"\")\n    .join(\"@##@\");\n","const words = [\n  \"前述之\",\n  \"所述之\",\n  \"上述之\",\n  \"係用以\",\n  \"係用來\",\n  \"係用於\",\n  \"若干個\",\n  \"若干種\",\n  \"複數個\",\n  \"複數種\",\n  \"多數個\",\n  \"多數種\",\n  \"很多個\",\n  \"很多種\",\n  \"若干\",\n  \"一個\",\n  \"一種\",\n  \"二個\",\n  \"二種\",\n  \"複數\",\n  \"前述\",\n  \"所述\",\n  \"上述\",\n  \"其中\",\n  \"多個\",\n  \"多種\",\n  \"多數\",\n  \"具有\",\n  \"包含\",\n  \"包括\",\n  \"很多\",\n  \"多\",\n  \"二\",\n  \"一\",\n  \"個\",\n  \"種\",\n  \"些\",\n  \"和\",\n  \"及\",\n  \"與\",\n  \"或\",\n  \"之\",\n  \"的\",\n  \"係\",\n  \"是\",\n  \"該\",\n  \"@\",\n  \"、\",\n  \"，\",\n  \"、\",\n  \"-\",\n  \"；\",\n  \":\",\n  \",\",\n  \"\\\\\\\\\",\n  \"\\\\/\",\n  \"\\\\?\",\n  \"\\\\.\",\n  \"\\\\+\",\n  \"\\\\[\",\n  \"\\\\]\",\n  \"\\\\(\",\n  \"\\\\)\",\n  \"{\",\n  \"}\",\n  \"「\",\n  \"」\"\n];\n\nexport const allIgnoreMiddleWords = () =>\n  [...words].sort((a, b) => b.length - a.length).join(\"|\");\n","import { allIgnoreMiddleWords } from \"../dict/allIgnoreMiddleWords\";\nimport {\n  getLimitedChar,\n  getReferWords_1,\n  getReferWords_2,\n  symetricPrefix\n} from \"../dict/allReferWords\";\nimport { concatWordSeparater } from \"../dict/concatWordSeparater\";\nimport { pickColor } from \"../dict/elementColors\";\nimport { allSymbolChar, isKeyValid } from \"../dict/keyRegs\";\nimport { getKeyInRange, getMapValues, isKeyInReserve } from \"./otherUtils\";\nimport { stringToUnicode } from \"./stringToUnicode\";\n\nexport const checkIllegalAttach = (\n  regExpsOrigin,\n  concatRegExp,\n  concatSymRegExp,\n  contentFirstIndex,\n  claims,\n  claim,\n  descriptionOfElementMap,\n  figureOfDrawingsMap,\n  elementColorMap,\n  searchPath,\n  isFirstPath,\n  isValueFixed,\n  isTestMode\n) => {\n  // Test\n  // if (claim.num === 1) {\n  //   console.log(claim.matches);\n  //   debugger;\n  // }\n\n  // 先處理請求項的元件有在符號說明的內容\n  if (isFirstPath /*&& round === 1*/) {\n    findAllPreUsedElements(\n      claim,\n      contentFirstIndex,\n      regExpsOrigin,\n      descriptionOfElementMap,\n      figureOfDrawingsMap,\n      concatRegExp,\n      concatSymRegExp\n    );\n  }\n\n  if (!claim.matches[0]) return;\n\n  // 1. 檢查請求項中在符號說明的「該」元件\n  [\n    claim.matches[0],\n    ...claim.matches\n      .slice(1)\n      .filter((mm) => mm.isInDescriptionOfElementMap)\n      .sort((a, b) => b.item.length - a.item.length)\n  ].forEach(\n    (\n      {\n        group,\n        value,\n        fullValue,\n        item,\n        start,\n        end,\n        pathIsOK,\n        isInDescriptionOfElementMap,\n        indexOfMatch,\n        keys,\n        keyEnd,\n        keyStart,\n        keyBeenModified\n      },\n      matchNum\n    ) => {\n      // Test\n      // if (\n      //   claim.num === 1 &&\n      //   round === 2 &&\n      //   //searchPath.length === 1 &&\n      //   //searchPath[0] === 1 &&\n      //   value === \"宮廟單元\"\n      // ) {\n      //   console.log(\"round 2\");\n      //   // console.log(\"isFirstPath: \", isFirstPath);\n      //   // console.log(\"isTestMode:\", isTestMode);\n      //   console.log(\"start: \", start);\n      //   console.log(\"value: \", value);\n      //   console.log(\"pathIsOK: \", pathIsOK);\n      //   debugger;\n      // }\n      // Test\n      // if (claim.num === 5) {\n      //   console.log(\"check here\");\n      //   // console.log(\"isFirstPath: \", isFirstPath);\n      //   // console.log(\"isTestMode:\", isTestMode);\n      //   console.log(\n      //     \"value: \",\n      //     value,\n      //     \"matchNum:\",\n      //     matchNum,\n      //     \"pathIsOK: \",\n      //     pathIsOK\n      //   );\n      // }\n      // Test\n      // if (\n      //   claim.num === 1 &&\n      //   //searchPath.length === 1 &&\n      //   //searchPath[0] === 1 &&\n      //   value === \"宮廟單元\"\n      // ) {\n      //   console.log(\"check all\");\n      //   // console.log(\"isFirstPath: \", isFirstPath);\n      //   // console.log(\"isTestMode:\", isTestMode);\n      //   console.log(\"value: \", value);\n      //   console.log(\"start: \", start);\n      //   debugger;\n      // }\n      // Test\n      // if (claim.num === 1 && start === 66) {\n      //   console.log(\"claim 1 start 66 match\");\n      //   console.log(claim.matches[1]);\n      //   debugger;\n      // }\n\n      if (matchNum === 0 && claim.type === \"independent\") {\n        claim.matches[0] = {\n          ...claim.matches[0],\n          keyFromGroup: getElementKeyByGroup(\n            claim.matches[0].group,\n            descriptionOfElementMap\n          )\n        };\n      } else if (matchNum === 0 && claim.type === \"additional\") {\n        // 檢查主要元件名稱是否興所依附請求項的主要元件名稱用語不一致\n        if (\n          !(claims[searchPath[0] - 1] && claims[searchPath[0] - 1].mainElement)\n        ) {\n          return;\n        } else if (\n          RegExp(`${claim.mainElement.split(/[\\\\(\\\\)]/)[0]}$`).test(\n            claims[searchPath[0] - 1].mainElement.split(/[\\\\(\\\\)]/)[0]\n          )\n        ) {\n          const prevMatchedElement = {\n            ...claims[searchPath[0] - 1].matches[0],\n            claimNum: searchPath[0],\n            isMainElement: true\n          };\n\n          claim.matches[0] = {\n            ...claim.matches[0],\n            group: prevMatchedElement.group,\n            keyFromGroup: getElementKeyByGroup(\n              prevMatchedElement.group,\n              descriptionOfElementMap\n            ),\n            item: prevMatchedElement.item,\n            pathIsOK: true,\n            prevMatchedElement\n          };\n        } else if (!isTestMode) {\n          const message = `本請求項標的名稱「${\n            claim.mainElement\n          }」與所依附之請求項(${searchPath[0]})之標的名稱「${\n            claims[searchPath[0] - 1].mainElement\n          }」用語不一致`;\n          claim.errors.unshift({\n            message,\n            start,\n            end\n          });\n          if (\n            !claim.nonMatches.find(\n              (mm) =>\n                mm.group === group && mm.start === start && mm.item === item\n            )\n          ) {\n            claim.nonMatches.push({\n              group,\n              keyFromGroup: getElementKeyByGroup(\n                group,\n                descriptionOfElementMap\n              ),\n              item,\n              start,\n              end,\n              paths: [searchPath]\n            });\n          } else {\n            claim.nonMatches[\n              claim.nonMatches.findIndex(\n                (mm) =>\n                  mm.group === group && mm.start === start && mm.item === item\n              )\n            ].paths.push(searchPath);\n          }\n        }\n      } else if (matchNum > 0 && !pathIsOK) {\n        // 檢查其他元件各稱是不有不當依附\n        //「該」元件在符號說明之中\n\n        // Test\n        // if (claim.num === 9 && value === \"警示單元\") {\n        //   console.log(\"start: \", start);\n        //   console.log(\"value: \", value);\n        //   console.log(\"pathIsOK: \", pathIsOK);\n        //   debugger;\n        // }\n\n        if (\n          // 2-1. 若不是，再檢查該元件是否已被記錄下來\n          [\n            claim.usedElements,\n            ...searchPath.map((n) => claims[n - 1].usedElements)\n          ]\n            .flat()\n            .some(\n              (el) =>\n                RegExp(`${fullValue || value}$`).test(\n                  el.fullValue || el.value\n                ) && el.group === group\n            )\n        ) {\n          // Test\n          // if (\n          //   claim.num === 9 &&\n          //   //searchPath.length === 1 &&\n          //   //searchPath[0] === 1 &&\n          //   value === \"警示單元\"\n          // ) {\n          //   console.log(\"check here 2\");\n          //   // console.log(\"isFirstPath: \", isFirstPath);\n          //   // console.log(\"isTestMode:\", isTestMode);\n          //   console.log(\"value: \", value);\n          //   console.log(\"start: \", start);\n          //   debugger;\n          // }\n\n          const prevItem = [\n            claim.usedElements,\n            ...searchPath.map((n) => claims[n - 1].usedElements)\n          ]\n            .flat()\n            .find(\n              (el) =>\n                RegExp(`${fullValue || value}$`).test(\n                  el.fullValue || el.value\n                ) && el.group === group\n            );\n\n          claim.matches = claim.matches.map((mm) => {\n            if (mm.indexOfMatch === indexOfMatch) {\n              return {\n                ...mm,\n                keyFromGroup: getElementKeyByGroup(\n                  mm.group,\n                  descriptionOfElementMap\n                ),\n                pathIsOK: true,\n                prevMatchedElement: {\n                  ...prevItem,\n                  type: \"usedElement\"\n                  // group: prevItem.group,\n                  // start: prevItem.start,\n                  // value: prevItem.value,\n                  // item: prevItem.item,\n                  // end: prevItem.end,\n                  // claimNum: prevItem.claimNum\n                }\n              };\n            }\n            return mm;\n          });\n        } else if (\n          // 2-2. 如果該元件是縮寫, e.g. 第一, 去找是不是有 「第一元件」\n          [\n            claim.preUsedShortElements.filter((el) => el.end < start),\n            ...searchPath.map((n) => claims[n - 1].preUsedShortElements)\n          ]\n            .flat()\n            .some((el) => RegExp(`${fullValue || value}$`).test(el.fullValue))\n        ) {\n          const prevItem = [\n            claim.preUsedShortElements.filter((el) => el.end < start),\n            ...searchPath.map((n) => claims[n - 1].preUsedShortElements)\n          ]\n            .flat()\n            .find((el) => RegExp(`${fullValue || value}$`).test(el.fullValue));\n\n          /*\n            const prevMatchedElement = {\n              type: \"usedElement\",\n              group,\n              item,\n              value: prevItem[0].slice(prevItem[1].length),\n              start: mStart,\n              end: mEnd,\n              claimNum: currentClaimNum\n            };\n            claimNum: 1\n            end: 73\n            fullValue: \"第一側壁部\"\n            group: \"7b2c4e00507458c190e8\"\n            key: null\n            keyEnd: null\n            keyStart: null\n            start: 71\n            type: \"preUsedElements\"\n            value: \"第一\"\n          */\n          const prevMatchedElement = {\n            ...prevItem,\n            type: \"usedElement\"\n            // item\n            // group: prevItem.group,\n            // value: prevItem.value,\n            // fullValue: prevItem.fullValue,\n            // start: prevItem.start,\n            // end: prevItem.end,\n            // claimNum: prevItem.claimNum\n          };\n\n          if (!isTestMode) {\n            claim.usedElements.push(prevMatchedElement);\n          }\n\n          claim.matches = claim.matches.map((mm) => {\n            if (mm.indexOfMatch === indexOfMatch) {\n              return {\n                ...mm,\n                group: prevMatchedElement.group,\n                keyFromGroup: getElementKeyByGroup(\n                  prevMatchedElement.group,\n                  descriptionOfElementMap\n                ),\n                item: prevMatchedElement.item,\n                pathIsOK: true,\n                prevMatchedElement\n              };\n            }\n            return mm;\n          });\n        } else {\n          // 3. 最後，從前面的請求項內容中找是否有出現過\n          //// Test\n          // if (\n          //   claim.num === 9 &&\n          //   //searchPath.length === 1 &&\n          //   //searchPath[0] === 1 &&\n          //   value === \"警示單元\"\n          // ) {\n          //   console.log(\"check here 3\");\n          //   // console.log(\"isFirstPath: \", isFirstPath);\n          //   // console.log(\"isTestMode:\", isTestMode);\n          //   console.log(\"value: \", value);\n          //   console.log(\"start: \", start);\n          //   debugger;\n          // }\n          let prevItem;\n          let searchClaimsNum = [claim.num, ...searchPath];\n          let currentClaimNum;\n          do {\n            currentClaimNum = searchClaimsNum.shift();\n            const claimContent =\n              currentClaimNum === claim.num\n                ? claims[currentClaimNum - 1].content.slice(0, start)\n                : claims[currentClaimNum - 1].content;\n            // 找到該請求項第一個 Match 的且不可與「該」元件名稱重疊\n\n            prevItem = [\n              /*[\n                ...claimContent.matchAll(\n                  RegExp(\n                    `(${getReferWords_1()})[^${getLimitedChar()}]{1,8}?${\n                      fullValue || value\n                    }`,\n                    \"g\"\n                  )\n                )\n              ].map((mp) => {\n                mp.newIndex = mp.index + 10000;\n                return mp;\n              }),*/\n              [\n                ...claimContent.matchAll(\n                  RegExp(`(${getReferWords_1()})${fullValue || value}`, \"g\")\n                )\n              ].map((mp) => {\n                mp.newIndex = mp.index + 10000;\n                return mp;\n              }),\n              /*[\n                ...claimContent.matchAll(\n                  RegExp(\n                    `(${getReferWords_2()})[^${getLimitedChar()}]{1,8}?${\n                      fullValue || value\n                    }`,\n                    \"g\"\n                  )\n                )\n              ].map((mp) => {\n                mp.newIndex = mp.index + 20000;\n                return mp;\n              }),*/\n              [\n                ...claimContent.matchAll(\n                  RegExp(`(${getReferWords_2()})${fullValue || value}`, \"g\")\n                )\n              ].map((mp) => {\n                mp.newIndex = mp.index + 20000;\n                return mp;\n              }),\n              [\n                ...claimContent.matchAll(RegExp(`()${fullValue || value}`, \"g\"))\n              ].map((mp) => {\n                mp.newIndex = mp.index + 30000;\n                return mp;\n              })\n            ]\n              .flat()\n              .filter(\n                (o) =>\n                  // !/(前述之|所述之|上述之|係用以|係用來|係用於|若干個|若干種|複數個|複數種|多數個|多數種|若干|一個|一種|二個|二種|複數|前述|所述|上述|其中|多個|多種|多數|具有|包含|包括|多|二|一|個|種|些|和|及|與|或|之|的|係|該|@|、|，|、|，|-|；|:|,|\\\\|\\?|\\.|\\+|\\[|\\]|\\(|\\)|{|}|「|」)/.test(\n                  !RegExp(allIgnoreMiddleWords()).test(\n                    o[0]\n                      .slice(o[1].length, o[0].length - value.length)\n                      .replace(/^第./, \"\")\n                  )\n              )\n              .filter(\n                (o) =>\n                  !RegExp(`[^\\\\u4E00-\\\\u9FFF${allSymbolChar}]`, \"i\").test(\n                    o[0]\n                      .slice(o[1].length, o[0].length - value.length)\n                      .replace(/^第./, \"\")\n                  )\n              )\n              .sort(\n                (a, b) =>\n                  b[0].slice(b[1].length).length -\n                    a[0].slice(a[1].length).length || a.newIndex - b.newIndex\n              )\n              .filter((plt) => {\n                const matchedStr = plt[0].slice(plt[1].length);\n                const extraPreStr = matchedStr.slice(\n                  0,\n                  matchedStr.lastIndexOf(fullValue || value)\n                );\n                if (extraPreStr === \"\") return true;\n                return !regExpsOrigin\n                  .map((og) => og.value)\n                  .find((v) => extraPreStr.includes(v));\n              })\n              .filter(\n                (plt) =>\n                  !claims[currentClaimNum - 1].matches.some(\n                    (m) =>\n                      !(\n                        plt.index + plt[1].length >= m.end ||\n                        plt.index + plt[0].length <= m.start\n                      )\n                  )\n              )\n              .filter(\n                (plt) =>\n                  !claims[currentClaimNum - 1].preUsedElements\n                    .filter(\n                      // 不一樣的留下來，不一樣的才不會碰撞\n                      // (pUsed) => pUsed.value !== plt[0].slice(plt[1].length)\n                      (pUsed) => {\n                        // 一樣的 return false, 不一樣的 return true\n                        // pUsed.value == 側牆板 和  \"第一側牆板\" 一樣\n\n                        /*\n                        if (\n                          plt[0].slice(plt[1].length) === \"第一側牆板\" &&\n                          pUsed.value === \"側牆板\"\n                        ) {\n                          console.log(plt[0].slice(plt[1].length));\n                          console.log(\n                            plt[0].slice(plt[1].length).length > pUsed.value.length\n                          );\n                          console.log(\n                            RegExp(\n                              `^(第[一二三四五六七八九十]|${symetricPrefix()\n                                .split(\"\")\n                                .join(\"|\")})(${pUsed.value})$`\n                            )\n                          );\n                          console.log(\n                            plt[0].slice(plt[1].length).length > pUsed.value.length &&\n                              RegExp(\n                                `^(第[一二三四五六七八九十]|${symetricPrefix()\n                                  .split(\"\")\n                                  .join(\"|\")})(${pUsed.value})$`\n                              ).test(plt[0].slice(plt[1].length))\n                          );\n                          debugger;\n                        }\n                        */\n\n                        if (\n                          plt[0].slice(plt[1].length).length >\n                            pUsed.value.length &&\n                          RegExp(\n                            `^(第[一二三四五六七八九十]|${symetricPrefix()\n                              .split(\"\")\n                              .join(\"|\")})(${pUsed.value})$`\n                          ).test(plt[0].slice(plt[1].length))\n                        )\n                          return false;\n\n                        return (\n                          !pUsed.value.endsWith(plt[0].slice(plt[1].length)) &&\n                          pUsed.group !== group\n                        );\n                      }\n                    )\n                    .some(\n                      (m) =>\n                        !(\n                          plt.index + plt[1].length >= m.end ||\n                          plt.index + plt[0].length <= m.start\n                        )\n                    )\n              )\n              .find(\n                (plt) =>\n                  !claims[currentClaimNum - 1].usedElements.some(\n                    (m) =>\n                      !(\n                        plt.index + plt[1].length >= m.end ||\n                        plt.index + plt[0].length <= m.start\n                      )\n                  )\n              );\n          } while (!prevItem && searchClaimsNum.length > 0);\n          if (!prevItem) {\n            // 前面沒有該元件\n            // Test\n            // if (\n            //   claim.num === 9 &&\n            //   //searchPath.length === 1 &&\n            //   //searchPath[0] === 1 &&\n            //   value === \"警示單元\"\n            // ) {\n            //   console.log(\"not found\");\n            //   // console.log(\"isFirstPath: \", isFirstPath);\n            //   // console.log(\"isTestMode:\", isTestMode);\n            //   console.log(\"start: \", start);\n            //   console.log(\"value: \", value);\n            //   console.log(\"pathIsOK: \", pathIsOK);\n            //   debugger;\n            // }\n\n            // 1. 先檢查是否與主要元件名稱相符\n            if (\n              [\n                claim.mainElement,\n                ...searchPath.map((n) => claims[n - 1].mainElement)\n              ]\n                // .map((mainElement) => mainElement.split(/[^\\u4E00-\\u9FFF]/)[0])\n                .map((mainElement) => mainElement.split(/[\\\\(\\\\)]/)[0])\n                .map((mainElement) =>\n                  mainElement.split(/[之的]/).length > 1\n                    ? [mainElement, ...mainElement.split(/[之的]/)]\n                    : [mainElement]\n                )\n                .flat()\n                .some((el) => RegExp(`${fullValue || value}$`).test(el))\n            ) {\n              // Test\n              // if (\n              //   claim.num === 1 &&\n              //   //searchPath.length === 1 &&\n              //   //searchPath[0] === 1 &&\n              //   value === \"宮廟單元\"\n              // ) {\n              //   console.log(\"check here 2\");\n              //   // console.log(\"isFirstPath: \", isFirstPath);\n              //   // console.log(\"isTestMode:\", isTestMode);\n              //   console.log(\"value: \", value);\n              //   console.log(\"start: \", start);\n              //   debugger;\n              // }\n              const foundEl = [\n                { mainElement: claim.mainElement, num: claim.num },\n                ...searchPath.map((n) => ({\n                  mainElement: claims[n - 1].mainElement,\n                  num: claims[n - 1].num\n                }))\n              ]\n                .map((mel) => ({\n                  ...mel,\n                  // mainElement: mel.mainElement.split(/[^\\u4E00-\\u9FFF]/)[0]\n                  mainElement: mel.mainElement.split(/[\\\\(\\\\)]/)[0]\n                }))\n                .map(({ mainElement, num }) =>\n                  mainElement.split(/[之的]/).length > 1\n                    ? [\n                        { mainElement, num },\n                        ...mainElement\n                          .split(/[之的]/)\n                          .map((mel) => ({ mainElement: mel, num }))\n                      ]\n                    : [{ mainElement, num }]\n                )\n                .flat()\n                .find((el) =>\n                  RegExp(`(${fullValue || value})$`).test(el.mainElement)\n                );\n\n              const { num: wantedClaimNum } = foundEl;\n\n              // console.log(\"wantedClaimNum\", wantedClaimNum);\n              // console.log(\n              //   \"match mainElement: \",\n              //   claims[wantedClaimNum - 1].mainElement\n              // );\n              // debugger;\n\n              claim.matches = claim.matches.map((mm, matchIndex) => {\n                if (mm.indexOfMatch === indexOfMatch) {\n                  const prevMatchedElement =\n                    claims[wantedClaimNum - 1].matches[0];\n\n                  return {\n                    ...mm,\n                    pathIsOK: true,\n                    // item: claims[wantedClaimNum - 1].mainElement,\n                    // group: stringToUnicode(claims[wantedClaimNum - 1].mainElement),\n                    item: prevMatchedElement.item,\n                    group: prevMatchedElement.group,\n                    keyFromGroup: getElementKeyByGroup(\n                      prevMatchedElement.group,\n                      descriptionOfElementMap\n                    ),\n                    prevMatchedElement: {\n                      ...prevMatchedElement,\n                      type: \"usedElement\",\n                      // group: stringToUnicode(\n                      //   claims[wantedClaimNum - 1].mainElement\n                      // ),\n                      // value: claims[wantedClaimNum - 1].mainElement,\n                      // item: claims[wantedClaimNum - 1].mainElement,\n                      // start: claims[wantedClaimNum - 1].content.indexOf(\n                      //   claims[wantedClaimNum - 1].mainElement\n                      // ),\n                      // end:\n                      //   claims[wantedClaimNum - 1].content.indexOf(\n                      //     claims[wantedClaimNum - 1].mainElement\n                      //   ) + claims[wantedClaimNum - 1].mainElement.length,\n                      claimNum: wantedClaimNum,\n                      isMainElement: true\n                    }\n                  };\n                }\n                return mm;\n              });\n              return;\n            }\n\n            // 若仍然找不到，回去找 usedElement, 但這次允許 group 不一樣\n            if (\n              [\n                claim.usedElements,\n                ...searchPath.map((n) => claims[n - 1].usedElements)\n              ]\n                .flat()\n                .some((el) =>\n                  RegExp(`${fullValue || value}$`).test(\n                    el.fullValue || el.value\n                  )\n                )\n            ) {\n              const prevItem = [\n                claim.usedElements,\n                ...searchPath.map((n) => claims[n - 1].usedElements)\n              ]\n                .flat()\n                .find((el) =>\n                  RegExp(`${fullValue || value}$`).test(\n                    el.fullValue || el.value\n                  )\n                );\n\n              claim.matches = claim.matches.map((mm) => {\n                if (mm.indexOfMatch === indexOfMatch) {\n                  return {\n                    ...mm,\n                    group: prevItem.group,\n                    keyFromGroup: getElementKeyByGroup(\n                      prevItem.group,\n                      descriptionOfElementMap\n                    ),\n                    pathIsOK: true,\n                    prevMatchedElement: {\n                      ...prevItem,\n                      type: \"usedElement\"\n                      // group: prevItem.group,\n                      // start: prevItem.start,\n                      // value: prevItem.value,\n                      // item: prevItem.item,\n                      // end: prevItem.end,\n                      // claimNum: prevItem.claimNum\n                    }\n                  };\n                }\n                return mm;\n              });\n              return;\n            }\n\n            // 確定找不到\n            if (!isTestMode) {\n              const message =\n                searchPath.length > 0\n                  ? `元件名稱「${value}」未見於本請求項先前內容或所依附的請求項${searchPath\n                      .map((e) => `(${e})`)\n                      .join(\"其所依附的請求項\")}中`\n                  : `元件名稱「${value}」未見於本請求項先前內容`;\n              claim.errors.push({\n                message,\n                start,\n                end\n              });\n              if (\n                !claim.nonMatches.find(\n                  (mm) =>\n                    mm.group === group && mm.start === start && mm.item === item\n                )\n              ) {\n                claim.nonMatches.push({\n                  group,\n                  keyFromGroup: getElementKeyByGroup(\n                    group,\n                    descriptionOfElementMap\n                  ),\n                  item,\n                  start,\n                  end,\n                  keys,\n                  keyEnd,\n                  keyStart,\n                  keyBeenModified,\n                  paths: [searchPath]\n                });\n              } else {\n                claim.nonMatches[\n                  claim.nonMatches.findIndex(\n                    (mm) =>\n                      mm.group === group &&\n                      mm.start === start &&\n                      mm.item === item\n                  )\n                ].paths.push(searchPath);\n              }\n            }\n          } else {\n            // 前面有該元件, 一「元件名稱」\n\n            // Test\n            // if (\n            //   claim.num === 1 &&\n            //   //searchPath.length === 1 &&\n            //   //searchPath[0] === 1 &&\n            //   value === \"宮廟單元\"\n            // ) {\n            //   console.log(\"check here 3\");\n            //   // console.log(\"isFirstPath: \", isFirstPath);\n            //   // console.log(\"isTestMode:\", isTestMode);\n            //   console.log(\"prevItem: \", prevItem);\n            //   console.log(\"start: \", start);\n            //   console.log(\"value: \", value);\n            //   debugger;\n            // }\n\n            if (!elementColorMap[group]) {\n              elementColorMap[group] = {\n                value,\n                // color: `rgba(${Math.floor(Math.random() * 255)}, ${Math.floor(\n                //   Math.random() * 255\n                // )}, ${Math.floor(Math.random() * 255)}, .7)`\n                color: pickColor(Object.keys(elementColorMap).length)\n              };\n            }\n\n            const mStart = prevItem.index + prevItem[1].length;\n            const mEnd = prevItem.index + prevItem[0].length;\n            const prevMatchedElement = {\n              type: \"usedElement\",\n              group,\n              keyFromGroup: getElementKeyByGroup(\n                group,\n                descriptionOfElementMap\n              ),\n              item,\n              value: prevItem[0].slice(prevItem[1].length),\n              start: mStart,\n              end: mEnd,\n              claimNum: currentClaimNum\n            };\n\n            // Test\n            // if (claim.num === 1 && value === \"鏡框\") {\n            //   console.log(\"prevMatchedElement\", prevMatchedElement);\n            //   debugger;\n            // }\n\n            if (\n              !isTestMode &&\n              !claims[currentClaimNum - 1].usedElements.some(\n                (cu) => !(mStart >= cu.end || mEnd <= cu.start)\n              )\n            ) {\n              claims[currentClaimNum - 1].usedElements.push(prevMatchedElement);\n            }\n\n            claim.matches = claim.matches.map((mm, matchIndex) => {\n              if (mm.indexOfMatch === indexOfMatch) {\n                return {\n                  ...mm,\n                  keyFromGroup: getElementKeyByGroup(\n                    mm.group,\n                    descriptionOfElementMap\n                  ),\n                  pathIsOK: true,\n                  prevMatchedElement\n                };\n              }\n              return mm;\n            });\n            // claim.matches[matchNum].pathIsOK = true;\n          }\n        }\n      }\n    }\n  );\n\n  // 2. 檢查請求項中不在符號說明的「該」元件\n  [\n    ...claim.matches\n      .slice(1)\n      .filter((mm) => !mm.isInDescriptionOfElementMap)\n      .map((mm) => {\n        mm.longestPrevMatch = getPrevMatchedStr(\n          claims,\n          claim,\n          searchPath,\n          mm.start,\n          mm.item,\n          isValueFixed\n        );\n        return mm;\n      })\n      .sort((a, b) => b.longestPrevMatch.length - a.longestPrevMatch.length)\n    // .sort((a, b) => b.item.length - a.item.length)\n  ].forEach(\n    ({\n      group,\n      value,\n      item,\n      start,\n      end,\n      pathIsOK,\n      // isInDescriptionOfElementMap,  // Test\n      indexOfMatch\n      // longestPrevMatch // Test\n    }) => {\n      // 跟上面的邏輯一樣，只是變成一個字個字由前往後找\n      // Test\n      // if (claim.num === 19) {\n      //   console.log(\"longestPrevMatch: \", longestPrevMatch);\n      //   console.log(\"value:\", value);\n      //   console.log(\"item:\", item);\n      //   //   console.log(\"pathIsOK: \", pathIsOK);\n      //   //   console.log(\"indexOfMatch: \", indexOfMatch);\n      //   //   console.log(\n      //   //     \"isInDescriptionOfElementMap: \",\n      //   //     isInDescriptionOfElementMap\n      //   //   );\n      //   //   debugger;\n      // }\n\n      if (pathIsOK) {\n        return;\n      }\n\n      /*const itemReg =\n        value.length < 2 || isValueFixed\n          ? value\n          : value\n              .split(\"\")\n              .reduce((acc, cur, _i) => {\n                if (_i === 0) {\n                  return [cur];\n                }\n                return [...acc, acc[acc.length - 1] + cur];\n              }, [])\n              .filter((e, _i) => _i !== 0 || e === \"孔\" || e === \"洞\")\n              .reverse()\n              .join(\"|\");*/\n\n      const itemReg =\n        value.length < 2 || isValueFixed ? value : buildItemReg(value);\n\n      // Test\n      // if (claim.num === 1 && value === \"試算功能\") {\n      //   console.log(\"itemReg: \", itemReg);\n      //   debugger;\n      // }\n\n      // 1. 先檢查是否與主要元件名稱相符\n      if (\n        [claim.mainElement, ...searchPath.map((n) => claims[n - 1].mainElement)]\n          // .map((mainElement) => mainElement.split(/[^\\u4E00-\\u9FFF]/)[0])\n          .map((mainElement) => mainElement.split(/[\\\\(\\\\)]/)[0])\n          .map((mainElement) =>\n            mainElement.split(/[之的]/).length > 1\n              ? [mainElement, ...mainElement.split(/[之的]/)]\n              : [mainElement]\n          )\n          .flat()\n          .some((el) => RegExp(`(${itemReg})$`).test(el))\n      ) {\n        // Test\n        // if (claim.num === 2 && value === \"金屬外殼上開口\") {\n        //   console.log(\"step 1\");\n        //   console.log(itemReg);\n        //   debugger;\n        // }\n        const foundEl = [\n          { mainElement: claim.mainElement, num: claim.num },\n          ...searchPath.map((n) => ({\n            mainElement: claims[n - 1].mainElement,\n            num: claims[n - 1].num\n          }))\n        ]\n          .map((mel) => ({\n            ...mel,\n            // mainElement: mel.mainElement.split(/[^\\u4E00-\\u9FFF]/)[0]\n            mainElement: mel.mainElement.split(/[\\\\(\\\\)]/)[0]\n          }))\n          .map(({ mainElement, num }) =>\n            mainElement.split(/[之的]/).length > 1\n              ? [\n                  { mainElement, num },\n                  ...mainElement\n                    .split(/[之的]/)\n                    .map((mel) => ({ mainElement: mel, num }))\n                ]\n              : [{ mainElement, num }]\n          )\n          .flat()\n          .find((el) => RegExp(`(${itemReg})$`).test(el.mainElement));\n\n        const { num: wantedClaimNum, mainElement: prevItemName } = foundEl;\n\n        claim.matches = claim.matches.map((mm) => {\n          if (mm.indexOfMatch === indexOfMatch) {\n            const prevMatchedElement = {\n              ...claims[wantedClaimNum - 1].matches[0],\n              type: \"usedElement\",\n              claimNum: wantedClaimNum,\n              isMainElement: true\n            };\n\n            const newItemName = prevItemName.match(RegExp(`(${itemReg})$`))[0];\n\n            return {\n              ...mm,\n              group: prevMatchedElement.group,\n              item: prevMatchedElement.item,\n              value: newItemName,\n              end: mm.start + newItemName.length,\n              pathIsOK: true,\n              prevMatchedElement\n              // prevMatchedElement: {\n              //   type: \"usedElement\",\n              //   group: stringToUnicode(prevItemName),\n              //   value: claims[wantedClaimNum - 1].mainElement,\n              //   item: newItemName,\n              //   start: claims[wantedClaimNum - 1].content.indexOf(\n              //     claims[wantedClaimNum - 1].mainElement\n              //   ),\n              //   end:\n              //     claims[wantedClaimNum - 1].content.indexOf(\n              //       claims[wantedClaimNum - 1].mainElement\n              //     ) + claims[wantedClaimNum - 1].mainElement.length,\n              //   claimNum: wantedClaimNum,\n              //   isMainElement: true\n              // }\n            };\n          }\n          return mm;\n        });\n        // return;\n      } else if (\n        // 2. 若不是，再檢查該元件是否已被記錄下來(檢查最長的value, 最長的找不到再去step3)\n        [\n          claim.usedElements,\n          ...searchPath.map((n) => claims[n - 1].usedElements)\n        ]\n          .flat()\n          // .some((el) => RegExp(`(${itemReg})$`).test(el.value))\n          .some((el) => RegExp(`(${value})$`).test(el.value))\n      ) {\n        // Test\n        // if (claim.num === 21 && value === \"付款請求\") {\n        //   console.log(\"step 2\");\n        //   console.log(\"value: \", value);\n        //   debugger;\n        // }\n\n        const prevItem = [\n          claim.usedElements,\n          ...searchPath.map((n) => claims[n - 1].usedElements)\n        ]\n          .flat()\n          // .filter((el) => RegExp(`(${itemReg})$`).test(el.value))\n          .filter((el) => RegExp(`(${value})$`).test(el.value))\n          // .sort(\n          //   (a, b) =>\n          //     b.value.match(RegExp(`(${itemReg})$`))[0].length -\n          //     a.value.match(RegExp(`(${itemReg})$`))[0].length\n          // )[0];\n          .sort(\n            (a, b) =>\n              b.value.match(RegExp(`(${value})$`))[0].length -\n              a.value.match(RegExp(`(${value})$`))[0].length\n          )[0];\n\n        // Test\n        // if (claim.num === 5 && value === \"環境訊號\") {\n        //   console.log(\"itemReg: \", RegExp(`(${itemReg})$`));\n        //   console.log(\"prevItem: \", prevItem);\n        //   console.log(\"prevItemName: \", prevItem.item);\n        //   debugger;\n        // }\n\n        // const prevItemName = prevItem.value;\n        // const newItemName = prevItemName.match(RegExp(`(${itemReg})$`))[0];\n        // const newItemName = prevItemName.match(RegExp(`(${value})$`))[0];\n        claim.matches = claim.matches.map((mm) => {\n          if (mm.indexOfMatch === indexOfMatch) {\n            return {\n              ...mm,\n              //group: stringToUnicode(mm.value),\n              group: prevItem.group,\n              //value: mm.value,\n              // value: newItemName,\n              value,\n              // item: newItemName,\n              item: prevItem.item,\n              end: mm.start + value.length,\n              pathIsOK: true,\n              prevMatchedElement: prevItem\n            };\n          }\n          return mm;\n        });\n      } else {\n        // 3. 最後，從前面的請求項內容中找是否有出現過\n        // 如果下面的判別式改了，getPrevMatchedStr 那邊也要改\n        // Test\n        // if (claim.num === 1 && value === \"試算功能\") {\n        //   console.log(\"step 3\");\n        //   console.log(\"itemReg: \", itemReg);\n        //   debugger;\n        // }\n\n        let prevItem;\n        let searchClaimsNum = [claim.num, ...searchPath];\n        let currentClaimNum;\n        do {\n          let _currentClaimNum = searchClaimsNum.shift();\n          const claimContent =\n            _currentClaimNum === claim.num\n              ? claims[_currentClaimNum - 1].content.slice(0, start)\n              : claims[_currentClaimNum - 1].content;\n          // 找到該請求項第一個 Match 的且不可與「該」元件名稱重疊\n          let currentPrevItem = [\n            [\n              ...claimContent.matchAll(\n                RegExp(\n                  `(${getReferWords_1()})[^${getLimitedChar()}]{1,8}?(${itemReg})`,\n                  \"g\"\n                )\n              )\n            ].map((mp) => {\n              mp.newIndex = mp.index + 10000;\n              return mp;\n            }),\n            [\n              ...claimContent.matchAll(\n                RegExp(`(${getReferWords_1()})(${itemReg})`, \"g\")\n              )\n            ].map((mp) => {\n              mp.newIndex = mp.index + 10000;\n              return mp;\n            }),\n            [\n              ...claimContent.matchAll(\n                RegExp(\n                  `(${getReferWords_2()})[^${getLimitedChar()}]{1,8}?(${itemReg})`,\n                  \"g\"\n                )\n              )\n            ].map((mp) => {\n              mp.newIndex = mp.index + 20000;\n              return mp;\n            }),\n            [\n              ...claimContent.matchAll(\n                RegExp(`(${getReferWords_2()})(${itemReg})`, \"g\")\n              )\n            ].map((mp) => {\n              mp.newIndex = mp.index + 20000;\n              return mp;\n            }),\n            [...claimContent.matchAll(RegExp(`()(${itemReg})`, \"g\"))].map(\n              (mp) => {\n                mp.newIndex = mp.index + 30000;\n                return mp;\n              }\n            )\n          ]\n            .flat()\n            .filter(\n              (o) =>\n                //!/(前述之|所述之|上述之|係用以|係用來|係用於|若干個|若干種|複數個|複數種|多數個|多數種|若干|一個|一種|二個|二種|複數|前述|所述|上述|其中|多個|多種|多數|具有|包含|包括|多|二|一|個|種|些|和|及|與|或|之|的|係|該|@|、|，|、|，|-|；|:|,|\\\\|\\?|\\.|\\+|\\[|\\]|\\(|\\)|{|}|「|」)/.test(\n                !RegExp(allIgnoreMiddleWords()).test(\n                  o[0]\n                    .slice(o[1].length, o[0].length - o[2].length)\n                    .replace(/^第./, \"\")\n                )\n            )\n            .filter(\n              (o) =>\n                !RegExp(`[^\\\\u4E00-\\\\u9FFF${allSymbolChar}]`, \"i\").test(\n                  o[0]\n                    .slice(o[1].length, o[0].length - o[2].length)\n                    .replace(/^第./, \"\")\n                )\n            )\n            .filter(\n              (o) =>\n                !(\n                  o[0] === \"包\" &&\n                  (claimContent[o.index + 1] === \"括\" ||\n                    claimContent[o.index + 1] === \"含\")\n                )\n            )\n            .sort(\n              (a, b) =>\n                b[2].length - a[2].length ||\n                b[0].slice(b[1].length).length -\n                  a[0].slice(a[1].length).length ||\n                a.newIndex - b.newIndex\n            )\n            .filter((plt) => {\n              const matchedStr = plt[0].slice(plt[1].length);\n              const extraPreStr = matchedStr.slice(\n                0,\n                matchedStr.match(RegExp(itemReg)).index\n              );\n              if (extraPreStr === \"\") return true;\n              return !regExpsOrigin\n                .map((og) => og.value)\n                .find((v) => extraPreStr.includes(v));\n            })\n            .filter(\n              (plt) =>\n                !claims[_currentClaimNum - 1].matches.some(\n                  (m) =>\n                    !(\n                      plt.index + plt[1].length >= m.end ||\n                      plt.index + plt[0].length <= m.start\n                    )\n                )\n            )\n            .filter(\n              (plt) =>\n                !claims[_currentClaimNum - 1].preUsedElements\n                  .filter(\n                    // (pUsed) => pUsed.value !== plt[0].slice(plt[1].length)\n                    (pUsed) =>\n                      !itemReg\n                        .split(\"|\")\n                        .find(\n                          (ee) =>\n                            pUsed.value.endsWith(ee) || ee.endsWith(pUsed.value)\n                        )\n                  )\n                  .some(\n                    (m) =>\n                      !(\n                        plt.index + plt[1].length >= m.end ||\n                        plt.index + plt[0].length <= m.start\n                      )\n                  )\n              // )[0];\n            )\n            .filter(\n              (plt) =>\n                !(\n                  claims[_currentClaimNum - 1].usedElements.some(\n                    (m) =>\n                      !(\n                        plt.index + plt[1].length >= m.end ||\n                        plt.index + plt[0].length <= m.start\n                      )\n                  ) &&\n                  claims[_currentClaimNum - 1].usedElements[\n                    claims[_currentClaimNum - 1].usedElements.findIndex(\n                      (m) =>\n                        !(\n                          plt.index + plt[1].length >= m.end ||\n                          plt.index + plt[0].length <= m.start\n                        )\n                    )\n                  ].end >\n                    plt.index + plt[0].length\n                )\n            )[0];\n\n          // Test\n          // if (claim.num === 5 && item === \"環境訊號\") {\n          //   console.log(`search claim: ${_currentClaimNum}`);\n          //   console.log(\"currentPrevItem\");\n          //   console.log(currentPrevItem);\n          //   debugger;\n          // }\n\n          if (\n            currentPrevItem &&\n            (!prevItem || currentPrevItem[2].length > prevItem[2].length)\n          ) {\n            prevItem = currentPrevItem;\n            currentClaimNum = _currentClaimNum;\n          }\n        } while (searchClaimsNum.length > 0);\n        if (!prevItem) {\n          // 前面沒有該元件\n\n          if (!isTestMode /*&& round === 2*/) {\n            const message =\n              searchPath.length > 0\n                ? `元件名稱「${value}」未見於本請求項先前內容或所依附的請求項${searchPath\n                    .map((e) => `(${e})`)\n                    .join(\"其所依附的請求項\")}中`\n                : `元件名稱「${value}」未見於本請求項先前內容`;\n            claim.errors.push({\n              message,\n              start,\n              end\n            });\n            if (\n              !claim.nonMatches.find(\n                (mm) =>\n                  mm.group === group && mm.start === start && mm.item === item\n              )\n            ) {\n              claim.nonMatches.push({\n                group,\n                item,\n                start,\n                end,\n                paths: [searchPath]\n              });\n            } else {\n              claim.nonMatches[\n                claim.nonMatches.findIndex(\n                  (mm) =>\n                    mm.group === group && mm.start === start && mm.item === item\n                )\n              ].paths.push(searchPath);\n            }\n          }\n        } else {\n          // 前面有該元件, 一「元件名稱」\n          // 有2種況:\n          // 1. prevItem 剛好就是先前的 usedElement, prevItem 的長度比usedElement長或一樣\n          // 2. prevItem 不是先前的 usedElement\n\n          const mStart = prevItem.index + prevItem[1].length;\n          const mEnd = prevItem.index + prevItem[0].length;\n\n          if (\n            claims[currentClaimNum - 1].usedElements\n              .filter((cu) =>\n                currentClaimNum !== claim.num ? true : cu.start < start\n              )\n              .find(\n                (cu) =>\n                  !(mStart >= cu.end || mEnd <= cu.start) &&\n                  mStart === cu.start &&\n                  mEnd >= cu.end\n              )\n            // .find((cu) => !(mStart >= cu.end || mEnd <= cu.start))\n          ) {\n            // 1. 情況 1\n            const prevMatchedElement = claims[currentClaimNum - 1].usedElements\n              .filter((cu) =>\n                currentClaimNum !== claim.num ? true : cu.start < start\n              )\n              .find(\n                (cu) =>\n                  !(mStart >= cu.end || mEnd <= cu.start) &&\n                  mStart === cu.start &&\n                  mEnd >= cu.end\n              );\n            // .find((cu) => !(mStart >= cu.end || mEnd <= cu.start));\n\n            // Test\n            /*try {\n              prevMatchedElement.value.match(RegExp(`(${itemReg})$`))[0];\n            } catch (e) {\n              console.log(\"currentClaimNum: \", currentClaimNum);\n              console.log(\"num: \", claim.num);\n              console.log(\"mStart: \", mStart);\n              console.log(\"mEnd: \", mEnd);\n              console.log(RegExp(`(${itemReg})$`));\n              console.log(\"start: \", start);\n              console.log(\"prevMatchedElement\");\n              console.log(prevMatchedElement);\n              debugger;\n            }*/\n\n            const mValue = prevMatchedElement.value.match(\n              RegExp(`(${itemReg})$`)\n            )[0];\n\n            claim.matches = claim.matches.map((mm) => {\n              if (mm.indexOfMatch === indexOfMatch) {\n                return {\n                  ...mm,\n                  group: prevMatchedElement.group,\n                  value: mValue,\n                  item: prevMatchedElement.item,\n                  // end: mm.start + prevItem[2].length,\n                  end: mm.start + mValue.length,\n                  pathIsOK: true,\n                  prevMatchedElement\n                };\n              }\n              return mm;\n            });\n          } else {\n            // 2. 情況 2\n            const mValue = prevItem[0].slice(prevItem[1].length);\n            if (!elementColorMap[stringToUnicode(mValue)]) {\n              elementColorMap[stringToUnicode(mValue)] = {\n                value: mValue,\n                // color: `rgba(${Math.floor(Math.random() * 255)}, ${Math.floor(\n                //   Math.random() * 255\n                // )}, ${Math.floor(Math.random() * 255)}, .7)`\n                color: pickColor(Object.keys(elementColorMap).length)\n              };\n            }\n\n            const prevMatchedElement = {\n              type: \"usedElement\",\n              group: stringToUnicode(prevItem[0].slice(prevItem[1].length)),\n              value: mValue,\n              item: prevItem[2],\n              start: mStart,\n              end: mEnd,\n              claimNum: currentClaimNum\n            };\n            if (\n              !isTestMode &&\n              !claims[currentClaimNum - 1].usedElements.some(\n                (cu) => !(mStart >= cu.end || mEnd <= cu.start)\n              )\n            ) {\n              claims[currentClaimNum - 1].usedElements.push(prevMatchedElement);\n            } /*else if (\n              !isTestMode &&\n              claims[currentClaimNum - 1].usedElements.find(\n                (cu) => !(mStart >= cu.end || mEnd <= cu.start)\n              )\n            ) {\n              const usedElIdx = claims[\n                currentClaimNum - 1\n              ].usedElements.findIndex(\n                (cu) => !(mStart >= cu.end || mEnd <= cu.start)\n              );\n              claims[currentClaimNum - 1].usedElements[\n                usedElIdx\n              ] = prevMatchedElement;\n            }*/\n\n            claim.matches = claim.matches.map((mm) => {\n              if (mm.indexOfMatch === indexOfMatch) {\n                return {\n                  ...mm,\n                  group: stringToUnicode(mValue),\n                  value: mValue,\n                  item: prevItem[2],\n                  end: mm.start + prevItem[2].length,\n                  pathIsOK: true,\n                  prevMatchedElement\n                };\n              }\n              return mm;\n            });\n            // claim.matches[matchNum].pathIsOK = true;\n          }\n        }\n      }\n    }\n  );\n};\n\nfunction findAllPreUsedElements(\n  claim,\n  contentFirstIndex,\n  regExpsOrigin,\n  descriptionOfElementMap,\n  figureOfDrawingsMap,\n  concatRegExp,\n  concatSymRegExp\n) {\n  let preUsedConcatElements = [];\n  if (concatRegExp !== \"\" || concatSymRegExp !== \"\") {\n    const concatMatchReg_1 = RegExp(\n      `(${getReferWords_1()})((第[一二三四五六七八九十]([${concatWordSeparater}]第?[一二三四五六七八九十])+(${concatRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*))`,\n      \"ig\"\n    );\n    const concatMatchReg_2 = RegExp(\n      `(${getReferWords_2()})((第[一二三四五六七八九十]([${concatWordSeparater}]第?[一二三四五六七八九十])+(${concatRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*))`,\n      \"ig\"\n    );\n    const concatMatchReg_3 = RegExp(\n      `()((第[一二三四五六七八九十]([${concatWordSeparater}]第?[一二三四五六七八九十])+(${concatRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*))`,\n      \"ig\"\n    );\n    const concatSymMatchReg_1 = RegExp(\n      `(${getReferWords_1()})(([${symetricPrefix()}]([${concatWordSeparater}][${symetricPrefix()}])+(${concatSymRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*))`,\n      \"ig\"\n    );\n    const concatSymMatchReg_2 = RegExp(\n      `(${getReferWords_2()})(([${symetricPrefix()}]([${concatWordSeparater}][${symetricPrefix()}])+(${concatSymRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*))`,\n      \"ig\"\n    );\n    const concatSymMatchReg_3 = RegExp(\n      `()(([${symetricPrefix()}]([${concatWordSeparater}][${symetricPrefix()}])+(${concatSymRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}\\\\-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}\\\\-~']+\\\\)?)*))`,\n      \"ig\"\n    );\n\n    const claimContent = claim.content.slice(contentFirstIndex);\n    // console.log(concatMatchReg_1);\n    // console.log([...claimContent.matchAll(concatMatchReg_1)]);\n    // console.log(concatMatchReg_2);\n    // console.log([...claimContent.matchAll(concatMatchReg_2)]);\n    // console.log(concatMatchReg_3);\n    // console.log([...claimContent.matchAll(concatMatchReg_3)]);\n\n    const foundConcatElements = [\n      [...claimContent.matchAll(concatMatchReg_1)].map((mp) => {\n        mp.newIndex = mp.index + 10000;\n        return mp;\n      }),\n      [...claimContent.matchAll(concatMatchReg_2)].map((mp) => {\n        mp.newIndex = mp.index + 20000;\n        return mp;\n      }),\n      [...claimContent.matchAll(concatMatchReg_3)].map((mp) => {\n        mp.newIndex = mp.index + 30000;\n        return mp;\n      }),\n      [...claimContent.matchAll(concatSymMatchReg_1)].map((mp) => {\n        mp.newIndex = mp.index + 10000;\n        return mp;\n      }),\n      [...claimContent.matchAll(concatSymMatchReg_2)].map((mp) => {\n        mp.newIndex = mp.index + 20000;\n        return mp;\n      }),\n      [...claimContent.matchAll(concatSymMatchReg_3)].map((mp) => {\n        mp.newIndex = mp.index + 30000;\n        return mp;\n      })\n    ]\n      .flat()\n      .sort((a, b) => a.newIndex - b.newIndex);\n\n    foundConcatElements\n      .map((match) => {\n        // console.log(match);\n        // debugger;\n        if (\n          match[7] &&\n          RegExp(`[${allSymbolChar}']+$`, \"i\").test(match[7]) &&\n          /^[@θ%度˚℃]/.test(claimContent.slice(match.index + match[0].length))\n        ) {\n          match[0] = match[0].split(/[、,]/).slice(0, -1).join(\"、\");\n          match[2] = match[2].split(/[、,]/).slice(0, -1).join(\"、\");\n          match[7] = match[7].split(/[、,]/).slice(0, -1).join(\"、\");\n          match[8] = match[8].split(/[、,]/).slice(0, -1).join(\"、\");\n        }\n        return match;\n      })\n      .forEach((mm) => {\n        if (\n          !preUsedConcatElements.some(\n            (p) =>\n              !(\n                mm.index >= p.index + p[0].length ||\n                mm.index + mm[0].length <= p.index\n              )\n          )\n        ) {\n          preUsedConcatElements.push(mm);\n        }\n      });\n  }\n\n  // console.log(concatMatches);\n\n  let preUsedElements = [];\n  [...regExpsOrigin]\n    // .map((o) => o.value)\n    .sort((a, b) => b.value.length - a.value.length)\n    .forEach((origin) => {\n      // Test\n      // if (value === \"滅火劑\" && claim.num === 8) {\n      //   console.log(\"preUsed Claim: \", claim.num, \" value: \", value);\n      //   debugger;\n      // }\n\n      const { value } = origin;\n\n      const claimContent = claim.content.slice(contentFirstIndex);\n      let foundMatches = [\n        /*[\n          ...claimContent.matchAll(\n            RegExp(\n              `(${getReferWords_1()})[^${getLimitedChar()}]{1,8}?${value}`,\n              \"g\"\n            )\n          )\n        ].map((mp) => {\n          mp.newIndex = mp.index + 10000;\n          return mp;\n        }),*/\n        [\n          ...claimContent.matchAll(\n            RegExp(`(${getReferWords_1()})${value}`, \"g\")\n          )\n        ].map((mp) => {\n          mp.newIndex = mp.index + 10000;\n          return mp;\n        }),\n        /*[\n          ...claimContent.matchAll(\n            RegExp(\n              `(${getReferWords_2()})[^${getLimitedChar()}]{1,8}?${value}`,\n              \"g\"\n            )\n          )\n        ].map((mp) => {\n          mp.newIndex = mp.index + 20000;\n          return mp;\n        }),*/\n        [\n          ...claimContent.matchAll(\n            RegExp(`(${getReferWords_2()})${value}`, \"g\")\n          )\n        ].map((mp) => {\n          mp.newIndex = mp.index + 20000;\n          return mp;\n        }),\n        [...claimContent.matchAll(RegExp(`()${value}`, \"g\"))].map((mp) => {\n          mp.newIndex = mp.index + 30000;\n          return mp;\n        })\n      ]\n        .flat()\n        .filter(\n          (match) =>\n            !preUsedConcatElements.some(\n              (mt) =>\n                !(\n                  match.index + match[0].length <= mt.index ||\n                  match.index >= mt.index + mt[0].length\n                )\n            )\n        )\n        .filter(\n          (o) =>\n            //!/(前述之|所述之|上述之|係用以|係用來|係用於|若干個|若干種|複數個|複數種|多數個|多數種|若干|一個|一種|二個|二種|複數|前述|所述|上述|其中|多個|多種|多數|具有|包含|包括|多|二|一|個|種|些|和|及|與|或|之|的|係|該|@|、|，|、|，|-|；|:|,|\\\\|\\?|\\.|\\+|\\[|\\]|\\(|\\)|{|}|「|」)/.test(\n            !RegExp(allIgnoreMiddleWords()).test(\n              o[0]\n                .slice(o[1].length, o[0].length - value.length)\n                .replace(/^第./, \"\")\n            )\n        )\n        .sort(\n          (a, b) =>\n            a.newIndex - b.newIndex ||\n            b[0].slice(b[1].length).length - a[0].slice(a[1].length).length\n        );\n\n      // Test\n      // if (value === \"滅火劑\" && claim.num === 8) {\n      //   console.log(\"preUsed Claim: \", claim.num, \" value: \", value);\n      //   console.log(\"match before filter: \");\n      //   console.log(\n      //     [\n      //       [\n      //         ...claimContent.matchAll(\n      //           RegExp(\n      //             `(${getReferWords_1()})[^${getLimitedChar()}]{1,8}?${value}`,\n      //             \"g\"\n      //           )\n      //         )\n      //       ].map((mp) => {\n      //         mp.newIndex = mp.index + 10000;\n      //         return mp;\n      //       }),\n      //       [\n      //         ...claimContent.matchAll(\n      //           RegExp(`(${getReferWords_1()})${value}`, \"g\")\n      //         )\n      //       ].map((mp) => {\n      //         mp.newIndex = mp.index + 10000;\n      //         return mp;\n      //       }),\n      //       [\n      //         ...claimContent.matchAll(\n      //           RegExp(\n      //             `(${getReferWords_2()})[^${getLimitedChar()}]{1,8}?${value}`,\n      //             \"g\"\n      //           )\n      //         )\n      //       ].map((mp) => {\n      //         mp.newIndex = mp.index + 20000;\n      //         return mp;\n      //       }),\n      //       [\n      //         ...claimContent.matchAll(\n      //           RegExp(`(${getReferWords_2()})${value}`, \"g\")\n      //         )\n      //       ].map((mp) => {\n      //         mp.newIndex = mp.index + 20000;\n      //         return mp;\n      //       }),\n      //       [...claimContent.matchAll(RegExp(`()${value}`, \"g\"))].map((mp) => {\n      //         mp.newIndex = mp.index + 30000;\n      //         return mp;\n      //       })\n      //     ].flat()\n      //   );\n      //   // console.log(foundMatches);\n      //   debugger;\n      // }\n\n      foundMatches.forEach((mm) => {\n        if (\n          !preUsedElements.some(\n            (m) =>\n              !(\n                mm.index + mm[1].length >= m.end ||\n                mm.index + mm[0].length <= m.start\n              )\n          )\n        ) {\n          preUsedElements.push({\n            type: \"preUsedElements\",\n            // group: stringToUnicode(value),\n            group: stringToUnicode(\n              getMapValues(descriptionOfElementMap, figureOfDrawingsMap, origin)\n                ?.values[0] || value\n            ),\n            item:\n              getMapValues(descriptionOfElementMap, figureOfDrawingsMap, origin)\n                ?.values[0] || value,\n            value: mm[0].slice(mm[1].length),\n            start: mm.index + mm[1].length,\n            end: mm.index + mm[0].length,\n            claimNum: claim.num\n          });\n        }\n      });\n    }); // each value\n\n  // console.log(preUsedElements);\n  // console.log(preUsedConcatElements);\n  // debugger;\n\n  preUsedConcatElements.forEach((match) => {\n    // console.log(match);\n    // debugger;\n    let keyBeenModified = false;\n    const item = match[3]; // 元件\n    const matchValue = match[2]; // 元件+符號\n    const items = item.split(RegExp(`[${concatWordSeparater}]`)).map((it) => {\n      if (item.startsWith(\"第\")) {\n        return \"第\" + it[it.match(/[一二三四五六七八九十]/).index] + match[5];\n      } else {\n        return it[it.match(RegExp(`[${symetricPrefix()}]`)).index] + match[5];\n      }\n      // return \"第\" + it[it.match(/[一二三四五六七八九十]/).index] + match[5];\n    });\n    let keys =\n      match[7] === \"\"\n        ? [match[6].replaceAll(/[()]/g, \"\")]\n        : match[7]\n        ? [\n            match[6],\n            ...match[7]\n              .replaceAll(/[()]/g, \"\")\n              .split(/[、,]/)\n              .filter((e) => e !== \"\")\n          ]\n        : [\"\"];\n    // if (/.+[~-].+/.test(keys[0])) {\n    //   keyBeenModified = true;\n    //   keys = getKeyInRange(keys[0]);\n    // }\n    if (keys.some((curKey) => /.+[-~～].+/.test(curKey))) {\n      // keyBeenModified = true;\n      keys = keys.reduce((accKeys, curKey) => {\n        if (/.+[-~～].+/.test(curKey)) {\n          const _keyInRange = getKeyInRange(curKey);\n          if (_keyInRange.length > 0) {\n            keyBeenModified = true;\n          }\n          return [...accKeys, ..._keyInRange];\n        }\n        return [...accKeys, curKey];\n      }, []);\n    }\n    keys =\n      keys.length === 1 && keys[0] === \"\"\n        ? keys\n        : keys\n            .filter((k) => k !== \"\")\n            .filter((k) => !isKeyInReserve(k) && isKeyValid(k));\n    keys = Array.from(new Set(keys));\n\n    items.forEach((_item, _itemIdx) => {\n      const matchIndex = regExpsOrigin.map((o) => o.value).indexOf(_item);\n      const value = item.split(RegExp(`[${concatWordSeparater}]`))[_itemIdx];\n      const fullValue = _item;\n      let start = match.index + match[1].length;\n      item\n        .split(RegExp(`[${concatWordSeparater}]`))\n        .filter((iitt, iiddxx) => iiddxx < _itemIdx)\n        .forEach((iitt) => {\n          start += iitt.length + 1;\n        });\n      const end =\n        _itemIdx === items.length - 1\n          ? match.index + match[1].length + item.length\n          : start + value.length;\n      const key =\n        keys[_itemIdx] && keys[_itemIdx] !== \"\" ? keys[_itemIdx] : null;\n      const keyStart = key\n        ? match.index + match[1].length + matchValue.indexOf(key)\n        : -100;\n      const keyEnd = key ? keyStart + key.length : -100;\n\n      // finalMatches.push({\n      //   isInDescriptionOfElementMap: true,\n      //   pathIsOK: false,\n      //   start,\n      //   end,\n      //   group:\n      //     matchIndex >= 0\n      //       ? stringToUnicode(regExpsOrigin[matchIndex].value)\n      //       : stringToUnicode(_item),\n      //   item: matchIndex >= 0 ? regExpsOrigin[matchIndex].value : _item,\n      //   value,\n      //   fullValue: _item,\n      //   key,\n      //   keyStart,\n      //   keyEnd\n      // });\n      if (matchIndex >= 0) {\n        preUsedElements.push({\n          type: \"preUsedElements\",\n          // group: stringToUnicode(regExpsOrigin[matchIndex].value),\n          group: stringToUnicode(\n            (matchIndex >= 0 &&\n              getMapValues(\n                descriptionOfElementMap,\n                figureOfDrawingsMap,\n                regExpsOrigin[matchIndex]\n              )?.values[0]) ||\n              _item\n          ),\n          item:\n            getMapValues(\n              descriptionOfElementMap,\n              figureOfDrawingsMap,\n              regExpsOrigin[matchIndex]\n            )?.values[0] || _item,\n          // item: regExpsOrigin[matchIndex].value,\n          value,\n          fullValue,\n          start,\n          end,\n          claimNum: claim.num,\n          keys: key ? [key] : null,\n          keyStart,\n          keyEnd,\n          keyBeenModified\n        });\n      }\n    }); // each item\n  });\n\n  claim.preUsedElements = preUsedElements\n    .map((pre) => ({\n      ...pre,\n      start: pre.start + contentFirstIndex,\n      end: pre.end + contentFirstIndex,\n      keyStart:\n        pre.keyStart && pre.keyStart >= 0\n          ? pre.keyStart + contentFirstIndex\n          : null,\n      keyEnd:\n        pre.keyEnd && pre.keyEnd >= 0 ? pre.keyEnd + contentFirstIndex : null\n    }))\n    .sort((a, b) => a.start - b.start);\n\n  claim.preUsedShortElements = claim.preUsedElements.filter(\n    (pre) => pre.fullValue\n  );\n\n  // Test\n  // console.log(\"claim.preUsedElements\");\n  // console.log(claim.preUsedElements);\n  // console.log(\"claim.preUsedShortElements\");\n  // console.log(claim.preUsedShortElements);\n  // debugger;\n}\n\nfunction getPrevMatchedStr(\n  claims,\n  claim,\n  searchPath,\n  start,\n  item,\n  isValueFixed\n) {\n  /*const itemReg =\n    item.length < 2 || isValueFixed\n      ? item\n      : item\n          .split(\"\")\n          .reduce((acc, cur, _i) => {\n            if (_i === 0) {\n              return [cur];\n            }\n            return [...acc, acc[acc.length - 1] + cur];\n          }, [])\n          .filter((e, _i) => _i !== 0 || e === \"孔\" || e === \"洞\")\n          .reverse()\n          .join(\"|\");*/\n\n  const itemReg = item.length < 2 || isValueFixed ? item : buildItemReg(item);\n\n  let prevItem;\n  let searchClaimsNum = [claim.num, ...searchPath];\n  do {\n    let _currentClaimNum = searchClaimsNum.shift();\n    const claimContent =\n      _currentClaimNum === claim.num\n        ? claims[_currentClaimNum - 1].content.slice(0, start)\n        : claims[_currentClaimNum - 1].content;\n    // 找到該請求項第一個 Match 的且不可與「該」元件名稱重疊\n    let currentPrevItem = [\n      [\n        ...claimContent.matchAll(\n          RegExp(\n            `(${getReferWords_1()})[^${getLimitedChar()}]{1,8}?(${itemReg})`,\n            \"g\"\n          )\n        )\n      ].map((mp) => {\n        mp.newIndex = mp.index + 10000;\n        return mp;\n      }),\n      [\n        ...claimContent.matchAll(\n          RegExp(`(${getReferWords_1()})(${itemReg})`, \"g\")\n        )\n      ].map((mp) => {\n        mp.newIndex = mp.index + 10000;\n        return mp;\n      }),\n      [\n        ...claimContent.matchAll(\n          RegExp(\n            `(${getReferWords_2()})[^${getLimitedChar()}]{1,8}?(${itemReg})`,\n            \"g\"\n          )\n        )\n      ].map((mp) => {\n        mp.newIndex = mp.index + 20000;\n        return mp;\n      }),\n      [\n        ...claimContent.matchAll(\n          RegExp(`(${getReferWords_2()})(${itemReg})`, \"g\")\n        )\n      ].map((mp) => {\n        mp.newIndex = mp.index + 20000;\n        return mp;\n      }),\n      [...claimContent.matchAll(RegExp(`()(${itemReg})`, \"g\"))].map((mp) => {\n        mp.newIndex = mp.index + 30000;\n        return mp;\n      })\n    ]\n      .flat()\n      .filter(\n        (o) =>\n          //!/(前述之|所述之|上述之|係用以|係用來|係用於|若干個|若干種|複數個|複數種|多數個|多數種|若干|一個|一種|二個|二種|複數|前述|所述|上述|其中|多個|多種|多數|具有|包含|包括|多|二|一|個|種|些|和|及|與|或|之|的|係|該|@|、|，|、|，|-|；|:|,|\\\\|\\?|\\.|\\+|\\[|\\]|\\(|\\)|{|}|「|」)/.test(\n          !RegExp(allIgnoreMiddleWords()).test(\n            o[0]\n              .slice(o[1].length, o[0].length - o[2].length)\n              .replace(/^第./, \"\")\n          )\n      )\n      .filter(\n        (o) =>\n          !RegExp(`[^\\\\u4E00-\\\\u9FFF${allSymbolChar}]`, \"i\").test(\n            o[0].slice(o[1].length)\n          )\n      )\n      .filter(\n        (o) =>\n          !(\n            o[0] === \"包\" &&\n            (claimContent[o.index + 1] === \"括\" ||\n              claimContent[o.index + 1] === \"含\")\n          )\n      )\n      .sort(\n        (a, b) =>\n          b[2].length - a[2].length ||\n          b[0].slice(b[1].length).length - a[0].slice(a[1].length).length ||\n          a.newIndex - b.newIndex\n      )\n      .filter(\n        (plt) =>\n          !claims[_currentClaimNum - 1].matches.some(\n            (m) =>\n              !(\n                plt.index + plt[1].length >= m.end ||\n                plt.index + plt[0].length <= m.start\n              )\n          )\n      )\n      .filter(\n        (plt) =>\n          !claims[_currentClaimNum - 1].preUsedElements\n            .filter(\n              // (pUsed) => pUsed.value !== plt[0].slice(plt[1].length)\n              (pUsed) =>\n                !itemReg.split(\"|\").find((ee) => pUsed.value.endsWith(ee))\n            )\n            .some(\n              (m) =>\n                !(\n                  plt.index + plt[1].length >= m.end ||\n                  plt.index + plt[0].length <= m.start\n                )\n            )\n        // )[0];\n      )\n      .filter(\n        (plt) =>\n          !(\n            claims[_currentClaimNum - 1].usedElements.some(\n              (m) =>\n                !(\n                  plt.index + plt[1].length >= m.end ||\n                  plt.index + plt[0].length <= m.start\n                )\n            ) &&\n            claims[_currentClaimNum - 1].usedElements[\n              claims[_currentClaimNum - 1].usedElements.findIndex(\n                (m) =>\n                  !(\n                    plt.index + plt[1].length >= m.end ||\n                    plt.index + plt[0].length <= m.start\n                  )\n              )\n            ].end >\n              plt.index + plt[0].length\n          )\n      )[0];\n\n    // Test\n    // if (claim.num === 10 && item === \"待付款資訊予\") {\n    //   console.log(`search claim: ${_currentClaimNum}`);\n    //   console.log(\n    //     \"search claim usedElements: \",\n    //     claims[_currentClaimNum - 1].usedElements\n    //   );\n    //   console.log(\"currentPrevItem\");\n    //   console.log(currentPrevItem);\n    //   debugger;\n    // }\n\n    if (\n      currentPrevItem &&\n      (!prevItem || currentPrevItem[2].length > prevItem[2].length)\n    ) {\n      prevItem = currentPrevItem;\n    }\n  } while (searchClaimsNum.length > 0);\n\n  if (!prevItem) {\n    return \"\";\n  } else {\n    return prevItem[2];\n  }\n}\n\nfunction buildItemReg(item) {\n  const allItemRegs = Array(item.length)\n    .fill(null)\n    .map((_, regIdx) => item.slice(0, regIdx + 1))\n    .reverse();\n\n  if (/^第[一二三四五六七八九十]/.test(item)) {\n    // 留前3個中文字\n    return allItemRegs.slice(0, -2).join(\"|\");\n  } else if (!item.startsWith(\"孔\") && !item.startsWith(\"洞\")) {\n    // 留前2個中文字\n    return allItemRegs.slice(0, -1).join(\"|\");\n  }\n}\n\nfunction getElementKeyByGroup(group, descriptionOfElementMap) {\n  return Object.entries(descriptionOfElementMap).find(\n    (ent) => ent[1].id === group\n  )?.[0];\n}\n","import { checkIllegalAttach } from \"./checkIllegalAttach\";\n\nexport const modifySingleClaim = (\n  index,\n  regExpsOrigin,\n  concatRegExp,\n  concatSymRegExp,\n  claims,\n  claim,\n  descriptionOfElementMap,\n  figureOfDrawingsMap,\n  elementColorMap,\n  contentFirstIndex\n) => {\n  try {\n    if (!claim.claimSearchPath) return;\n    else if (claim.claimSearchPath.length <= 1) {\n      // 只有一條路徑，直接檢查\n\n      checkIllegalAttach(\n        regExpsOrigin,\n        concatRegExp,\n        concatSymRegExp,\n        contentFirstIndex,\n        claims,\n        claim,\n        descriptionOfElementMap,\n        figureOfDrawingsMap,\n        elementColorMap,\n        claim.claimSearchPath[0],\n        true, // isFirstPath\n        false, // 固定不在符號說明的該 item\n        false // isTestMode\n      );\n\n      claim.matches = claim.matches.map((mm) => ({\n        ...mm,\n        isOK: mm.pathIsOK,\n        prevMatchPerPath: [mm.prevMatchedElement]\n      }));\n      // Test\n      // console.log(`claim ${claim.num} matches`);\n      // console.log(claim.matches);\n      // console.log(claim.matches.map((m) => m.isOK));\n      // debugger;\n      // Test\n      // if (claim.num === 1) {\n      //   console.log(claim.matches);\n      //   debugger;\n      // }\n    } else {\n      // 有一條路徑以上，先run test mode 確認不在「該」的 item 長度\n      // run testmode\n\n      // Test\n      // console.log(`claim ${claim.num} before test mode`);\n      // console.log(claim.matches);\n      // console.log(claim.usedElements);\n\n      checkIllegalAttach(\n        regExpsOrigin,\n        concatRegExp,\n        concatSymRegExp,\n        contentFirstIndex,\n        claims,\n        claim,\n        descriptionOfElementMap,\n        figureOfDrawingsMap,\n        elementColorMap,\n        claim.matchedClaimsNum,\n        true, // isFirstPath\n        false, // 固定不在符號說明的該 item\n        true // isTestMode\n      );\n\n      // Test\n      // console.log(`claim ${claim.num} after test mode`);\n      // console.log(claim.matches);\n      // console.log(claim.usedElements);\n      // debugger;\n\n      // 把 test mode 的 result 記下來, 方便 debug 用\n      claim.multiPathTestMatches = [...claim.matches];\n      // 記住 test Mode 的 item, 之後每條的 path 不在「該」的 item 固定\n      claim.matches = claim.matches.map((match, mIdx) => {\n        return {\n          ...claim.matches[mIdx],\n          pathIsOK: claim.type === \"independent\" && mIdx === 0 ? true : false,\n          item: match.item,\n          prevMatchedElement: null\n        };\n      });\n      const multiPathAfterInit = [...claim.matches];\n\n      // Test\n      // console.log(`claim ${claim.num} after init`);\n      // console.log(claim.matches);\n      // debugger;\n\n      // 檢查是否不當依附, 每條路徑檢查一次\n      claim.claimSearchPath.forEach((path, pathIdx) => {\n        checkIllegalAttach(\n          regExpsOrigin,\n          concatRegExp,\n          concatSymRegExp,\n          contentFirstIndex,\n          claims,\n          claim,\n          descriptionOfElementMap,\n          figureOfDrawingsMap,\n          elementColorMap,\n          path,\n          false, // isFirstPath\n          true, // 固定不在符號說明的該 item\n          false // isTestMode\n        );\n\n        // Test\n        // console.log(\"path: \", path);\n        // console.log(`claim ${claim.num} match after path 1: `);\n        // console.log(claim.matches);\n        // debugger;\n\n        // 有一條路徑失敗 -> 該元件失敗\n        claim.matches = claim.matches.map((match, mIdx) => {\n          return {\n            ...multiPathAfterInit[mIdx],\n            isOK: !match.pathIsOK ? false : match.isOK,\n            // item: match.item,\n            /*prevMatchedElement:\n              claim.claimSearchPath.length - 1 === pathIdx\n                ? match.prevMatchedElement\n                : null*/\n            prevMatchPerPath: [\n              ...match.prevMatchPerPath,\n              match.prevMatchedElement\n            ],\n            prevMatchedElement: null\n          };\n        }); // each match\n      }); // each path\n\n      // Test\n      console.log(`claim ${claim.num} details after all paths`);\n      console.log(claim);\n      // debugger;\n    } // else\n  } catch (err) {\n    console.log(err);\n    claim.errors.push({\n      message: err.message.includes(\"無法判斷此請求項為獨立項或附屬項\")\n        ? \"無法判斷此請求項為獨立項或附屬項\"\n        : `分析此請求項時發生問題: ${err.message}`,\n      start: -100,\n      end: -99\n    });\n  }\n};\n","const words = [\n  \"前述之\",\n  \"所述之\",\n  \"上述之\",\n  // \"其中之\",\n  \"前述的\",\n  \"所述的\",\n  \"上述的\",\n  \"前述該\",\n  \"所述該\",\n  \"上述該\",\n  \"其中該\",\n  // \"其中的\",\n  \"所述\",\n  \"前述\",\n  \"所述\",\n  \"上述\",\n  // \"其中\",\n  \"該\"\n];\n\nexport const allThisWords = () =>\n  [...words].sort((a, b) => b.length - a.length).join(\"|\");\n","import { allIgnoreMiddleWords } from \"../dict/allIgnoreMiddleWords\";\nimport {\n  getLimitedChar,\n  getReferWords_1,\n  getReferWords_2\n} from \"../dict/allReferWords\";\nimport { allThisWords } from \"../dict/allThisWords\";\nimport { allUnitWords } from \"../dict/allUnitWords\";\n\nexport const checkPreviousClaimContent = (\n  claims,\n  claim,\n  item,\n  realStart,\n  firstIndex\n) => {\n  try {\n    let itemReg;\n    if (item.length <= 2) {\n      itemReg = item;\n    } else {\n      const itemPrefix = /^第./.test(item) ? item.slice(0, 2) : \"\";\n      const itemBody = item.slice(itemPrefix.length, item.length);\n\n      itemReg = itemBody\n        .split(\"\")\n        .reduce((acc, cur, _i) => {\n          if (_i === 0) {\n            return [cur];\n          }\n          return [...acc, acc[acc.length - 1] + cur];\n        }, [])\n        .filter((it) => it.length >= 2)\n        .map((it) => itemPrefix + it)\n        .reverse()\n        .join(\"|\");\n    }\n\n    // Test\n    // if (item.startsWith(\"排氣狀\") && claim.num === 9) {\n    //   console.log(\"in the checkPreviousClaimContent\");\n    //   console.log(\"item: \", item);\n    //   console.log(\"itemReg: \", itemReg);\n    //   console.log(\"all contents: \", [\n    //     claim.content.slice(0, realStart),\n    //     ...claim.matchedClaimsNum.map((num) => claims[num - 1].content)\n    //   ]);\n    //   debugger;\n    // }\n\n    let longestMatch = \"\";\n    let isFind = false;\n\n    [\n      claim.content.slice(0, realStart + firstIndex),\n      ...claim.matchedClaimsNum.map((num) => claims[num - 1].content)\n    ].forEach((content) => {\n      // const currentClaimsMatches = [...content.matchAll(itemReg, \"g\")];\n\n      const currentLongestMatches = [\n        [\n          ...content.matchAll(\n            RegExp(\n              `(${getReferWords_1()})[^${getLimitedChar()}]{1,8}?(${itemReg})`,\n              \"g\"\n            )\n          )\n        ].map((mp) => {\n          mp.newIndex = mp.index + 10000;\n          return mp;\n        }),\n        [\n          ...content.matchAll(RegExp(`(${getReferWords_1()})(${itemReg})`, \"g\"))\n        ].map((mp) => {\n          mp.newIndex = mp.index + 10000;\n          return mp;\n        }),\n        [\n          ...content.matchAll(\n            RegExp(\n              `(${getReferWords_2()})[^${getLimitedChar()}]{1,8}?(${itemReg})`,\n              \"g\"\n            )\n          )\n        ].map((mp) => {\n          mp.newIndex = mp.index + 20000;\n          return mp;\n        }),\n        [\n          ...content.matchAll(RegExp(`(${getReferWords_2()})(${itemReg})`, \"g\"))\n        ].map((mp) => {\n          mp.newIndex = mp.index + 20000;\n          return mp;\n        }),\n        [...content.matchAll(RegExp(`()(${itemReg})`, \"g\"))].map((mp) => {\n          mp.newIndex = mp.index + 30000;\n          return mp;\n        })\n      ]\n        .flat()\n        .filter((o) => {\n          // Test\n          // if (o[2] === \"溫室\") {\n          //   console.log(o);\n          //   console.log(content.slice(0, o.index));\n          //   debugger;\n          // }\n          return !RegExp(`(${allThisWords()})(${allUnitWords()})?$`).test(\n            content.slice(0, o.index)\n          );\n        })\n        .filter(\n          (o) =>\n            //!/(前述之|所述之|上述之|係用以|係用來|係用於|若干個|若干種|複數個|複數種|多數個|多數種|若干|一個|一種|二個|二種|複數|前述|所述|上述|其中|多個|多種|多數|具有|包含|包括|多|二|一|個|種|些|和|及|與|或|之|的|係|該|@|、|，|、|，|-|；|:|,|\\\\|\\?|\\.|\\+|\\[|\\]|\\(|\\)|{|}|「|」)/.test(\n            !RegExp(allIgnoreMiddleWords()).test(\n              o[0]\n                // .slice(o[1].length, o[0].length - value.length)\n                .slice(o[1].length, o[0].length - o[2].length)\n                .replace(/^第./, \"\")\n            )\n        )\n        .sort(\n          (a, b) =>\n            // b[0].slice(b[1].length).length - a[0].slice(a[1].length).length ||\n            b[2].length - a[2].length ||\n            b[0].slice(b[1].length).length - a[0].slice(a[1].length).length ||\n            a.newIndex - b.newIndex\n        );\n\n      // Test\n      // if (claim.num === 5 && item === \"環境訊號更包含\") {\n      //   console.log(\"itemReg: \", itemReg);\n      //   console.log(\"content: \", content);\n      //   console.log(\"currentLongestMatches: \", currentLongestMatches);\n      //   // debugger;\n      // }\n\n      if (\n        currentLongestMatches[0] &&\n        currentLongestMatches[0][2].length > longestMatch.length\n      ) {\n        longestMatch = currentLongestMatches[0][2];\n        isFind = true;\n      }\n    });\n\n    // Test\n    // if (claim.num === 5 && item === \"環境訊號更包含\") {\n    //   console.log(longestMatch);\n    //   console.log(\"isFind: \", isFind);\n    //   debugger;\n    // }\n\n    return { item: longestMatch === \"\" ? item : longestMatch, isFind };\n  } catch (error) {\n    return { item, isFind: false };\n  }\n};\n\nexport const checkItemInModeForInvention = (\n  item,\n  allModeForInventionParagraphDetails\n) => {\n  try {\n    let itemReg;\n    if (item.length <= 2) {\n      itemReg = item;\n    } else {\n      const itemPrefix = /^第./.test(item) ? item.slice(0, 2) : \"\";\n      const itemBody = item.slice(itemPrefix.length, item.length);\n\n      itemReg = itemBody\n        .split(\"\")\n        .reduce((acc, cur, _i) => {\n          if (_i === 0) {\n            return [cur];\n          }\n          return [...acc, acc[acc.length - 1] + cur];\n        }, [])\n        .filter((it) => it.length >= 2)\n        .map((it) => itemPrefix + it)\n        .reverse()\n        .join(\"|\");\n    }\n\n    /*\n    if (item === \"功能性關關的交流電源電壓\") {\n      console.log(\"itemReg: \", itemReg);\n      debugger;\n    }\n    */\n\n    let longestMatch = \"\";\n    let isFind = false;\n    allModeForInventionParagraphDetails.forEach(\n      ({ content, paragraphMatch }) => {\n        const paraMatches = [...content.matchAll(itemReg, \"g\")];\n\n        if (paraMatches.length === 0) {\n          return;\n        }\n\n        paraMatches.sort((a, b) => b[0].length - a[0].length);\n\n        // console.log(paraMatches);\n        // debugger;\n\n        const curLongestMatch = paraMatches[0][0];\n\n        /*\n        const curLongestMatch = paraMatches\n          .sort((a, b) => b[0].length - a[0].length)\n          .find((match) => {\n            const matchStart = match.index;\n            const matchEnd = match.index + match[0].length;\n\n            const isIntersectWithOldMatch = [\n              ...paragraphMatch.corrects\n              // ...paragraphMatch.wrongs,\n              // ...paragraphMatch.potentialErrors\n            ].some((me) => !(me.start >= matchEnd || me.end <= matchStart));\n\n            if (isIntersectWithOldMatch) {\n              return false;\n            }\n            return true;\n          })[0];\n          */\n\n        // longestMatch =\n        //   curLongestMatch && curLongestMatch.length > longestMatch\n        //     ? curLongestMatch\n        //     : longestMatch;\n        if (curLongestMatch && curLongestMatch.length > longestMatch.length) {\n          longestMatch = curLongestMatch;\n          isFind = true;\n        }\n      }\n    );\n\n    // Test\n    // if (longestMatch !== \"\")\n    //   console.log(\n    //     `沒在符號說明但在實施方式有的元件: 原本叫做: ${item}, 後來變成: ${longestMatch}`\n    //   );\n    // Test\n    return { item: longestMatch === \"\" ? item : longestMatch, isFind };\n  } catch (error) {\n    return { item, isFind: false };\n  }\n};\n\nexport const checkWrongElementInModeForInvention = (\n  item,\n  allModeForInventionParagraphDetails\n) => {\n  try {\n    /*\n    if (item === \"功能性關關的交流電源電壓，當有偵測到\") {\n      console.log(\"item: \", item);\n      debugger;\n    }\n    */\n\n    let longestMatch = \"\";\n    let isFind = false;\n    allModeForInventionParagraphDetails.forEach(({ paragraphMatch }) => {\n      if (!paragraphMatch.wrongs) return;\n\n      const paraWrongMatches = paragraphMatch.wrongs.filter((wrong) =>\n        item.startsWith(wrong.item)\n      );\n\n      if (paraWrongMatches.length === 0) {\n        return;\n      }\n\n      paraWrongMatches.sort((a, b) => b.item.length - a.item.length);\n\n      console.log(paraWrongMatches);\n\n      const curLongestMatch = paraWrongMatches[0].item;\n\n      // console.log(\"curLongestMatch: \", curLongestMatch);\n      // debugger;\n\n      if (curLongestMatch && curLongestMatch.length > longestMatch.length) {\n        longestMatch = curLongestMatch;\n        isFind = true;\n      }\n    });\n\n    // Test\n    // if (longestMatch !== \"\")\n    //   console.log(\n    //     `沒在符號說明但在實施方式有的元件: 原本叫做: ${item}, 後來變成: ${longestMatch}`\n    //   );\n    // Test\n    return { item: longestMatch === \"\" ? item : longestMatch, isFind };\n  } catch (error) {\n    return { item, isFind: false };\n  }\n};\n","const ignoreItems = [\"中\", \"內\", \"的\", \"當\", \"裡面\", \"情形\", \"內容\"];\n\nexport const allIgnoreThisItems = (item, thisWord) => {\n  if (item === \"\") {\n    return true;\n  }\n\n  if ((thisWord === \"其中\" || thisWord === \"其中之\") && /^者/.test(item)) {\n    return true;\n  }\n\n  if (thisWord !== \"該\" && /^(的|之)/.test(item)) {\n    return true;\n  }\n\n  if (thisWord !== \"該\" && ignoreItems.some((it) => it === item)) {\n    return true;\n  }\n\n  return false;\n};\n","import { allSeperatedWords } from \"./allSeperatedWords\";\n\nconst words = Array.from(\n  new Set([\n    \"以及\",\n    \"至\",\n    \"到\",\n    \"及\",\n    \"和\",\n    \"或\",\n    \"在\",\n    \"於\",\n    \"是\",\n    \"係\",\n    \"為\",\n    \"上\",\n    \"下\",\n    \"左\",\n    \"右\",\n    \"前\",\n    \"後\",\n    \"內\",\n    \"外\",\n    \"裡\",\n    \"之\",\n    \"的\"\n  ])\n);\n\nexport const restrictedLastWords = [...words, ...allSeperatedWords().split(\"|\")]\n  .sort((a, b) => b.length - a.length)\n  .join(\"|\");\n\nexport const wordTable = {\n  和: [\n    \"共\",\n    \"混\",\n    \"飽\",\n    \"調\",\n    \"零\",\n    \"搆\",\n    \"構\",\n    \"回\",\n    \"綬\",\n    \"攪\",\n    \"親\",\n    \"融\",\n    \"總\",\n    \"溫\"\n  ],\n  至: [\"分\", \"冬\", \"夏\"],\n  到: [\"報\", \"辦\", \"逹\", \"打\", \"獨\", \"踢\", \"不\", \"趕\", \"料\", \"簽\", \"直\", \"遇\"],\n  及: [\"波\", \"遍\", \"不可\", \"不\", \"普\", \"奈\", \"埃\", \"企\", \"觸\"],\n  或: [\"不可\"],\n  在: [\"自\", \"不\", \"內\", \"好\", \"潛\", \"現\", \"實\", \"正\", \"身\", \"存\", \"所\"],\n  於: [\"致\", \"至\", \"對\", \"等\", \"在\"],\n  是: [\"本\", \"便\", \"不\", \"國\", \"總\", \"算\", \"也\", \"要\", \"又\", \"於\"],\n  係: [\"闗\", \"干\", \"介\", \"氏\"],\n  為: [\"作\", \"以\", \"可\", \"行\", \"相\", \"人\", \"所\", \"無\"],\n  上: [\"北\", \"不\"],\n  下: [\"部\", \"趴\", \"皮\", \"高\"],\n  左: [],\n  右: [],\n  前: [],\n  後: [],\n  內: [],\n  外: [],\n  裡: []\n};\n","// [\"個\", \"種\", \"端\", \"筆\", \"組\", \"對\"]\n\nconst wordTable = {\n  個: [\"個人\", \"個別\", \"個體\", \"個案\"],\n  種: [\"種類\", \"種姓\", \"種子\", \"種族\", \"種花\", \"種植\"],\n  端: [\"端子\", \"端午\", \"端五\"],\n  筆: [\n    \"筆墨\",\n    \"筆名\",\n    \"筆端\",\n    \"筆筒\",\n    \"筆錄\",\n    \"筆畫\",\n    \"筆跡\",\n    \"筆記\",\n    \"筆心\",\n    \"筆試\",\n    \"筆友\"\n  ],\n  組: [\"組織\", \"組合\", \"組件\", \"組曲\", \"組建\", \"組裝\", \"組成\", \"組員\"],\n  對: [\n    \"對盤\",\n    \"對賬\",\n    \"對面\",\n    \"對保\",\n    \"對半\",\n    \"對比\",\n    \"對邊\",\n    \"對分\",\n    \"對等\",\n    \"對稱\",\n    \"對立\",\n    \"對聯\",\n    \"對流\",\n    \"對抗\",\n    \"對號\",\n    \"對話\",\n    \"對講\",\n    \"對決\",\n    \"對象\",\n    \"對質\",\n    \"對折\",\n    \"對帳\",\n    \"對準\",\n    \"對手\",\n    \"對策\",\n    \"對錯\",\n    \"對岸\",\n    \"對位\",\n    \"對決\",\n    \"對員\",\n    \"對位\",\n    \"對白\",\n    \"對帳\"\n  ],\n  二: [\n    \"二樓\",\n    \"二項\",\n    \"二次\",\n    \"二位\",\n    \"二月\",\n    \"二手\",\n    \"二元\",\n    \"二極\",\n    \"二代\",\n    \"二重\",\n    \"二分\",\n    \"二等\",\n    \"二頭\",\n    \"二輪\",\n    \"二胡\",\n    \"二進\",\n    \"二行\",\n    \"二次\",\n    \"二氧\",\n    \"二元\",\n    \"二維\",\n    \"二邊\",\n    \"二者\"\n  ],\n  兩: [\n    \"兩側\",\n    \"兩項\",\n    \"兩次\",\n    \"兩位\",\n    \"兩月\",\n    \"兩手\",\n    \"兩元\",\n    \"兩極\",\n    \"兩代\",\n    \"兩重\",\n    \"兩分\",\n    \"兩等\",\n    \"兩頭\",\n    \"兩輪\",\n    \"兩次\",\n    \"兩維\",\n    \"兩邊\",\n    \"兩者\"\n  ],\n  三: [\n    \"三樓\",\n    \"三項\",\n    \"三次\",\n    \"三位\",\n    \"三月\",\n    \"三元\",\n    \"三維\",\n    \"三通\",\n    \"三角\",\n    \"三邊\",\n    \"三者\",\n    \"三人\",\n    \"三鐵\",\n    \"三頭\"\n  ],\n  四: [\"四樓\", \"四項\", \"四次\", \"四位\", \"四人\", \"四月\", \"四重\", \"四季\"],\n  五: [\"五樓\", \"五項\", \"五次\", \"五位\", \"五人\", \"五月\", \"五重\"],\n  六: [\"六樓\", \"六項\", \"六次\", \"六位\", \"六人\", \"六月\", \"六重\"],\n  七: [\"七樓\", \"七項\", \"七次\", \"七位\", \"七人\", \"七月\", \"七重\", \"七星\", \"七里\"],\n  八: [\n    \"八樓\",\n    \"八項\",\n    \"八次\",\n    \"八位\",\n    \"八人\",\n    \"八月\",\n    \"八重\",\n    \"八寶\",\n    \"八分\",\n    \"八卦\"\n  ],\n  九: [\n    \"九樓\",\n    \"九項\",\n    \"九次\",\n    \"九位\",\n    \"九人\",\n    \"九月\",\n    \"九重\",\n    \"九分\",\n    \"九層\",\n    \"九孔\"\n  ]\n};\n\nexport const unitWordDict = wordTable;\n","export const validOneCharItem = [\"孔\", \"洞\", \"臂\"];\n","import { stringToUnicode } from \"./stringToUnicode\";\nimport { handleSpecialChar } from \"./handleSpecialChar\";\nimport {\n  checkItemInModeForInvention,\n  checkPreviousClaimContent,\n  checkWrongElementInModeForInvention,\n} from \"./checkItemInModeForInvention\";\nimport { allSeperatedWords } from \"../dict/allSeperatedWords\";\nimport { allFirstTimeSeparateWord, allUnitWords } from \"../dict/allUnitWords\";\nimport { allThisWords } from \"../dict/allThisWords\";\nimport { allIgnoreThisItems } from \"../dict/allIgnoreThisItems\";\nimport { getKeyInRange, getMapValues, isKeyInReserve } from \"./otherUtils\";\nimport {\n  limitedChar,\n  getLimitedChar,\n  symetricPrefix,\n} from \"../dict/allReferWords\";\nimport { allIgnoreMiddleWords } from \"../dict/allIgnoreMiddleWords\";\nimport { restrictedLastWords, wordTable } from \"../dict/restrictedLastWords\";\nimport { concatWordSeparater } from \"../dict/concatWordSeparater\";\nimport { allSymbolChar, isKeyValid } from \"../dict/keyRegs\";\nimport { unitWordDict } from \"../dict/unitWordDict\";\nimport { validOneCharItem } from \"../dict/validOneCharItem\";\n\nexport const checkClaimMatch = (\n  claims,\n  claim,\n  regExpsOrigin,\n  concatRegExp,\n  concatSymRegExp,\n  mainElement,\n  regExpWithWrongChar,\n  content,\n  firstIndex,\n  descriptionOfElementMap,\n  figureOfDrawingsMap,\n  allModeForInventionParagraphDetails,\n  manuallyAddValues\n) => {\n  // Test\n  // console.log(content);\n  // console.log(\n  //   regExpsOrigin.map((reg) => handleSpecialChar(reg.value)).join(\"|\")\n  // );\n  // console.log(RegExp(`^(${regExpWithWrongChar})`));\n  // debugger;\n  // Test\n  // if (\n  //   /^，其中該電感組件係設置於由該電性絕緣隔板、該金屬外殼、以及該高導熱陶瓷基/.test(\n  //     content\n  //   )\n  // ) {\n  //   console.log(claim);\n  //   debugger;\n  // }\n  const regExpWithMainElement = mainElement\n    .split(\"\")\n    .reduce(\n      (a, e, ii) => [\n        ...a,\n        mainElement.slice(0, ii) +\n          \"[\\\\u4E00-\\\\u9FFF]\" +\n          mainElement.slice(ii + 1),\n      ],\n      []\n    )\n    .join(\"|\");\n\n  // 如果(前述|該)) 又加了新東西，checkIllegalAttach filter 那邊也要改\n  // 尋找所有的「該」\n  let thisStartIndex = [\n    ...content.matchAll(RegExp(`(${allThisWords()})(${allUnitWords()})?`, \"g\")),\n  ].map((match) => {\n    if (match[2]) {\n      return {\n        realStart: match.index,\n        matchStart: match.index + match[1].length + match[2].length,\n        thisWord: match[1],\n        unitWord: match[2],\n      };\n    }\n    return {\n      realStart: match.index, //realStart: 「該/前述(複數個)」的位置\n      matchStart: match.index + match[1].length, // matchStart:「該/前述(複數個)」下一個字的位置\n      thisWord: match[1],\n      unitWord: \"\",\n    };\n  });\n\n  // Test\n  // if (\n  //   /^，其中該處理單元更包括一二維條碼產生模組，該二維條碼產生模組係供當該購買者透過該商品購物資訊框購買對應的各該商品時，/.test(\n  //     content\n  //   )\n  // ) {\n  //   console.log([\n  //     ...content.matchAll(\n  //       RegExp(`(${allThisWords()})(${allUnitWords()})?一?個?`, \"g\")\n  //     )\n  //   ]);\n  //   debugger;\n  // }\n\n  // Test\n  // if (/^，其能受控於外部的一控制系統，該沉水泵浦包括/.test(content)) {\n  //   console.log(\"before match regExpsOrigin\");\n  //   console.log(regExpsOrigin);\n  //   console.log(`before non sorted regexpsOrigin`);\n  //   console.log([...regExpsOrigin.map((reg) => handleSpecialChar(reg.value))]);\n  //   console.log(`before match sorted Reg`);\n  //   console.log(\n  //     [...regExpsOrigin.map((reg) => handleSpecialChar(reg.value))].sort(\n  //       (a, b) => b.length - a.length\n  //     )\n  //   );\n  //   console.log(\n  //     RegExp(\n  //       `(${allThisWords()})(${allUnitWords()})?一?(${[\n  //         ...regExpsOrigin.map((reg) => handleSpecialChar(reg.value))\n  //       ]\n  //         .sort((a, b) => b.length - a.length)\n  //         .join(\"|\")})`,\n  //       \"g\"\n  //     )\n  //   );\n  //   debugger;\n  // }\n\n  // 「該」後面的元件在符號說明裡面\n  /*\n  console.log(\n    RegExp(\n      `(${allThisWords()})(${allUnitWords()})?((第[一二三四五六七八九十]([${concatWordSeparater}]第?[一二三四五六七八九十])+(${concatRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}-~']+\\\\)?)*))`,\n      \"ig\"\n    )\n  );\n  debugger;\n  */\n\n  let concatMatches = [];\n  if (concatRegExp !== \"\") {\n    /*\n    const concatMatchReg = RegExp(\n      `(${allThisWords()})(${allUnitWords()})?((第[一二三四五六七八九十]([${concatWordSeparater}]第?[一二三四五六七八九十])+(${concatRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}-~']+\\\\)?)*))`,\n      \"ig\"\n    );\n*/\n\n    const concatMatchReg = RegExp(\n      `(${allThisWords()})(${allUnitWords()})?((第[一二三四五六七八九十]([${concatWordSeparater}](${allThisWords()})第?[一二三四五六七八九十])+(${concatRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}-~']+\\\\)?)*))`,\n      \"ig\"\n    );\n\n    concatMatches = [\n      ...concatMatches,\n      ...content.matchAll(concatMatchReg),\n    ].sort((a, b) => a.index - b.index);\n\n    // Test\n    /*\n    if (concatMatches.length > 0) {\n      console.log(concatMatches);\n      debugger;\n    }\n    */\n  }\n  if (concatSymRegExp !== \"\") {\n    const concatSymMatchReg = RegExp(\n      `(${allThisWords()})(${allUnitWords()})?(([${symetricPrefix()}]([${concatWordSeparater}](${allThisWords()})[${symetricPrefix()}])+(${concatSymRegExp}))\\\\(?([${allSymbolChar}']+\\\\)[~\\\\-]\\\\([${allSymbolChar}']+|[${allSymbolChar}-~']*)\\\\)?(([、,]\\\\(?[${allSymbolChar}-~']+\\\\)?)*))`,\n      \"ig\"\n    );\n    concatMatches = [\n      ...concatMatches,\n      ...content.matchAll(concatSymMatchReg),\n    ].sort((a, b) => a.index - b.index);\n  }\n\n  // console.log(concatMatches);\n\n  // 先找手動加入的元件\n  let manuallyAddedMatches = [];\n  if (manuallyAddValues.length > 0) {\n    const manuallyAddedMatchReg = RegExp(\n      `(${allThisWords()})(${allUnitWords()})?(${[\n        ...manuallyAddValues.map((v) => handleSpecialChar(v)),\n      ]\n        .sort((a, b) => b.length - a.length)\n        .join(\"|\")})`,\n      \"g\"\n    );\n\n    manuallyAddedMatches = [...content.matchAll(manuallyAddedMatchReg)]\n      .filter(\n        (match) =>\n          !concatMatches.some(\n            (mt) =>\n              !(\n                match.index + match[0].length <= mt.index ||\n                match.index >= mt.index + mt[0].length\n              )\n          )\n      )\n      .map((match) => {\n        const matchIndex = regExpsOrigin.map((o) => o.value).indexOf(match[3]);\n        return {\n          group: stringToUnicode(\n            (matchIndex >= 0 &&\n              getMapValues(\n                descriptionOfElementMap,\n                figureOfDrawingsMap,\n                regExpsOrigin[matchIndex]\n              )?.values[0]) ||\n              regExpsOrigin[matchIndex].value\n          ),\n\n          // group: descriptionOfElementMap[regExpsOrigin[matchIndex].key]\n          //   ? stringToUnicode(\n          //       descriptionOfElementMap[regExpsOrigin[matchIndex].key].values[0]\n          //     )\n          //   : stringToUnicode(regExpsOrigin[matchIndex].value),\n          value: match[3],\n          // item: descriptionOfElementMap[regExpsOrigin[matchIndex].key]\n          //   ? descriptionOfElementMap[regExpsOrigin[matchIndex].key].values[0]\n          //   : regExpsOrigin[matchIndex].value,\n          item:\n            (matchIndex >= 0 &&\n              getMapValues(\n                descriptionOfElementMap,\n                figureOfDrawingsMap,\n                regExpsOrigin[matchIndex]\n              )?.values[0]) ||\n            regExpsOrigin[matchIndex].value,\n          start: match.index + match[0].length - match[3].length,\n          realStart: match.index, //「該/前述」的位置\n          end: match.index + match[0].length,\n          // pathIsOK: false,\n          isInDescriptionOfElementMap: true,\n        };\n      });\n  }\n\n  const matchReg = RegExp(\n    `(${allThisWords()})(${allUnitWords()})?(${[\n      ...regExpsOrigin.map((reg) => handleSpecialChar(reg.value)),\n    ]\n      .sort((a, b) => b.length - a.length)\n      .join(\"|\")})`,\n    \"g\"\n  );\n\n  // console.log(matchReg);\n  // debugger;\n\n  let matches = [...content.matchAll(matchReg)]\n    .filter((match) => regExpsOrigin.map((el) => el.value).includes(match[3]))\n    .filter(\n      (match) =>\n        !concatMatches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.index ||\n              match.index >= mt.index + mt[0].length\n            )\n        )\n    )\n    .filter(\n      (match) =>\n        !manuallyAddedMatches.some(\n          (mt) =>\n            !(\n              match.index + match[0].length <= mt.realStart ||\n              match.index >= mt.end\n            )\n        )\n    )\n    .map((match) => {\n      const matchIndex = regExpsOrigin.map((o) => o.value).indexOf(match[3]);\n      return {\n        group: stringToUnicode(\n          (matchIndex >= 0 &&\n            getMapValues(\n              descriptionOfElementMap,\n              figureOfDrawingsMap,\n              regExpsOrigin[matchIndex]\n            )?.values[0]) ||\n            regExpsOrigin[matchIndex].value\n        ),\n        // group: descriptionOfElementMap[regExpsOrigin[matchIndex].key]\n        //   ? stringToUnicode(\n        //       descriptionOfElementMap[regExpsOrigin[matchIndex].key].values[0]\n        //     )\n        //   : stringToUnicode(regExpsOrigin[matchIndex].value),\n        value: match[3],\n        item:\n          (matchIndex >= 0 &&\n            getMapValues(\n              descriptionOfElementMap,\n              figureOfDrawingsMap,\n              regExpsOrigin[matchIndex]\n            )?.values[0]) ||\n          regExpsOrigin[matchIndex].value,\n        // item: descriptionOfElementMap[regExpsOrigin[matchIndex].key]\n        //   ? descriptionOfElementMap[regExpsOrigin[matchIndex].key].values[0]\n        //   : regExpsOrigin[matchIndex].value,\n        start: match.index + match[0].length - match[3].length,\n        realStart: match.index, //「該/前述」的位置\n        end: match.index + match[0].length,\n        // pathIsOK: false,\n        isInDescriptionOfElementMap: true,\n      };\n    });\n\n  matches = [...manuallyAddedMatches, ...matches];\n\n  concatMatches\n    .map((match) => {\n      if (\n        match[9] &&\n        RegExp(`[${allSymbolChar}']+$`, \"i\").test(match[8]) &&\n        /^[@θ%度˚℃]/.test(content.slice(match.index + match[0].length))\n      ) {\n        match[0] = match[0].split(/[、,]/).slice(0, -1).join(\"、\");\n        match[3] = match[3].split(/[、,]/).slice(0, -1).join(\"、\");\n        match[9] = match[9].split(/[、,]/).slice(0, -1).join(\"、\");\n        match[10] = match[10].split(/[、,]/).slice(0, -1).join(\"、\");\n      }\n      return match;\n    })\n    .forEach((match) => {\n      // console.log(match);\n      // debugger;\n      let keyBeenModified = false;\n      const item = match[4]; // 元件\n      const value = match[3]; // 元件+符號\n      const items = item.split(RegExp(`[${concatWordSeparater}]`)).map((it) => {\n        if (item.startsWith(\"第\")) {\n          return \"第\" + it[it.match(/[一二三四五六七八九十]/).index] + match[7];\n        } else {\n          return it[it.match(RegExp(`[${symetricPrefix()}]`)).index] + match[7];\n        }\n        // return \"第\" + it[it.match(/[一二三四五六七八九十]/).index] + match[6];\n      });\n\n      // Test\n      // console.log(\"match\", match);\n      // console.log(\"item\", item);\n      // console.log(\"items\", items);\n      // debugger;\n\n      let keys =\n        match[9] === \"\"\n          ? [match[8].replaceAll(/[()]/g, \"\")]\n          : match[9]\n          ? [\n              match[8],\n              ...match[9]\n                .replaceAll(/[()]/g, \"\")\n                .split(/[、,]/)\n                .filter((e) => e !== \"\"),\n            ]\n          : [\"\"];\n      // if (/.+[~-].+/.test(keys[0])) {\n      //   keyBeenModified = true;\n      //   keys = getKeyInRange(keys[0]);\n      // }\n      if (keys.some((curKey) => /.+[~-].+/.test(curKey))) {\n        // keyBeenModified = true;\n        keys = keys.reduce((accKeys, curKey) => {\n          if (/.+[-~～].+/.test(curKey)) {\n            const _keyInRange = getKeyInRange(curKey);\n            if (_keyInRange.length > 0) {\n              keyBeenModified = true;\n            }\n            return [...accKeys, ..._keyInRange];\n          }\n          return [...accKeys, curKey];\n        }, []);\n        // keys = getKeyInRange(keys[0]);\n      }\n      keys =\n        keys.length === 1 && keys[0] === \"\"\n          ? keys\n          : keys\n              .filter((k) => k !== \"\")\n              .filter((k) => !isKeyInReserve(k) && isKeyValid(k));\n      keys = Array.from(new Set(keys));\n\n      matches.push({\n        type: \"concat\",\n        realStart: match.index, //「該/前述」的位置\n        start: match.index + match[0].length - match[3].length,\n        item,\n        value,\n        items,\n        keys,\n        keyBeenModified,\n      });\n    });\n\n  matches.sort((a, b) => a.realStart - b.realStart);\n\n  /*\n  if (claim.num === 7) {\n    console.log(matches);\n    debugger;\n  }\n  */\n  // Test\n  // if (\n  //   /^，其中該些光電轉換單元至少包含一電晶體層，形成於該基板上，其中該電晶體層包含該至少一/.test(\n  //     content\n  //   )\n  // ) {\n  //   console.log(`sorted Reg`);\n  //   console.log(\n  //     [...regExpsOrigin.map((reg) => handleSpecialChar(reg.value))].sort(\n  //       (b, a) => b.length - a.length\n  //     )\n  //   );\n  //   console.log(\"regExpsOrigin\");\n  //   console.log(regExpsOrigin);\n  //   console.log(\n  //     regExpsOrigin.map((reg) => handleSpecialChar(reg.value)).join(\"|\")\n  //   );\n  //   console.log(\"matchReg: line 52\");\n  //   console.log(matchReg);\n  //   console.log(matches);\n  //   console.log(\"thisStartIndex:\");\n  //   console.log(thisStartIndex);\n  //   debugger;\n  // }\n\n  // 扣掉已經找到的部分\n  thisStartIndex = thisStartIndex.filter(\n    ({ realStart }) =>\n      !matches.map((match) => match.realStart).includes(realStart)\n  );\n\n  // if (/^，其中，各該兩鋼性制動件為鋼珠；/.test(content)) {\n  //   console.log(\"matchReg line 83\");\n  //   console.log(matchReg);\n  //   console.log(\"we get all this in table\");\n  //   console.log(\"matches\");\n  //   console.log(matches);\n  //   console.log(matches.map((mm) => mm.realStart));\n  //   console.log(thisStartIndex);\n  //   debugger;\n  // }\n  // console.log(content);\n\n  // 剩下的「該」後面接沒有在符號說明的元件\n  thisStartIndex.forEach(({ matchStart, realStart, thisWord }, thisIdx) => {\n    const nextThis =\n      (thisStartIndex[thisIdx + 1] && thisStartIndex[thisIdx + 1].realStart) ||\n      100000000;\n    const nextMatch =\n      (matches.find((match) => match.realStart > matchStart) &&\n        matches.find((match) => match.realStart > matchStart).realStart) ||\n      100000000;\n    let maxEnd = nextThis < nextMatch ? nextThis : nextMatch;\n\n    maxEnd = maxEnd >= 100000000 ? content.length - 1 : maxEnd;\n\n    let i = matchStart;\n\n    // if (\n    //   content ===\n    //   \"，其中，所述採樣棒由該折點處至該吸水泡棉上端長度係大於該試管滴頭並小於或等於該管滴頭與該蓋體合併之長度。\"\n    // ) {\n    // console.log(\"current start at: \", matchStart);\n    // console.log(\"nextThis: \", nextThis);\n    // console.log(\"nextMatch: \", nextMatch);\n    // console.log(\"maxEnd: \", maxEnd);\n    //   debugger;\n    // }\n\n    // const i = /^[一個]/.test(content.slice(matchStart))\n    //   ? matchStart + 1\n    //   : matchStart;\n\n    // let item =\n    //   maxEnd - i > 2\n    //     ? content.substring(i, i + 2) +\n    //       content.substring(i + 2, maxEnd).split(/[、，,:：；\\s\\-/0-9a-z]/i)[0]\n    //     : content.substring(i, maxEnd);\n\n    let item;\n\n    // console.log(itemRegExp);\n    // debugger;\n\n    let followContent = content.substring(i, maxEnd).split(\"@##@\")[0];\n    let followContentFirstCharNoCheck = false;\n\n    if (shiftFollowContent(content[i - 1], followContent)) {\n      followContent = content[i - 1] + followContent;\n      i--;\n      followContentFirstCharNoCheck = true;\n    }\n\n    const itemRegExp = RegExp(\n      `^[^${getLimitedChar()}]{1,3}?(${[\n        ...regExpsOrigin.map((reg) => handleSpecialChar(reg.value)),\n      ]\n        .sort((a, b) => b.length - a.length)\n        .join(\"|\")})`\n    );\n\n    if (\n      itemRegExp.test(followContent) &&\n      RegExp(\n        `(第[一二三四五六七八九十]|${symetricPrefix().split(\"\").join(\"|\")})$`\n      ).test(\n        followContent.slice(\n          0,\n          followContent.indexOf(followContent.match(itemRegExp)[1])\n        )\n      )\n    ) {\n      // 符號說明是「連接器」，請求項是「第一連接器」或「左連接器」;\n\n      // Test\n      /*\n      if (claim.num === 1) {\n        console.log(followContent);\n        console.log(\n          followContent\n            .slice(0, followContent.indexOf(followContent.match(itemRegExp)[1]))\n            .match(\n              RegExp(\n                `(第[一二三四五六七八九十]|${symetricPrefix()\n                  .split(\"\")\n                  .join(\"|\")})$`\n              )\n            )\n        );\n        debugger;\n      }\n    */\n      const itemPrefixMatch = followContent\n        .slice(0, followContent.indexOf(followContent.match(itemRegExp)[1]))\n        .match(\n          RegExp(\n            `(第[一二三四五六七八九十]|${symetricPrefix()\n              .split(\"\")\n              .join(\"|\")})$`\n          )\n        );\n      item = itemPrefixMatch[0] + followContent.match(itemRegExp)[1];\n\n      matches.push({\n        group: stringToUnicode(item),\n        value: item,\n        item,\n        start: i + itemPrefixMatch.index,\n        end: i + itemPrefixMatch.index + item.length,\n        // pathIsOK: false,\n        realStart,\n        // isInDescriptionOfElementMap: doubleModifiedItem ? true : false\n        isInDescriptionOfElementMap: true,\n      });\n\n      // debugger;\n      return;\n    } else if (\n      itemRegExp.test(followContent) &&\n      RegExp(`^[\\u4E00-\\u9FFF]{1,3}`).test(\n        followContent.slice(\n          0,\n          followContent.indexOf(followContent.match(itemRegExp)[1])\n        )\n      )\n    ) {\n      // 符號說明是「連接器」，請求項是「兩旁的連接器」\n      // 「兩旁」不在 unitDict 裡面,但不會差在多\n      const itemMatch = followContent.match(itemRegExp);\n\n      item = itemMatch[1];\n\n      /*\n      console.log(followContent);\n      console.log(itemRegExp);\n      console.log(itemMatch);\n      console.log(\"item\", item);\n      console.log(\"prefix length:\", itemMatch[0].length - itemMatch[1].length);\n      debugger;\n      */\n\n      matches.push({\n        group: stringToUnicode(item),\n        value: item,\n        item,\n        start: i + itemMatch[0].length - itemMatch[1].length,\n        end: i + itemMatch[0].length - itemMatch[1].length + item.length,\n        // pathIsOK: false,\n        realStart,\n        // isInDescriptionOfElementMap: doubleModifiedItem ? true : false\n        isInDescriptionOfElementMap: true,\n      });\n\n      return;\n    }\n\n    // Test\n    /*     if (followContent.startsWith(\"控制模組電性連接\") && claim.num === 2) {\n      console.log(followContent);\n      console.log(`i start: ${i}`);\n      console.log(`end: ${maxEnd}`);\n      console.log(`nextThis: ${nextThis}`);\n      console.log(`nextMatch: ${nextMatch}`);\n      debugger;\n    } */\n\n    let finalItem = \"\";\n    let modifiedItem;\n    let isFind;\n    let shouldLookupDB = false;\n\n    // Test\n    // if (claim.num === 1 && /^撥針舌/.test(followContent)) {\n    //   console.log(followContent);\n    //   console.log(\n    //     \"true or false\",\n    //     [\n    //       claim.mainElement,\n    //       ...claim.matchedClaimsNum.map((n) => claims[n - 1].mainElement)\n    //     ]\n    //       // .map((mainElement) => mainElement.split(/[^\\u4E00-\\u9FFF]/)[0])\n    //       .map((mainElement) => mainElement.split(/[\\\\(\\\\)]/)[0])\n    //       .map((mainElement) =>\n    //         mainElement.split(/[之的]/).length > 1\n    //           ? [mainElement, ...mainElement.split(/[之的]/)]\n    //           : [mainElement]\n    //       )\n    //       .flat()\n    //       .find((el) => RegExp(`^${el}`).test(followContent))\n    //   );\n    //   debugger;\n    // }\n\n    // Test\n    // if (claim.num === 3 && followContent === \"目標發卡銀行伺服器單元\") {\n    //   console.log(\"not in description: \", followContent);\n    //   console.log(\n    //     \"itemRegExp.test(followContent)\",\n    //     itemRegExp.test(followContent)\n    //   );\n    //   console.log(\n    //     \"followContent.match(itemRegExp)\",\n    //     followContent.match(itemRegExp)\n    //   );\n    //   console.log(\n    //     \"followContent.indexOf(followContent.match(itemRegExp)[1])\",\n    //     followContent.indexOf(followContent.match(itemRegExp)[1])\n    //   );\n    //   console.log(\n    //     \"true or false\",\n    //     RegExp(allIgnoreMiddleWords()).test(\n    //       followContent.slice(\n    //         0,\n    //         followContent.indexOf(followContent.match(itemRegExp)[1])\n    //       )\n    //     )\n    //   );\n    //   console.log(\"finalItem\", followContent.match(itemRegExp)[0]);\n    //   debugger;\n    // }\n\n    // Test\n    /*\n    if (claim.num === 10 && /^第二/.test(followContent)) {\n      console.log(RegExp(allIgnoreMiddleWords()));\n      console.log(\n        followContent.slice(\n          0,\n          followContent.indexOf(followContent.match(itemRegExp)[1])\n        )\n      );\n\n      console.log(\n        RegExp(\n          `^第[一二三四五六七八九十]|${symetricPrefix().split(\"\").join(\"|\")}$`\n        )\n      );\n\n      console.log(\n        !RegExp(allIgnoreMiddleWords()).test(\n          followContent.slice(\n            0,\n            followContent.indexOf(followContent.match(itemRegExp)[1])\n          )\n        )\n      );\n\n      // console.log(itemRegExp);\n      // console.log(followContent);\n      // console.log(followContent.match(itemRegExp));\n      debugger;\n    }\n    */\n\n    // Test\n    // console.log(followContent);\n    // debugger;\n\n    if (maxEnd - i <= 2) {\n      item = followContent;\n    } else if (\n      [\n        claim.mainElement,\n        ...claim.matchedClaimsNum.map((n) => claims[n - 1].mainElement),\n      ]\n        // .map((mainElement) => mainElement.split(/[^\\u4E00-\\u9FFF]/)[0])\n        .map((mainElement) => mainElement.split(/[\\\\(\\\\)]/)[0])\n        .map((mainElement) =>\n          mainElement.split(/[之的]/).length > 1\n            ? [mainElement, ...mainElement.split(/[之的]/)]\n            : [mainElement]\n        )\n        .flat()\n        .some((el) => RegExp(`^${el}`).test(followContent))\n    ) {\n      // it means it's part of mainElement\n      item = finalItem = [\n        claim.mainElement,\n        ...claim.matchedClaimsNum.map((n) => claims[n - 1].mainElement),\n      ]\n        // .map((mainElement) => mainElement.split(/[^\\u4E00-\\u9FFF]/)[0])\n        .map((mainElement) => mainElement.split(/[\\\\(\\\\)]/)[0])\n        .map((mainElement) =>\n          mainElement.split(/[之的]/).length > 1\n            ? [mainElement, ...mainElement.split(/[之的]/)]\n            : [mainElement]\n        )\n        .flat()\n        .find((el) => RegExp(`^${el}`).test(followContent));\n      isFind = true;\n    } else if (\n      itemRegExp.test(followContent) &&\n      followContent.indexOf(followContent.match(itemRegExp)[1]) <= 3 &&\n      !RegExp(allIgnoreMiddleWords()).test(\n        followContent.slice(\n          0,\n          followContent.indexOf(followContent.match(itemRegExp)[1])\n        )\n      )\n    ) {\n      // 符號說明是「連接器」，請求項是「XXX連接器」;\n      // if (claim.num === 10) {\n      //   console.log(\"here\", followContent);\n      //   console.log(followContent.match(itemRegExp)[0]);\n      //   debugger;\n      // }\n\n      // console.log(content.substring(i, maxEnd));\n      // console.log(followContent.match(itemRegExp)[0]);\n\n      // For test, it should not be commented\n      // item = followContent.match(itemRegExp)[0];\n      item = followContent.match(itemRegExp)[0];\n      finalItem = followContent.match(itemRegExp)[0];\n      isFind = true;\n\n      // test\n      // console.log(\"index of i: \", i);\n      // console.log(\"prev content: \", followContent);\n      // console.log(item);\n      // debugger;\n    } else if (\n      checkWrongElementInModeForInvention(\n        followContent,\n        allModeForInventionParagraphDetails\n      ).isFind\n    ) {\n      // it means We find a wrong element from mode-for-invention\n      console.log(\"We find a wrong element from mode-for-invention\");\n      item = finalItem = checkWrongElementInModeForInvention(\n        followContent,\n        allModeForInventionParagraphDetails\n      ).item;\n      console.log(\"item: \", item);\n      console.log(\"finalItem: \", finalItem);\n      // debugger;\n      isFind = true;\n    } else if (\n      followContent\n        .split(\n          RegExp(`[、，,:：；?.+(){}「」\\\\/\\\\[\\\\]\\\\s${allSymbolChar}-~]`, \"i\")\n        )[0]\n        .split(RegExp(`${allSeperatedWords()}`))[0].length > 0 &&\n      [...regExpsOrigin.map((reg) => handleSpecialChar(reg.value))]\n        .sort((a, b) => b.length - a.length)\n        .find((reg) =>\n          RegExp(\n            `(${\n              followContent\n                .split(\n                  RegExp(\n                    `[、，,:：；?.+(){}「」\\\\/\\\\[\\\\]\\\\s${allSymbolChar}-~]`,\n                    \"i\"\n                  )\n                )[0]\n                .split(RegExp(`${allSeperatedWords()}`))[0]\n            })$`\n          ).test(reg)\n        )\n    ) {\n      // it means we found a match after subtracting allSeperatedWords\n      item = finalItem = followContent\n        .split(\n          RegExp(`[、，,:：；?.+(){}「」\\\\/\\\\[\\\\]\\\\s${allSymbolChar}-~]`, \"i\")\n        )[0]\n        .split(RegExp(`${allSeperatedWords()}`))[0];\n      isFind = true;\n    } else {\n      // item =\n      //   content.substring(i, i + 2) +\n      //   content.substring(i + 2, maxEnd).split(/[、，,:：；\\s\\-/]/i)[0];\n      item =\n        followContent.slice(0, 2) +\n        followContent.slice(2).split(/[、，,:：；\\s\\-/]/i)[0];\n    }\n\n    /*\nelse if (\n      !finalItem &&\n      !isFind &&\n      RegExp(`^(${regExpWithMainElement})`).test(item)\n    ) {\n      // it means \"checkItemInModeForInvention\" doesn't work and we found it's close to mainElement\n\n      // Test\n      // console.log(\"if 1\");\n      // debugger;\n      doubleModifiedItem = item.match(RegExp(`^(${regExpWithMainElement})`))[0];\n\n      // doubleModifiedItem =\n      //   doubleModifiedItem.length > 2\n      //     ? doubleModifiedItem.substring(0, 2) +\n      //       doubleModifiedItem\n      //         .substring(2, doubleModifiedItem.length)\n      //         .split(/係|之|的|和|與|且|該|一/)[0]\n      //     : doubleModifiedItem;\n    } else if (\n      !finalItem &&\n      !isFind &&\n      RegExp(`^(${regExpWithWrongChar})`).test(item)\n    ) {\n      // it means \"checkItemInModeForInvention\" doesn't work and we found a close one\n\n      // Test\n      // console.log(\"if 2\");\n      // debugger;\n      doubleModifiedItem = item.match(RegExp(`^(${regExpWithWrongChar})`))[0];\n\n      // doubleModifiedItem =\n      //   doubleModifiedItem.length > 2\n      //     ? doubleModifiedItem.substring(0, 2) +\n      //       doubleModifiedItem\n      //         .substring(2, doubleModifiedItem.length)\n      //         .split(/係|之|的|和|與|且|該|一/)[0]\n      //     : doubleModifiedItem;\n    }\n    */\n\n    // if (!/^[\\u4E00-\\u9FFF]/.test(item)) {\n    //   return;\n    // }\n\n    // const itemPrefix = /^第./.test(item) ? item.slice(0, 2) : \"\";\n    // let itemBody = item.slice(itemPrefix.length, item.length);\n    // const itemEndMatch = itemBody.match(\n    //   RegExp(\n    //     `(${allThisWords()\n    //       .split(\"|\")\n    //       .concat(allUnitWords().split(\"|\"))\n    //       .sort((a, b) => b.length - a.length)\n    //       .join(\n    //         \"|\"\n    //       )}|@|、|，|、|，|-|；|:|,|/|\\\\\\\\|\\\\?|\\\\.|\\\\+|\\\\[|\\\\]|\\\\(|\\\\)|{|}|「|」)`\n    //   )\n    // );\n    // if (itemEndMatch) {\n    //   itemBody = itemBody.slice(0, itemEndMatch.index);\n    // }\n    // item = itemPrefix + itemBody;\n\n    if (!finalItem) {\n      shouldLookupDB = true;\n      // Test\n      // if (item.startsWith(\"控制模組電性\")) {\n      //   console.log(item);\n      //   console.log(modifyItem(item, followContentFirstCharNoCheck));\n      //   debugger;\n      // }\n\n      item = modifyItem(item, followContentFirstCharNoCheck);\n      if (allIgnoreThisItems(item, thisWord)) {\n        return;\n      }\n      console.log(`claim ${claim.num} 不在的「該」: ${item}`);\n\n      // if (\n      //   item.length === 0 ||\n      //   (item.length >= 2 &&\n      //     !/^第./.test(item) &&\n      //     RegExp(\n      //       `(${allThisWords()\n      //         .split(\"|\")\n      //         .concat(allUnitWords().split(\"|\"))\n      //         .sort((a, b) => b.length - a.length)\n      //         .join(\n      //           \"|\"\n      //         )}|@|、|，|、|，|-|；|:|,|/|\\\\\\\\|\\\\?|\\\\.|\\\\+|\\\\[|\\\\]|\\\\(|\\\\)|{|}|「|」)`\n      //     ).test(item))\n      // ) {\n      //   return;\n      // }\n\n      // Test\n\n      const prevClaimResult = checkPreviousClaimContent(\n        claims,\n        claim,\n        item,\n        realStart,\n        firstIndex\n      );\n      // modifiedItem = prevClaimResult.item;\n      // isFind = prevClaimResult.isFind;\n\n      const prevModeForInventionResult = checkItemInModeForInvention(\n        item,\n        allModeForInventionParagraphDetails\n      );\n      // modifiedItem = prevModeForInventionResult.item;\n      // isFind = prevModeForInventionResult.isFind;\n\n      console.log(\n        `去找請求項前面的內容之後變成: ${prevClaimResult.item}, 原本是: ${item}, isFind: ${prevClaimResult.isFind}`\n      );\n      console.log(\n        `去找實施方式的內容之後變成: ${prevModeForInventionResult.item}, 原本是: ${item}, isFind: ${prevModeForInventionResult.isFind}`\n      );\n\n      let possibleResult = \"\";\n      if (\n        prevClaimResult.isFind &&\n        prevClaimResult.item.length >= 3 &&\n        prevClaimResult.item.length <= 10\n      ) {\n        console.log(\"選擇用:請求項前面的內容\");\n        possibleResult = prevClaimResult.item;\n      }\n      if (\n        prevModeForInventionResult.isFind &&\n        prevModeForInventionResult.item.length >= 3 &&\n        prevModeForInventionResult.item.length <= 10 &&\n        prevModeForInventionResult.item.length > possibleResult.length\n      ) {\n        console.log(\"選擇用:實施方式的內容\");\n        possibleResult = prevModeForInventionResult.item;\n      }\n\n      if (possibleResult) {\n        modifiedItem = possibleResult;\n        isFind = true;\n      } else {\n        modifiedItem = item;\n        isFind = false;\n        if (thisWord === \"其中\") {\n          return;\n        }\n      }\n    }\n\n    // if (!isFind) shouldLookupDB = true;\n\n    // Test\n    // if (claim.num === 5 && item === \"環境訊號更包含\") {\n    //   console.log(\"after checkPreviousClaimContent\");\n    //   console.log(\"isFind: \", isFind);\n    //   console.log(\"item: \", item);\n    //   console.log(\"modifiedItem: \", modifiedItem);\n    //   debugger;\n    // }\n\n    // 如果 modifiedItem 找到的字串太長或太短，無效，重新再找\n    /*\n    if (\n      !finalItem &&\n      (!isFind || modifiedItem.length > 10 || modifiedItem.length < 3)\n    ) {\n      modifiedItem = item;\n      isFind = false;\n    }\n    */\n\n    /*\n    if (!finalItem && !isFind) {\n      const prevModeForInventionResult = checkItemInModeForInvention(\n        item,\n        allModeForInventionParagraphDetails\n      );\n      modifiedItem = prevModeForInventionResult.item;\n      isFind = prevModeForInventionResult.isFind;\n\n      console.log(\n        `去找實施方式的內容之後變成: ${modifiedItem}, 原本是: ${item}, isFind: ${isFind}`\n      );\n    }\n    */\n\n    // Test\n    /*\n    if (item === \"第二材料為金屬材料\") {\n      console.log(\"after checkItemInModeForInvention\");\n      console.log(\"item: \", item);\n      console.log(\"modifiedItem: \", modifiedItem);\n      debugger;\n    }\n    */\n\n    // 如果 modifiedItem 找到的字串太長或太短，無效，重新再找\n    /*\n    if (\n      !finalItem &&\n      (!isFind || modifiedItem.length > 10 || modifiedItem.length < 3)\n    ) {\n      if (thisWord === \"其中\") {\n        return;\n      }\n      modifiedItem = item;\n      isFind = false;\n    }\n    */\n\n    // 表示 1.去找請求項前面的內容 2. 去找實施方式的內容 都失敗\n    if (!isFind && RegExp(`^(${regExpWithMainElement})`).test(followContent)) {\n      // it means we found it's close to mainElement\n      item = followContent.match(RegExp(`^(${regExpWithMainElement})`))[0];\n      // finalItem = followContent.match(RegExp(`^(${regExpWithMainElement})`))[0];\n      isFind = true;\n    } else if (\n      !isFind &&\n      RegExp(`^(${regExpWithWrongChar})`).test(followContent)\n    ) {\n      // it means we found a close one\n      item = followContent.match(RegExp(`^(${regExpWithWrongChar})`))[0];\n      // finalItem = followContent.match(RegExp(`^(${regExpWithWrongChar})`))[0];\n      isFind = true;\n    }\n\n    // Test\n    /*if (claim.num === 8 && modifiedItem === \"轉軸之\") {\n      console.log(\"modifiedItem: \", modifiedItem);\n      console.log(\"finalItem: \", finalItem);\n      console.log(\"isFind: \", isFind);\n      debugger;\n    }*/\n\n    // Test\n    // if (\n    //   content ===\n    //   \"，其中，所述採樣棒由該折點處至該吸水泡棉上端長度係大於該試管滴頭並小於或等於該管滴頭與該蓋體合併之長度。\"\n    // ) {\n    //   console.log(\"item:\", [item]);\n    //   console.log(\"modifiedItem:\", [modifiedItem]);\n    //   // debugger;\n    // }\n\n    if (!finalItem && !isFind) {\n      // it means all the above methods fail\n\n      if (!/^[\\u4E00-\\u9FFF]/.test(item)) {\n        return;\n      }\n\n      modifiedItem =\n        item.length >= 2\n          ? item.substring(0, 2) +\n            item\n              .substring(2, item.length)\n              .split(\n                RegExp(\n                  `[、，,:：；?.+(){}「」\\\\/\\\\[\\\\]\\\\s${allSymbolChar}-~]`,\n                  \"i\"\n                )\n              )[0]\n              // .split(/[、，,:：；?.+(){}「」\\\\/\\\\[\\]\\s\\-/0-9a-z]/i)[0]\n              .split(RegExp(`${allSeperatedWords()}`))[0]\n          : item;\n\n      // modifiedItem = modifiedItem.match(/(以及|至|到|及|和|或)$/)\n      //   ? modifiedItem.slice(\n      //       0,\n      //       modifiedItem.match(/(以及|至|到|及|和|或)$/).index\n      //     )\n      //   : modifiedItem;\n\n      // // console.log(\"modifiedItem:\", [modifiedItem]);\n      // modifiedItem =\n      //   modifiedItem.length > 8 ? modifiedItem.substring(0, 8) : modifiedItem;\n      // // console.log(\"modifiedItem:\", [modifiedItem]);\n      // // debugger;\n    }\n\n    if (!finalItem) {\n      // 如果最後一個字是 「以及|至|到|及|和|或」 -> 濾掉\n\n      if (\n        modifiedItem.match(RegExp(`(${restrictedLastWords})$`)) ||\n        modifiedItem.match(RegExp(`(${allSeperatedWords()})$`))\n      ) {\n        if (\n          wordTable[modifiedItem[modifiedItem.length - 1]] &&\n          wordTable[modifiedItem[modifiedItem.length - 1]].find((w) =>\n            modifiedItem.endsWith(w + modifiedItem[modifiedItem.length - 1])\n          )\n        ) {\n          finalItem = modifiedItem;\n        } else {\n          finalItem = modifiedItem.slice(\n            0,\n            (\n              modifiedItem.match(RegExp(`(${restrictedLastWords})$`)) ||\n              modifiedItem.match(RegExp(`(${allSeperatedWords()})$`))\n            ).index\n          );\n        }\n      } else {\n        finalItem = modifiedItem;\n      }\n\n      finalItem =\n        finalItem.length > 10 ? finalItem.substring(0, 10) : finalItem;\n    }\n\n    console.log(\n      `claim ${claim.num}, 最後變成: ${finalItem}, isFind: ${isFind}`\n    );\n\n    // Test\n    // if (finalItem === \"運行\" && claim.num === 1) {\n    //   console.log(\"isFind: \", isFind);\n    //   debugger;\n    // }\n\n    if (\n      finalItem === \"\" ||\n      RegExp(`[^\\\\u4E00-\\\\u9FFF${allSymbolChar}]`, \"i\").test(finalItem) ||\n      limitedChar.includes(finalItem) ||\n      /^第[一二三四五六七八九十]?$/.test(finalItem)\n    ) {\n      return;\n    }\n\n    if (finalItem.length === 1 && !validOneCharItem.includes(finalItem)) return;\n\n    // console.log(\n    //   `<p>沒在符號說明的「該」 start: ${\n    //     i + firstIndex\n    //   }, item: ${item}, maxEnd: ${maxEnd + firstIndex}</p>`\n    // );\n    matches.push({\n      group: stringToUnicode(finalItem),\n      value: finalItem,\n      item: finalItem,\n      start: i,\n      end: i + finalItem.length,\n      // pathIsOK: false,\n      realStart,\n      // isInDescriptionOfElementMap: doubleModifiedItem ? true : false\n      isInDescriptionOfElementMap: false,\n      shouldLookupDB,\n      followContent,\n    });\n  }); // each 剩下的「該」後面接沒有在符號說明的元件\n\n  let finalMatches = [];\n  matches.forEach((match) => {\n    if (match.type === \"concat\") {\n      match.items.forEach((_item, _itemIdx) => {\n        const matchIndex = regExpsOrigin.map((o) => o.value).indexOf(_item);\n        let value = match.item.split(RegExp(`[${concatWordSeparater}]`))[\n          _itemIdx\n        ];\n        let start = match.start;\n        match.item\n          .split(RegExp(`[${concatWordSeparater}]`))\n          .filter((iitt, iiddxx) => iiddxx < _itemIdx)\n          .forEach((iitt) => {\n            start += iitt.length + 1;\n          });\n\n        if (RegExp(`^(${allThisWords()})`).test(value)) {\n          const _itemMatch = value.match(RegExp(`^(${allThisWords()})`));\n          value = value.slice(_itemMatch[1].length);\n          start += _itemMatch[1].length;\n          // console.log(_itemMatch);\n          // console.log(start);\n          // console.log(value);\n        }\n\n        const end =\n          _itemIdx === match.items.length - 1\n            ? match.start + match.item.length\n            : start + value.length;\n        const key =\n          match.keys[_itemIdx] && match.keys[_itemIdx] !== \"\"\n            ? match.keys[_itemIdx]\n            : null;\n        const keyStart = key ? match.start + match.value.indexOf(key) : -100;\n        const keyEnd = key ? keyStart + key.length : -100;\n\n        finalMatches.push({\n          isInDescriptionOfElementMap: true,\n          // pathIsOK: false,\n          start,\n          end,\n          group: stringToUnicode(\n            (matchIndex >= 0 &&\n              getMapValues(\n                descriptionOfElementMap,\n                figureOfDrawingsMap,\n                regExpsOrigin[matchIndex]\n              )?.values[0]) ||\n              _item\n          ),\n          // group:\n          //   matchIndex >= 0\n          //     ? stringToUnicode(regExpsOrigin[matchIndex].value)\n          //     : stringToUnicode(_item),\n          item:\n            (matchIndex >= 0 &&\n              getMapValues(\n                descriptionOfElementMap,\n                figureOfDrawingsMap,\n                regExpsOrigin[matchIndex]\n              )?.values[0]) ||\n            _item,\n          // item: matchIndex >= 0 ? regExpsOrigin[matchIndex].value : _item,\n          value,\n          fullValue: _item,\n          keys: key ? [key] : null,\n          keyStart,\n          keyEnd,\n          keyBeenModified: match.keyBeenModified,\n          hasOuterKey: key ? true : false,\n        });\n      });\n    } else {\n      finalMatches.push(match);\n    }\n  });\n\n  const hasBeenModifiedMatches = claim.hasBeenModifiedMatches\n    ? claim.hasBeenModifiedMatches\n    : [];\n\n  finalMatches = [...finalMatches]\n    .map((match) => {\n      return {\n        ...match,\n        realStart: match.realStart ? match.realStart + firstIndex : null,\n        start: match.start + firstIndex,\n        end: match.end + firstIndex,\n        keyStart:\n          match.keyStart && match.keyStart >= 0\n            ? match.keyStart + firstIndex\n            : null,\n        keyEnd:\n          match.keyEnd && match.keyEnd >= 0 ? match.keyEnd + firstIndex : null,\n      };\n    })\n    .filter(\n      (match) =>\n        !hasBeenModifiedMatches.some(\n          (mt) => !(match.end <= mt.start || match.start >= mt.end)\n        )\n    )\n    .concat(hasBeenModifiedMatches)\n    .sort((a, b) => a.start - b.start || b.realStart - a.realStart);\n\n  finalMatches = finalMatches.reduce((acc, cur) => {\n    if (acc.find((m) => m.start === cur.start)) {\n      return acc;\n    }\n    acc.push(cur);\n    return acc;\n  }, []);\n\n  // if (/*manuallyAddValues.length > 0 &&*/ claim.num === 4) {\n  //   console.log(finalMatches);\n  //   debugger;\n  // }\n\n  // Test\n  // if (\n  //   /^，其中該感測組件更包含一溫度感測器，用以感測該環境並產生一溫度資訊，其中該環境訊號更包含該溫度資訊/.test(\n  //     content\n  //   )\n  // ) {\n  //   console.log(\"all matches: \");\n  //   console.log(matches);\n  //   debugger;\n  // }\n\n  return finalMatches;\n};\n\nconst cutItem = (item) => {\n  const itemPrefix = /^第./.test(item) ? item.slice(0, 2) : \"\";\n  let itemBody = item.slice(itemPrefix.length, item.length);\n  const itemEndMatch = itemBody.match(RegExp(`${allSeperatedWords()}`));\n  if (itemEndMatch) {\n    itemBody = itemBody.slice(0, itemEndMatch.index);\n  }\n  // Test\n  // if (item === \"付款碼是否已被任\") {\n  //   console.log(\"itemPrefix: \", itemPrefix);\n  //   console.log(\"itemEndMatch: \", itemEndMatch);\n  //   console.log(\"itemBody: \", itemBody);\n  //   debugger;\n  // }\n\n  return itemPrefix + itemBody;\n};\n\nconst modifyItem = (item, followContentFirstCharNoCheck) => {\n  const itemPrefix = /^第./.test(item) ? item.slice(0, 2) : \"\";\n  let itemBody = item.slice(itemPrefix.length, item.length);\n  // test\n  /*\n  if (item.startsWith(\"個人化充電設定選項之設定\")) {\n    // console.log(content[i - 1]);\n    // console.log(shiftFollowContent(content[i - 1], followContent));\n    // console.log(content[i - 1] + followContent);\n    console.log(itemBody);\n    console.log(\n      allThisWords()\n        .split(\"|\")\n        .concat(allFirstTimeSeparateWord().split(\"|\"))\n        .sort((a, b) => b.length - a.length)\n    );\n    console.log(\n      itemBody.match(\n        RegExp(\n          `(${allThisWords()\n            .split(\"|\")\n            .concat(allFirstTimeSeparateWord().split(\"|\"))\n            .sort((a, b) => b.length - a.length)\n            .join(\n              \"|\"\n            )}|@|、|，|、|，|-|；|:|,|。|/|\\\\\\\\|\\\\?|\\\\.|\\\\+|\\\\[|\\\\]|\\\\(|\\\\)|{|}|「|」)`\n        )\n      )\n    );\n    debugger;\n  }\n  */\n  // test end\n  const itemBodyRegExp = RegExp(\n    `(${allThisWords()\n      .split(\"|\")\n      .concat(allFirstTimeSeparateWord().split(\"|\"))\n      .filter((ch) => !(followContentFirstCharNoCheck && ch === item[0]))\n      .sort((a, b) => b.length - a.length)\n      .join(\n        \"|\"\n      )}|@|、|，|、|，|-|；|:|,|。|/|\\\\\\\\|\\\\?|\\\\.|\\\\+|\\\\[|\\\\]|\\\\(|\\\\)|{|}|「|」)`\n  );\n  const itemEndMatch = itemBody.match(itemBodyRegExp);\n\n  // Test\n  // if (item.startsWith(\"控制模組電性連接\")) {\n  //   console.log(itemBodyRegExp);\n  //   console.log(itemEndMatch);\n  //   debugger;\n  // }\n\n  if (itemEndMatch) {\n    itemBody = itemBody.slice(0, itemEndMatch.index);\n  }\n  return itemPrefix + itemBody;\n};\n\nconst shiftFollowContent = (prevChar, followContent) => {\n  /*if (\n    (prevChar === \"個\" && followContent.startsWith(\"人\")) ||\n    (prevChar === \"多\" && followContent.startsWith(\"人\")) ||\n    (prevChar === \"二\" && followContent.startsWith(\"元\")) ||\n    (prevChar === \"對\" && followContent.startsWith(\"流\"))\n  ) {\n    return true;\n  }*/\n  /*return !!unitWordDict.find(\n    (dict) => prevChar === dict[0] && followContent.startsWith(dict[1])\n  );*/\n  // return false;\n\n  return !!Object.keys(unitWordDict).find((startChar) => {\n    if (startChar !== prevChar) return false;\n    return unitWordDict[startChar].includes(prevChar + followContent[0]);\n  });\n};\n","import { stringToUnicode } from \"./stringToUnicode\";\nimport { checkClaimMatch } from \"./checkClaimMatch\";\nimport { getAllAttachedClaims, getAllClaimPaths } from \"./checkAttachClaim\";\nimport { allThisWords } from \"../dict/allThisWords\";\nimport { pickColor } from \"../dict/elementColors\";\nimport { isMainElementValid } from \"./isMainElementValid\";\nimport { getMapValues } from \"./otherUtils\";\nimport { claimStartTerms } from \"../dict/claimStartTerms\";\n\nexport const modifySingleClaimMatch = (\n  index,\n  regExpsOrigin,\n  concatRegExp,\n  concatSymRegExp,\n  regExpWithWrongChar,\n  claims,\n  claim,\n  descriptionOfElementMap,\n  figureOfDrawingsMap,\n  elementColorMap,\n  allModeForInventionParagraphDetails,\n  manuallyAddValues,\n  utilityModelTitle,\n  applicationNum\n) => {\n  // console.log(`\n  //   <hr/>\n  //   <p>Claim ${index + 1}</p>\n  // `);\n  claim.matches =\n    claim.matches && claim.matches.length > 0 ? claim.matches : [];\n  claim.nonMatches = [];\n  claim.usedElements = [];\n  claim.matchedClaimsNum = [];\n\n  let contentFirstIndex;\n\n  try {\n    if (claim.matches[0]) {\n      claim.mainElement = claim.matches[0].value.replace(/[↵\\n]/g, \"\").trim();\n    } else if (claim.type === \"independent\") {\n      const myMainElement = claim.content\n        .split(\"@##@\")[0]\n        .split(/[:;：；，。]/)[0]\n        .match(\n          `^一種?(如(${claimStartTerms}).*?(所述之|所述的|所述|之|的))?(.*)`\n        );\n\n      if (myMainElement) {\n        claim.mainElement = myMainElement[4]\n          .split(\n            /任意一項之|任意一項的|任意一項|任意1項之|任意1項的|任意1項|任一項之|任一項的|任一項|任1項之|任1項的|任1項|任意之|任意的|任意|任一之|任一的|任一|任1之|任1的|任1|所述之|所述的|所述/\n          )\n          .pop()\n          .split(RegExp(`${allThisWords()}`))[0]\n          .replace(/[↵\\n]/g, \"\")\n          .trim();\n      } else {\n        throw Error(\"無法判斷此請求項為獨立項或附屬項\");\n      }\n    } else if (claim.type === \"additional\") {\n      let myMainElement = claim.content\n        .split(\"@##@\")[0]\n        .split(/[:;：；，。]/)[0]\n        .match(`(.*(${claimStartTerms}).+?(所述之|所述的|所述|之|的))(.*)`);\n\n      if (!myMainElement) {\n        myMainElement = claim.content\n          .split(\"@##@\")[0]\n          .split(/[:;：；，。]/)[0]\n          .match(`(.*(${claimStartTerms}).*?([0-9]+項?))(.*)`);\n      }\n\n      if (myMainElement) {\n        // Test\n        // if (claim.num === 7) {\n        //   console.log(myMainElement);\n        //   debugger;\n        // }\n        // myMainElement = myMainElement.split(/任意一項|任意1項|任一項|任1項|任意|任一|任1|所述之|所述的|所述/).pop()\n        claim.mainElement = myMainElement[4]\n          .split(\n            /任意一項之|任意一項的|任意一項|任意1項之|任意1項的|任意1項|任一項之|任一項的|任一項|任1項之|任1項的|任1項|任意之|任意的|任意|任一之|任一的|任一|任1之|任1的|任1|所述之|所述的|所述/\n          )\n          .pop()\n          .split(RegExp(`${allThisWords()}`))[0]\n          .replace(/[↵\\n]/g, \"\")\n          .trim();\n\n        if (/^(一種|一)/.test(claim.mainElement)) {\n          claim.mainElement = claim.mainElement.slice(\n            claim.mainElement.match(/^(一種|一)/)[1].length\n          );\n        }\n      } else {\n        console.log(claim.content);\n        debugger;\n        throw Error(\"無法判斷此請求項為獨立項或附屬項\");\n      }\n    } else {\n      // claim.type === 'unknown'\n      return;\n      // throw Error(\"無法判斷此請求項為獨立項或附屬項\");\n    } // if: find claim.mainElement\n\n    if (claim.mainElement) {\n      const matchIndex = regExpsOrigin\n        .map((o) => o.value)\n        .indexOf(claim.mainElement);\n      if (\n        matchIndex < 0 &&\n        !elementColorMap[stringToUnicode(claim.mainElement)]\n      ) {\n        elementColorMap[stringToUnicode(claim.mainElement)] = {\n          value: claim.mainElement,\n          // color: `rgba(${Math.floor(Math.random() * 255)}, ${Math.floor(\n          //   Math.random() * 255\n          // )}, ${Math.floor(Math.random() * 255)}, .7)`\n          color: pickColor(Object.keys(elementColorMap).length),\n        };\n      }\n      claim.matches[0] = {\n        group: stringToUnicode(\n          (matchIndex >= 0 &&\n            getMapValues(\n              descriptionOfElementMap,\n              figureOfDrawingsMap,\n              regExpsOrigin[matchIndex]\n            )?.values[0]) ||\n            claim.mainElement\n        ),\n        // descriptionOfElementMap[regExpsOrigin[matchIndex].key]\n        // ? stringToUnicode(\n        //     descriptionOfElementMap[regExpsOrigin[matchIndex].key].values[0]\n        //   )\n        // : stringToUnicode(claim.mainElement),\n        value: claim.mainElement,\n        item:\n          (matchIndex >= 0 &&\n            getMapValues(\n              descriptionOfElementMap,\n              figureOfDrawingsMap,\n              regExpsOrigin[matchIndex]\n            )?.values[0]) ||\n          claim.mainElement,\n        //  matchIndex >= 0 &&\n        //  descriptionOfElementMap[regExpsOrigin[matchIndex].key]\n        //    ? descriptionOfElementMap[regExpsOrigin[matchIndex].key].values[0]\n        //    : claim.mainElement,\n        start: claim.content.indexOf(claim.mainElement),\n        end:\n          claim.content.indexOf(claim.mainElement) + claim.mainElement.length,\n        // pathIsOK: claim.type === \"independent\" ? true : false,\n        isMainElement: true,\n      };\n      // applicationNum[3] !== \"1\" &&\n      if (claim.type === \"independent\") {\n        isMainElementValid(claim, utilityModelTitle, applicationNum);\n      }\n    }\n\n    // if (index === 16) {\n    //   console.log(claim);\n    //    console.log(regExpsOrigin);\n    //    debugger;\n    // }\n\n    claim.matchedClaimsNum = getAllAttachedClaims(claims, [], claim).map(\n      (c) => c.num\n    );\n\n    claim.claimSearchPath = getAllClaimPaths(claims, claim);\n\n    // Test\n    // console.log(\"claim num: \", claim.num);\n    /*\n    if (index === 1) {\n      console.log(\"claim.mainElement: \", claim.mainElement);\n      console.log(\"claim.content: \", claim.content);\n\n      console.log(\n        \"contentFirstIndex\",\n        claim.content.split(/[:，;。]/)[0].length\n      );\n      console.log(\n        \"remain content\",\n        claim.content.slice(claim.content.split(/[:，;。]/)[0].length)\n      );\n\n      debugger;\n    }\n    */\n    /*\n    contentFirstIndex = claim.content.slice(\n      0,\n      claim.content.match(\n        RegExp(claim.mainElement.split(/[^\\u4E00-\\u9FFF]/)[0])\n      ).index + claim.mainElement.length\n    ).length;\n    */\n    contentFirstIndex = claim.content\n      .split(\"@##@\")[0]\n      .split(/[:;：；，。]/)[0].length;\n\n    if (claim.matches.length === 1) {\n      claim.matches = [\n        ...claim.matches,\n        ...checkClaimMatch(\n          claims,\n          claim,\n          regExpsOrigin,\n          concatRegExp,\n          concatSymRegExp,\n          claim.mainElement,\n          regExpWithWrongChar,\n          // claim.content.slice(claim.content.match(/[:，;]/).index),\n          claim.content.slice(\n            // claim.content.match(\n            //   RegExp(claim.mainElement.split(/[^\\u4E00-\\u9FFF]/)[0])\n            // ).index + claim.mainElement.length\n            contentFirstIndex\n          ),\n          // claim.content.split(/[:，;]/)[0].length,\n          contentFirstIndex,\n          descriptionOfElementMap,\n          figureOfDrawingsMap,\n          allModeForInventionParagraphDetails,\n          manuallyAddValues\n        ),\n      ].map((mt, indexOfMatch) => ({ ...mt, indexOfMatch }));\n    } // if: find all claim.matches\n\n    claim.matches = claim.matches.map((mm, mIdx) => ({\n      ...mm,\n      isOK: true,\n      pathIsOK: claim.type === \"independent\" && mIdx === 0 ? true : false,\n      hasBeenModified: false, // 是否被 user 改過過\n      multiPathTestMatches: null,\n      prevMatchedElement: null,\n      prevMatchPerPath: [],\n      longestPrevMatch: \"\",\n      preserveValue: false, // 是不被　user 要求 preserveValue\n    }));\n    // Test\n    // console.log(claim.matches);\n    // debugger;\n    // claim.claim.multiPathTestMatches = [...claim.matches];\n  } catch (err) {\n    console.log(err);\n    claim.errors.push({\n      message: err.message.includes(\"無法判斷此請求項為獨立項或附屬項\")\n        ? \"無法判斷此請求項為獨立項或附屬項\"\n        : `分析此請求項時發生問題: ${err.message}`,\n      start: -100,\n      end: -99,\n    });\n  } finally {\n    return contentFirstIndex;\n  }\n};\n","export const isMainElementValid = (\n  claim,\n  utilityModelTitle,\n  applicationNum\n) => {\n  const mainElement = claim.mainElement.split(/[\\\\(\\\\)]/)[0];\n\n  const mainElementMatch = mainElement.match(/(方法|程序|流程|步驟)$/);\n\n  if (applicationNum[3] !== \"1\" && mainElementMatch) {\n    // \"一種好方法\".match(/(方法|結構)$/)\n\n    const contentMatch = claim.content.match(/(方法|程序|流程|步驟)/);\n\n    claim.errors.push({\n      message: `標的名稱「${mainElement}」係為${mainElementMatch[0]}，不符新型標的之規定。`,\n      errorContent: mainElementMatch[0],\n      start: contentMatch.index,\n      end: contentMatch.index + contentMatch[0].length,\n      mainElement,\n      utilityModelTitle\n    });\n  }\n\n  /*\n  if (claim.num === 2) {\n    console.log(\"mainElement\", mainElement);\n    console.log(\"utilityModelTitle\", utilityModelTitle);\n    debugger;\n  }\n*/\n\n  // 1. 主要元件名稱完全包含在新型名稱裡 或 新型名稱完全包含在主要元件名稱裡\n  if (\n    utilityModelTitle.includes(mainElement) ||\n    mainElement.includes(utilityModelTitle)\n  ) {\n    return;\n  }\n\n  let numOfMatchChar = 0;\n  const titleCharArr = utilityModelTitle.split(\"\");\n  for (let i = 0; i < mainElement.length; i++) {\n    if (titleCharArr.includes(mainElement[i])) {\n      numOfMatchChar++;\n      titleCharArr.splice(titleCharArr.indexOf(mainElement[i]), 1);\n    }\n  }\n\n  if (\n    (mainElement.length <= 3 && numOfMatchChar < mainElement.length) ||\n    (mainElement.length > 3 && numOfMatchChar / mainElement.length < 0.5)\n  ) {\n    // 1. 若主要元件名稱字數長度小於3, 所有的字都要出現在新型名稱裡面\n    // 2. 若主要元件名稱字數長度大於3, 50%以上的字要出現在新型名稱裡面\n    claim.errors.push({\n      message: `標的名稱「${mainElement}」與專利名稱「${utilityModelTitle}」用語不相符。`,\n      start: -90,\n      end: -89,\n      mainElement,\n      utilityModelTitle\n    });\n  }\n};\n","import { stringToUnicode } from \"./stringToUnicode\";\n\nconst fetchResultFromDB = async (followContentMap) => {\n  try {\n    const res = await fetch(\"/api/mysql\", {\n      method: \"POST\",\n      body: JSON.stringify({ followContents: Object.keys(followContentMap) }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    });\n\n    const json = await res.json();\n\n    return json.dbResultMap || {};\n  } catch (error) {\n    window.alert(\n      \"無法連線到資料庫，請檢查您的網路連線，且不要再本機上使用此功能\"\n    );\n    return {};\n  }\n};\n\nexport const lookupDB = async (claims, useDatabase, _dbResultMap) => {\n  const followContentMap = {};\n\n  for (let claimIdx = 0; claimIdx < claims.length; claimIdx++) {\n    // m.isInDescriptionOfElementMap === false && !m.shouldLookupDB\n    for (\n      let matchIdx = 0;\n      matchIdx < claims[claimIdx].matches.length;\n      matchIdx++\n    ) {\n      const match = claims[claimIdx].matches[matchIdx];\n\n      if (match.isInDescriptionOfElementMap) continue;\n      if (match.isInDescriptionOfElementMap === false && !match.shouldLookupDB)\n        continue;\n      if (\n        match.isInDescriptionOfElementMap === false &&\n        match.shouldLookupDB &&\n        !useDatabase\n      ) {\n        match.shouldLookupDB = false;\n        continue;\n      }\n      if (!match.followContent) continue;\n\n      if (followContentMap[match.followContent] === undefined) {\n        followContentMap[match.followContent] = {\n          addresses: [{ claimIdx, matchIdx }]\n        };\n      } else {\n        followContentMap[match.followContent].addresses.push({\n          claimIdx,\n          matchIdx\n        });\n      }\n    }\n  }\n\n  if (Object.keys(followContentMap).length === 0) return;\n\n  const dbResultMap = await fetchResultFromDB(followContentMap);\n\n  // console.log(\"followContentMap\", followContentMap);\n  // console.log(\"dbResultMap\", dbResultMap);\n\n  Object.entries(followContentMap).forEach(([key, value]) => {\n    const dbValue = dbResultMap[key];\n    _dbResultMap[key] = { dbValue: dbValue || \"無結果\", claims: new Set() };\n\n    for (let address of value.addresses) {\n      const { claimIdx, matchIdx } = address;\n      _dbResultMap[key].claims.add(claimIdx + 1);\n\n      if (dbValue) {\n        claims[claimIdx].matches[matchIdx].group = stringToUnicode(dbValue);\n        claims[claimIdx].matches[matchIdx].item = dbValue;\n        claims[claimIdx].matches[matchIdx].value = dbValue;\n        claims[claimIdx].matches[matchIdx].end =\n          claims[claimIdx].matches[matchIdx].start + dbValue.length;\n      } else {\n        claims[claimIdx].matches[matchIdx].shouldLookupDB = false;\n      }\n    }\n\n    _dbResultMap[key].claims = Array.from(_dbResultMap[key].claims).sort(\n      (a, b) => a - b\n    );\n  });\n\n  console.log(\"dbResultMap\", _dbResultMap);\n\n  // debugger;\n\n  /*\n      group: stringToUnicode(optimalValue),\n      item: optimalValue,\n      value: optimalValue,\n      end: mm.start + optimalValue.length\n  */\n};\n\nexport const optimizeClaimMatch = (claims) => {\n  const claimGroup = [];\n  const groupMatchesSortedByLength = [];\n\n  // console.log(claims[9]);\n  // debugger;\n  /*\n  console.log(\n    claims[9].matches.filter(\n      (m) =>\n        m.isInDescriptionOfElementMap === false &&\n        !RegExp(\n          `^第[一二三四五六七八九十]|${symetricPrefix().split(\"\").join(\"|\")}`\n        ).test(m.item)\n    )\n  );\n  debugger;\n  */\n\n  //  shouldLookupDB, followContent,\n\n  claims.forEach((claim, claimIdx) => {\n    if (\n      claimIdx === 0 ||\n      claim.type === \"independent\" ||\n      claim.type === \"unknown\"\n    ) {\n      claimGroup.push({\n        baseClaimIdx: claimIdx,\n        groupMatches: claim.matches.filter(\n          (m) => m.isInDescriptionOfElementMap === false && !m.shouldLookupDB\n        )\n      });\n    } else {\n      claimGroup[claimGroup.length - 1].groupMatches.push(\n        ...claim.matches.filter(\n          (m) => m.isInDescriptionOfElementMap === false && !m.shouldLookupDB\n        )\n      );\n    }\n  });\n\n  claimGroup.forEach((cg) => {\n    groupMatchesSortedByLength.push({\n      baseClaimIdx: cg.baseClaimIdx,\n      // groupMatches: [...cg.groupMatches].sort(\n      //   (a, b) => a.value.length - b.value.length\n      // ),\n      valueTable: buildMatchValueTable(\n        [...cg.groupMatches].sort((a, b) => a.value.length - b.value.length)\n      )\n    });\n  });\n\n  groupMatchesSortedByLength.forEach(({ baseClaimIdx, valueTable }, index) => {\n    // console.log(valueTable);\n    // console.log([...Object.keys(valueTable)].sort((a, b) => a.localeCompare(b)));\n    // debugger;\n\n    const valueSortedByName = [...Object.keys(valueTable)].sort((a, b) =>\n      a.localeCompare(b)\n    );\n\n    valueSortedByName.forEach((value, valueIdx) => {\n      if (\n        valueIdx === 0 &&\n        !valueSortedByName.slice(0, valueIdx).find((pv) => value.startsWith(pv))\n      ) {\n        return;\n      }\n\n      if (\n        valueTable[value].possibiles.length > 0 &&\n        (valueTable[value].possibiles.length === 1 ||\n          valueTable[valueTable[value].possibiles[0]].sum >\n            valueTable[valueTable[value].possibiles[1]].sum)\n      ) {\n        /*\n          假設 「網路模組連接」的 possibles 有「網路模組」3次(possibles[0]),「網路」2次(possibles[1])\n          possibles[0].sum(「網路模組」3次) > possibles[1].sum(「網路」2次) \n          所以「網路模組連接」改成「網路模組」\n        */\n\n        const claimNumStart = baseClaimIdx + 1;\n        const claimNumEnd = groupMatchesSortedByLength[index + 1]\n          ? groupMatchesSortedByLength[index + 1].baseClaimIdx\n          : claims.length;\n        const optimalValue = valueTable[value].possibiles[0];\n\n        console.log(\n          `claim ${claimNumStart}~${claimNumEnd} 的 ${value} 變成 ${optimalValue}`\n        );\n        // debugger;\n\n        claims.forEach((claim) => {\n          if (claim.num >= claimNumStart && claim.num <= claimNumEnd) {\n            claim.matches = claim.matches.map((mm) => {\n              if (\n                mm.isInDescriptionOfElementMap === false &&\n                !mm.shouldLookupDB &&\n                mm.value === value\n              ) {\n                return {\n                  ...mm,\n                  group: stringToUnicode(optimalValue),\n                  item: optimalValue,\n                  value: optimalValue,\n                  end: mm.start + optimalValue.length\n                };\n              }\n              return mm;\n            });\n          }\n        });\n      }\n    });\n\n    // Test\n    // console.log(claimGroup);\n    // console.log(groupMatchesSortedByLength);\n    // console.log(valueTable);\n    // console.log(valueSortedByName);\n    // debugger;\n  });\n\n  // Test\n  // console.log(claims[9].matches);\n  // debugger;\n};\n\nfunction buildMatchValueTable(groupMatches) {\n  const valueTable = {};\n  groupMatches.forEach((match) => {\n    if (valueTable[match.value]) {\n      valueTable[match.value].sum++;\n    } else {\n      valueTable[match.value] = {\n        sum: 1,\n        possibiles: [...Object.keys(valueTable).reverse()].filter((preValue) =>\n          match.value.startsWith(preValue)\n        )\n      };\n    }\n  });\n\n  return valueTable;\n}\n","import { symetricPrefix } from \"../dict/allReferWords\";\nimport { keyStartMatch, allSymbolChar, isKeyValid } from \"../dict/keyRegs\";\nimport { checkClaimConnection } from \"./checkClaimConnection\";\nimport { extractSingleClaim } from \"./extractSingleClaim\";\nimport { handleSpecialChar } from \"./handleSpecialChar\";\nimport { modifySingleClaim } from \"./modifySingleClaim\";\nimport { getKeyInRange, isKeyInReserve } from \"./otherUtils\";\nimport { stringToUnicode } from \"./stringToUnicode\";\nimport { modifySingleClaimMatch } from \"./modifySingleClaimMatch\";\nimport { lookupDB, optimizeClaimMatch } from \"./optimizeClaimMatch\";\n\nexport const modifyAllClaims = async (\n  data,\n  whichOne,\n  {\n    descriptionOfElementMap,\n    elementColorMap,\n    allModeForInventionParagraphDetails,\n    allClaimsDetails,\n    utilityModelTitle,\n    figureOfDrawingsMap,\n    applicationNum,\n    personalSettings,\n    dbResultMap,\n  },\n  oldClaimDetails,\n  manuallyAddValues\n) => {\n  let claims = [];\n\n  if (typeof whichOne === \"number\" && oldClaimDetails) {\n    oldClaimDetails.forEach(({ content }, index) => {\n      extractSingleClaim(index, claims, null, content);\n    });\n  } else if (typeof whichOne === \"number\" && oldClaimDetails === null) {\n    data.children.forEach((claim, index) => {\n      extractSingleClaim(index, claims, claim, \"\");\n    });\n  } else {\n    whichOne.forEach(({ content: newContent, matches: newMatches }, index) => {\n      if (newContent) {\n        extractSingleClaim(index, claims, null, newContent);\n      } else {\n        extractSingleClaim(index, claims, null, oldClaimDetails[index].content);\n        if (!newMatches) {\n          claims[index].matches = null;\n        } else if (newMatches && !newMatches.find((mt) => mt.preserveValue)) {\n          // 有要 update 的 match 而且沒有要 preserveValue 的 match\n          claims[index].matches = newMatches;\n        } else {\n          // 有要 update 的 match 而且有 preserveValue 的 match\n          // 把 hasBeenModified = true 的保留，其他重新找\n          claims[index].matches = null;\n          claims[index].hasBeenModifiedMatches = newMatches\n            .filter((nM) => nM.hasBeenModified)\n            .filter((nM) => !nM.preserveValue);\n          // console.log(claims[index].hasBeenModifiedMatches);\n          // debugger;\n        }\n      }\n    });\n  }\n  /*\n     hasBeenModified: false, // 是否被 user 改過過\n      preserveValue: false // 是不被　user 要求 preserveValue\n  */\n\n  let regExps = [];\n  let regExpsOrigin = [];\n  let concatRegExps = {};\n  let regExp = ``;\n  let concatRegExp = ``;\n  let concatSymRegExp = ``;\n  let regExpWithWrongChar = ``;\n  let regExpBackup = ``;\n  let regExpWithWrongCharbackup = ``;\n\n  const allElements = Object.keys(descriptionOfElementMap)\n    .filter((key) => descriptionOfElementMap[key].status !== \"key duplicate\")\n    .reduce(\n      (acc, cur) => [\n        ...acc,\n        ...descriptionOfElementMap[cur].values.map((value) => ({\n          key: cur,\n          value,\n          from: \"d\",\n        })),\n      ],\n      []\n    );\n\n  Object.keys(figureOfDrawingsMap)\n    .filter((key) => figureOfDrawingsMap[key].status !== \"key duplicate\")\n    .forEach((key) =>\n      figureOfDrawingsMap[key].values.forEach((v) => {\n        if (\n          !allElements.find((allEl) => allEl.key === key && allEl.value === v)\n        ) {\n          allElements.push({\n            key,\n            value: v,\n            from: \"f\",\n          });\n        }\n      })\n    );\n\n  if (utilityModelTitle && utilityModelTitle !== \"\") {\n    allElements.push({\n      key: \"utilityModelTitle\",\n      value: utilityModelTitle.replace(/[↵\\n]/g, \"\").trim(),\n      from: \"t\",\n    });\n  }\n\n  if (manuallyAddValues.length > 0) {\n    manuallyAddValues.forEach((manuallyAddValue) => {\n      allElements.push({\n        key: \"manuallyAddValue\",\n        value: manuallyAddValue,\n        from: \"m\",\n      });\n    });\n  }\n\n  allElements\n    .sort((a, b) => b.value.length - a.value.length)\n    .forEach(({ key, value, from }) => {\n      if (regExps.includes(value) || value === \"\") {\n        return;\n      }\n\n      if (/^第./.test(value)) {\n        // concatRegExps.push({front: value.slice(0, 2), main: value.slice(2)});\n        if (concatRegExps[stringToUnicode(value.slice(2))]) {\n          concatRegExps[stringToUnicode(value.slice(2))].prefixes.push(\n            value.slice(0, 2)\n          );\n        } else {\n          concatRegExps[stringToUnicode(value.slice(2))] = {\n            prefixes: [value.slice(0, 2)],\n            main: value.slice(2),\n            symetric: false,\n          };\n        }\n      } else if (RegExp(`^[${symetricPrefix()}]`).test(value)) {\n        // 上、下連接件\n        if (concatRegExps[stringToUnicode(value.slice(1))]) {\n          concatRegExps[stringToUnicode(value.slice(1))].prefixes.push(\n            value.slice(0, 1)\n          );\n        } else {\n          concatRegExps[stringToUnicode(value.slice(1))] = {\n            prefixes: [value.slice(0, 1)],\n            main: value.slice(1),\n            symetric: true,\n          };\n        }\n      }\n\n      regExps.unshift(handleSpecialChar(value));\n      regExpsOrigin.unshift({ key, value, from });\n      // do some backup in case that error occurs\n      regExpBackup = regExp;\n      regExpWithWrongCharbackup = regExpWithWrongChar;\n      try {\n        if (\n          regExps[0].length >= 3 &&\n          !(\n            regExps[0].includes(\"[\\\\u4E00-\\\\u9FFF]\") ||\n            regExps[0].includes(\"\\\\/\") ||\n            regExps[0].includes(\"\\\\(\") ||\n            regExps[0].includes(\"\\\\)\")\n          )\n        ) {\n          for (let i = 0; i < regExps[0].length; i++) {\n            // const replaceReg =\n            //   regExps[0][i] === \"/\" ||\n            //   regExps[0][i] === \"(\" ||\n            //   regExps[0][i] === \")\"\n            //     ? `\\\\${regExps[0][i]}`\n            //     : `[\\\\u4E00-\\\\u9FFF]`;\n\n            regExpWithWrongChar +=\n              [\n                regExps[0].slice(0, i),\n                `[\\\\u4E00-\\\\u9FFF]`,\n                regExps[0].slice(i + 1),\n              ].join(\"\") + \"|\";\n          }\n        } /* else {\n          regExpWithWrongChar += regExps[0] + \"|\";\n        }*/\n        regExp += regExps[0] + \"|\";\n        const test1 = `(${regExp.slice(\n          0,\n          regExp.length - 1\n        )})([${allSymbolChar}'-~]*)`.replaceAll(\"\\\\\", \"\\\\\\\\\");\n        const test2 = `(${regExpWithWrongChar.slice(\n          0,\n          regExpWithWrongChar.length - 1\n        )})([${allSymbolChar}'-~]*)`.replaceAll(\"\\\\\", \"\\\\\\\\\");\n        RegExp(test1, `ig`);\n        RegExp(test2, `ig`);\n      } catch (err) {\n        console.log(`claim RegExp goes wrong: ${regExps[0]}`);\n        regExp = regExpBackup;\n        regExpWithWrongChar = regExpWithWrongCharbackup;\n      }\n      // regExp += regExps[0] + \"|\";\n    });\n\n  Object.values(concatRegExps)\n    .filter((v) => v.prefixes.length > 1)\n    .sort((a, b) => b.main.length - a.main.length)\n    .forEach(({ main, symetric }) => {\n      if (symetric) {\n        concatSymRegExp += main + \"|\";\n      } else {\n        concatRegExp += main + \"|\";\n      }\n    });\n\n  regExp = regExp.slice(0, regExp.length - 1);\n  concatRegExp = concatRegExp.slice(0, concatRegExp.length - 1);\n  concatSymRegExp = concatSymRegExp.slice(0, concatSymRegExp.length - 1);\n  regExpWithWrongChar = regExpWithWrongChar.slice(\n    0,\n    regExpWithWrongChar.length - 1\n  );\n\n  // For Test\n  // console.log([...regExpsOrigin.reverse()]);\n  // console.log(regExpWithWrongChar);\n  // debugger;\n  // For Test\n\n  // Find all matches in each claim\n  let contentFirstIndexes = [];\n  claims.forEach((claim, index) => {\n    contentFirstIndexes.push(\n      modifySingleClaimMatch(\n        index,\n        [...regExpsOrigin].reverse(),\n        concatRegExp,\n        concatSymRegExp,\n        regExpWithWrongChar,\n        claims,\n        claim,\n        descriptionOfElementMap,\n        figureOfDrawingsMap,\n        elementColorMap,\n        allModeForInventionParagraphDetails,\n        manuallyAddValues,\n        utilityModelTitle,\n        applicationNum\n      )\n    );\n  });\n\n  // look up db if\n  // 1. useDatabase = true\n  // 2. isInDescriptionOfElementMap = false\n  // 3. shouldLookupDB = true\n  await lookupDB(claims, personalSettings.useDatabase, dbResultMap);\n\n  // optimize the match if\n  // 1. isInDescriptionOfElementMap = false\n  // 2. shouldLookupDB = false\n  optimizeClaimMatch(claims);\n\n  // Find illegal matches in each claim\n  claims.forEach((claim, index) =>\n    modifySingleClaim(\n      index,\n      [...regExpsOrigin].reverse(),\n      concatRegExp,\n      concatSymRegExp,\n      claims,\n      claim,\n      descriptionOfElementMap,\n      figureOfDrawingsMap,\n      elementColorMap,\n      contentFirstIndexes[index]\n    )\n  ); // each claim\n\n  // Find all usedElement in each claim\n  claims.forEach((claim) => {\n    // in case of preUsedElements is undefined\n    if (!claim.preUsedElements) {\n      claim.preUsedElements = [];\n    }\n\n    [...claim.matches.slice(1)]\n      .sort((a, b) => b.value.length - a.value.length)\n      .forEach(({ start, prevMatchedElement, value }) => {\n        if (prevMatchedElement) {\n          findAllUsedElements(claims, claim, prevMatchedElement, start, value);\n        }\n      });\n  });\n\n  claims.forEach((claim) => {\n    claim.errors.sort((a, b) => a.start - b.start);\n    claim.nonMatches.sort((a, b) => a.start - b.start);\n    claim.usedElements.sort((a, b) => a.start - b.start);\n    claim.preUsedElements.sort((a, b) => a.start - b.start);\n\n    const rest = [\n      ...claim.errors,\n      ...claim.usedElements,\n      ...claim.preUsedElements,\n    ].sort((a, b) => a.start - b.start);\n\n    claim.matches = checkclaimSymbol(\n      claim,\n      descriptionOfElementMap,\n      figureOfDrawingsMap,\n      claim.matches,\n      \"matches\",\n      rest\n    );\n\n    // Test\n    // console.log(`claim ${claim.num} after checkclaimSymbol:matches`);\n\n    claim.nonMatches = checkclaimSymbol(\n      claim,\n      descriptionOfElementMap,\n      figureOfDrawingsMap,\n      claim.nonMatches,\n      \"nonMatches\",\n      rest\n    );\n\n    // Test\n    // console.log(`claim ${claim.num} after checkclaimSymbol:nonMatches`);\n\n    claim.usedElements = checkclaimSymbol(\n      claim,\n      descriptionOfElementMap,\n      figureOfDrawingsMap,\n      claim.usedElements,\n      \"usedElements\",\n      rest\n    );\n\n    // Test\n    // console.log(`claim ${claim.num} after checkclaimSymbol:usedElements`);\n\n    claim.preUsedElements = checkclaimSymbol(\n      claim,\n      descriptionOfElementMap,\n      figureOfDrawingsMap,\n      claim.preUsedElements,\n      \"preUsedElements\",\n      rest\n    );\n\n    claim.preUsedElementsNonUsed = claim.preUsedElements\n      .filter(\n        (plt) =>\n          !claim.matches.some(\n            (m) => !(plt.start >= m.end || plt.end <= m.start)\n          )\n      )\n      .filter(\n        (plt) =>\n          !claim.usedElements.some(\n            (m) => !(plt.start >= m.end || plt.end <= m.start)\n          )\n      );\n\n    // Test\n    // console.log(`claim ${claim.num} after checkclaimSymbol:preUsedElements`);\n    if (\n      claim.type === \"independent\" &&\n      applicationNum &&\n      applicationNum[3] !== \"1\"\n    ) {\n      checkClaimConnection(claim);\n    }\n\n    let modifiedClaim = claim.content;\n\n    modifiedClaim = highlightClaimContent(\n      claim,\n      modifiedClaim,\n      elementColorMap,\n      applicationNum\n    );\n\n    // Test\n    // console.log(`claim ${claim.num} after highlightClaimContent`);\n\n    claim.modifiedClaim = modifiedClaim;\n    claim.isCollapse = true;\n    // claim.errors = claim.errors.sort((a, b) => a.start - b.start);\n    // claim.nonMatches = claim.nonMatches.sort((a, b) => a.start - b.start);\n    allClaimsDetails.push(claim);\n  }); // Each claim\n};\n\nfunction checkclaimSymbol(\n  claim,\n  descriptionOfElementMap,\n  figureOfDrawingsMap,\n  matches,\n  type,\n  rest\n) {\n  // keyStartMatch(claim.content.slice())\n  return matches.map((match) => {\n    if (\n      match.hasOuterKey &&\n      match.keys &&\n      match.keys.length === 1 &&\n      match.keys[0] !== \"\"\n    ) {\n      // 第一、第二元件 的情況，已經知道 keys 了\n      const key = match.keys[0];\n      // const values = descriptionOfElementMap[key]\n      //   ? descriptionOfElementMap[key].values.filter((v) => v !== \"\")\n      //   : null;\n      const values = getValues(\n        key,\n        descriptionOfElementMap,\n        figureOfDrawingsMap\n      );\n      let wrongKeys = [];\n      if (\n        (values.length === 0 ||\n          !values.some((v) => v.endsWith(match.fullValue || match.value))) &&\n        !isKeyInReserve(key)\n      ) {\n        wrongKeys.push(key);\n        if (type !== \"nonMatches\") {\n          const errorData = {\n            message: `「${match.value}（${key}）」的元件名稱或符號錯誤`,\n            start: match.start,\n            end: match.end,\n            name: match.fullValue || match.value,\n            wrongKeys: [key],\n          };\n          if (\n            !claim.errors.find(\n              (err) =>\n                err.name === errorData.name &&\n                err.start === errorData.start &&\n                err.end === errorData.end\n            )\n          ) {\n            claim.errors.push(errorData);\n          } else {\n            const idxOfErr = claim.errors.findIndex(\n              (err) =>\n                err.name === errorData.name &&\n                err.start === errorData.start &&\n                err.end === errorData.end\n            );\n            if (!claim.errors[idxOfErr].wrongKeys.includes(key)) {\n              const newWrongKeys = [...claim.errors[idxOfErr].wrongKeys, key];\n              claim.errors[idxOfErr] = {\n                ...claim.errors[idxOfErr],\n                message: `「${match.value}（${newWrongKeys.join(\n                  \"）、（\"\n                )}）」的元件名稱或符號錯誤`,\n                wrongKeys: newWrongKeys,\n              };\n            }\n          }\n        }\n      }\n      match.wrongKeys = wrongKeys;\n      // match.hasOuterKey = true;\n      // Test\n      // console.log(match);\n      // debugger;\n      return match;\n    }\n\n    let keyMatch = keyStartMatch(claim.content.slice(match.end));\n    if (!keyMatch) {\n      match.keys = null;\n      match.wrongKeys = null;\n      // match.end = match.start + (match.value || match.item || \"\").length;\n      return match;\n    }\n\n    // Test\n\n    if (\n      keyMatch[0] &&\n      RegExp(`[${allSymbolChar}']+$`, \"i\").test(keyMatch[0]) &&\n      /^[@θ%度˚℃]/.test(claim.content.slice(match.end + keyMatch[0].length))\n    ) {\n      keyMatch[0] = keyMatch[0].split(/[、,]/).slice(0, -1).join(\"、\");\n    }\n\n    // Test\n    // if (claim.num === 4) {\n    //   console.log(keyMatch);\n    //   debugger;\n    // }\n\n    const nextRest = rest.find((mm) => mm.start > match.end);\n    const newEnd = match.end + keyMatch[0].length;\n    if (nextRest && nextRest.start <= newEnd) {\n      match.keys = null;\n      match.wrongKeys = null;\n      // match.end = match.start + (match.value || match.item || \"\").length;\n      return match;\n    }\n\n    // Test\n    // console.log(\n    //   \"claim item key match: \",\n    //   keyMatch[0],\n    //   \" value: \",\n    //   match.fullValue || match.value,\n    //   \" origin match: \",\n    //   match\n    // );\n\n    let keys = keyMatch[0]\n      .replaceAll(/[()]/g, \"\")\n      .split(/[、,]/)\n      .filter((e) => e !== \"\");\n    // if (/.+[~-].+/.test(keys[0])) {\n    //   keys = getKeyInRange(keys[0]);\n    // }\n\n    if (keys.some((curKey) => /.+[-~～].+/.test(curKey))) {\n      keys = keys.reduce((accKeys, curKey) => {\n        if (/.+[-~～].+/.test(curKey)) {\n          return [...accKeys, ...getKeyInRange(curKey)];\n        }\n        return [...accKeys, curKey];\n      }, []);\n      // keys = getKeyInRange(keys[0]);\n    }\n\n    // Test\n    // if (match.value === \"蓋\" && match.item === \"蓋\") {\n    //   console.log(match);\n    //   console.log(keys);\n    //   console.log(\"values\")\n    //   debugger;\n    // }\n    keys = keys.filter((k) => !isKeyInReserve(k) && isKeyValid(k));\n    if (keys.length === 0) {\n      match.keys = null;\n      match.wrongKeys = null;\n      // match.end = match.start + (match.value || match.item || \"\").length;\n      return match;\n    }\n    keys = Array.from(new Set(keys));\n\n    if (!/[()]/.test(keyMatch[0]) && keys.length > 0) {\n      const errorData = {\n        message: `「${match.fullValue || match.value}${\n          keyMatch[0]\n        }」的符號未置於括號內`,\n        start: match.start,\n        end: match.end,\n      };\n      if (!claim.errors.find((err) => err.start === errorData.start)) {\n        claim.errors.push(errorData);\n      }\n    }\n\n    let wrongKeys = [];\n    keys.forEach((k) => {\n      // const values = descriptionOfElementMap[k]\n      //   ? descriptionOfElementMap[k].values.filter((v) => v !== \"\")\n      //   : null;\n      const values = getValues(k, descriptionOfElementMap, figureOfDrawingsMap);\n      if (\n        values.length === 0 &&\n        !isValueExisted(\n          match.value,\n          descriptionOfElementMap,\n          figureOfDrawingsMap\n        )\n      ) {\n        return;\n      } else if (\n        values.length === 0 ||\n        !values.some((v) => v.endsWith(match.value))\n      ) {\n        wrongKeys.push(k);\n        if (type !== \"nonMatches\") {\n          // Test\n          // console.log(match);\n          // debugger;\n\n          const errorData = {\n            message: `「${match.value}（${k}）」的元件名稱或符號錯誤`,\n            start: match.start,\n            end: match.end,\n            name: match.fullValue || match.value,\n            wrongKeys: [k],\n          };\n          if (\n            !claim.errors.find(\n              (err) =>\n                err.name === errorData.name &&\n                err.start === errorData.start &&\n                err.end === errorData.end\n            )\n          ) {\n            claim.errors.push(errorData);\n          } else {\n            const idxOfErr = claim.errors.findIndex(\n              (err) =>\n                err.name === errorData.name &&\n                err.start === errorData.start &&\n                err.end === errorData.end\n            );\n            if (!claim.errors[idxOfErr].wrongKeys.includes(k)) {\n              const newWrongKeys = [...claim.errors[idxOfErr].wrongKeys, k];\n              claim.errors[idxOfErr] = {\n                ...claim.errors[idxOfErr],\n                message: `「${\n                  match.fullValue || match.value\n                }（${newWrongKeys.join(\"）、（\")}）」的元件名稱或符號錯誤`,\n                wrongKeys: newWrongKeys,\n              };\n            }\n          }\n        }\n      }\n    });\n\n    match.keys = keys;\n    match.wrongKeys = wrongKeys;\n    match.end = newEnd;\n\n    // Test\n    // if (wrongKeys.length > 0) {\n    //   console.log(match);\n    //   debugger;\n    // }\n\n    return match;\n  }); // for each match\n}\n\nexport function highlightClaimContent(\n  claim,\n  modifiedClaim,\n  elementColorMap,\n  applicationNum\n) {\n  if (claim.type === \"unknown\") {\n    return `<span>${modifiedClaim}</span>`;\n  }\n\n  // const preUsedElementsNonUsed = claim.preUsedElements\n  //   .filter(\n  //     (plt) =>\n  //       !claim.matches.some((m) => !(plt.start >= m.end || plt.end <= m.start))\n  //   )\n  //   .filter(\n  //     (plt) =>\n  //       !claim.usedElements.some(\n  //         (m) => !(plt.start >= m.end || plt.end <= m.start)\n  //       )\n  //   );\n\n  const highlightBlocks = [];\n\n  // if (claim.num === 1) {\n  //   console.log(\n  //     [\n  //       ...claim.matches,\n  //       ...claim.usedElements,\n  //       ...claim.preUsedElementsNonUsed,\n  //       ...claim.errors\n  //     ]\n  //       .sort((a, b) => b.start - a.start)\n  //       .filter((abc) => abc.start === null)\n  //   );\n  //   debugger;\n  // }\n\n  [\n    ...claim.matches,\n    ...claim.usedElements,\n    ...claim.preUsedElementsNonUsed,\n    ...claim.errors,\n  ]\n    .sort((a, b) => b.start - a.start)\n    .forEach(\n      ({\n        message,\n        errorContent,\n        type,\n        group,\n        value,\n        fullValue,\n        item,\n        start,\n        realStart,\n        end,\n        isOK,\n        keyEnd,\n        keyStart,\n        keyBeenModified,\n        hasOuterKey,\n        wrongKeys,\n        isMainElement,\n        indexOfMatch,\n        hasBeenModified,\n        isMainComp,\n      }) => {\n        if (message) {\n          highlightBlocks.push({\n            start,\n            end,\n            endTag: \"\",\n            startTag: \"\",\n            message,\n            errorContent,\n          });\n        } else if (type === \"usedElement\") {\n          const startTag = `<span class=\"usedElement u-${group} ${\n            claim.errors.find(\n              (err) =>\n                err.start === start && /的符號未置於括號內/.test(err.message)\n            ) ||\n            (wrongKeys && wrongKeys.length > 0)\n              ? \"claim-wrongkey-border\"\n              : \"\"\n          }\" ${\n            claim.type === \"independent\" && isMainComp\n              ? `data-for='claim-${claim.num}-prematch-tooltip' data-tip='yes'`\n              : \"\"\n          }>${isMainComp ? \"<small class='m'>M</small>\" : \"\"}`;\n          highlightBlocks.push({\n            start,\n            end,\n            endTag: `</span>`,\n            startTag,\n          });\n          if (hasOuterKey && !keyBeenModified) {\n            highlightBlocks.push({\n              start: keyStart,\n              end: keyEnd,\n              endTag: `</span>`,\n              startTag,\n            });\n          }\n        } else if (type === \"preUsedElements\") {\n          const startTag = `<span style=\"color: ${\n            elementColorMap[group] ? elementColorMap[group].color : \"black\"\n          }; font-weight: 700;\n            background: transparent;\n            border: ${\n              claim.errors.find(\n                (err) =>\n                  err.start === start && /的符號未置於括號內/.test(err.message)\n              ) ||\n              (wrongKeys && wrongKeys.length > 0)\n                ? \"3px solid red\"\n                : \"none\"\n            };\n            text-shadow: 1px 1px 1px rgb(0, 0, 0, .7);\" ${\n              claim.type === \"independent\"\n                ? `data-for='claim-${claim.num}-prematch-tooltip' data-tip='${\n                    isMainComp ? \"yes\" : \"no\"\n                  }'`\n                : \"\"\n            }>${isMainComp ? \"<small class='m'>M</small>\" : \"\"}`;\n          highlightBlocks.push({\n            start,\n            end,\n            endTag: `</span>`,\n            startTag,\n          });\n          if (hasOuterKey && !keyBeenModified) {\n            highlightBlocks.push({\n              start: keyStart,\n              end: keyEnd,\n              endTag: `</span>`,\n              startTag,\n            });\n          }\n        } else {\n          const startTag = `<span class=\"${\n            isMainElement ? \"mainElement\" : \"\"\n          } ${isOK ? \"mainElementOK\" : \"mainElementNotOK\"} ${\n            hasBeenModified ? \"m\" : isOK ? \"c\" : \"e\"\n          }-${group} ${\n            claim.errors.find(\n              (err) =>\n                err.start === start && /的符號未置於括號內/.test(err.message)\n            ) ||\n            (wrongKeys && wrongKeys.length > 0)\n              ? \"claim-wrongkey-border\"\n              : \"\"\n          }\"\n            data-elvalue=${value}\n            data-elfullvalue=${fullValue ? fullValue : \"none\"}\n            data-elitem=${item}\n            data-start=${start}\n            data-end=${end}\n            data-realstart=${realStart ? realStart : -1}\n            data-indexofmatch=${indexOfMatch}\n            data-for='claim-${\n              claim.num\n            }-prematch-tooltip' data-tip=${indexOfMatch}\n          >`;\n          highlightBlocks.push({\n            start,\n            end,\n            endTag: `</span>`,\n            startTag,\n            isMainElement,\n          });\n          if (hasOuterKey && !keyBeenModified) {\n            highlightBlocks.push({\n              start: keyStart,\n              end: keyEnd,\n              endTag: `</span>`,\n              startTag,\n              isMainElement,\n            });\n          }\n        }\n      }\n    );\n\n  // Test\n  // if (claim.num === 1) {\n  //   console.log([...highlightBlocks].sort((a, b) => b.start - a.start));\n  //   debugger;\n  // }\n\n  highlightBlocks\n    .sort((a, b) => b.start - a.start)\n    .forEach((highlight) => {\n      if (highlight.message) {\n        if (/請求項未以單句為之\\(句號在句中\\)/.test(highlight.message)) {\n          modifiedClaim =\n            modifiedClaim.slice(0, highlight.start) +\n            \"<span class='err-span'>。</span>\" +\n            modifiedClaim.slice(highlight.end);\n        } else if (/請求項未以單句為之\\(無句號\\)/.test(highlight.message)) {\n          modifiedClaim =\n            modifiedClaim +\n            `<span class='err-span' \n                   style='border-radius: 10000000px;\n                   font-size: 0.8em;\n                   padding: .1em .3em;'\n             ><code>◎</code>句尾無句號</span>`;\n        } else if (\n          /未以選擇式為之$/.test(highlight.message) ||\n          /^附屬項文字開頭/.test(highlight.message) ||\n          /^獨立項之引用記載形式/.test(highlight.message)\n        ) {\n          modifiedClaim = modifiedClaim.replace(\n            highlight.errorContent,\n            `<span class='err-span'>${highlight.errorContent}</span>`\n          );\n        } /*else if (\n          /係為(方法|結構)，不符新型標的之規定/.test(highlight.message)\n        ) {\n          modifiedClaim = modifiedClaim.replace(\n            highlight.errorContent,\n            `<span class='err-span'>${highlight.errorContent}</span>`\n          );\n        } else if (\n          highlight.message &&\n          highlight.errorContent\n        ) {\n          // console.log(claim.num);\n          // console.log(highlight.message);\n          // console.log(highlight.errorContent);\n          // debugger;\n          modifiedClaim = modifiedClaim.replace(\n            highlight.errorContent,\n            `<span class='err-span'>${highlight.errorContent}</span>`\n          );\n        }*/\n      } else {\n        modifiedClaim = [\n          modifiedClaim.slice(0, highlight.end),\n          highlight.endTag,\n          modifiedClaim.slice(highlight.end),\n        ].join(\"\");\n\n        // Test\n        if (\n          applicationNum &&\n          applicationNum[3] !== \"1\" &&\n          claim.type === \"independent\" &&\n          highlight.isMainElement &&\n          modifiedClaim\n            .slice(highlight.start, highlight.end)\n            .match(/(方法|程序|流程|步驟)$/)\n        ) {\n          let mainEl = modifiedClaim.slice(highlight.start, highlight.end);\n          const mainElMatch = mainEl.match(/(方法|程序|流程|步驟)$/);\n          mainEl =\n            mainEl.slice(0, mainElMatch.index) +\n            `<span class='err-span' style=\"padding-inline: 4px; margin-right: -4px;\">${mainElMatch[0]}</span>`;\n\n          // console.log(modifiedClaim.slice(highlight.start, highlight.end));\n          // console.log(mainEl);\n          // debugger;\n          modifiedClaim = [\n            modifiedClaim.slice(0, highlight.start),\n            mainEl,\n            modifiedClaim.slice(highlight.end),\n          ].join(\"\");\n        }\n\n        modifiedClaim = [\n          modifiedClaim.slice(0, highlight.start),\n          highlight.startTag,\n          modifiedClaim.slice(highlight.start),\n        ].join(\"\");\n      }\n    });\n\n  return modifiedClaim;\n}\n\nfunction findAllUsedElements(claims, claim, prevItem, start, value) {\n  let searchClaimsNum = [claim.num, ...claim.matchedClaimsNum];\n  let currentClaimNum;\n  let values = Array.from(\n    new Set([prevItem.fullValue, prevItem.value, value])\n  ).filter((a) => !!a);\n  const valueReg = new RegExp(`(${values.join(\"|\")})`, \"g\");\n  /* let wantedValue = prevItem.fullValue\n    ? `${prevItem.fullValue}|${prevItem.value}`\n    : prevItem.value; */\n  // const valueReg = new RegExp(wantedValue, \"g\");\n  do {\n    currentClaimNum = searchClaimsNum.shift();\n    const claimContent =\n      currentClaimNum === claim.num\n        ? claims[currentClaimNum - 1].content.slice(0, start)\n        : claims[currentClaimNum - 1].content;\n\n    // Test\n    // console.log(\"currentClaimNum: \", currentClaimNum);\n    // console.log(\n    //   \"claims[currentClaimNum - 1].preUsedElements: \",\n    //   claims[currentClaimNum - 1].preUsedElements\n    // );\n\n    let allUsedElements = [...claimContent.matchAll(valueReg)];\n    allUsedElements = allUsedElements\n      .filter(\n        (plt) =>\n          !claims[currentClaimNum - 1].matches.some(\n            (m) => !(plt.index >= m.end || plt.index + plt[0].length <= m.start)\n          )\n      )\n      .filter(\n        (plt) =>\n          !claims[currentClaimNum - 1].preUsedElements\n            // .filter((pUsed) => !values.find((ee) => pUsed.value.endsWith(ee)))\n            .filter((pUsed) => !values.find((ee) => pUsed.value === ee))\n            .some(\n              (m) =>\n                !(plt.index >= m.end || plt.index + plt[0].length <= m.start)\n            )\n      )\n      .filter(\n        (plt) =>\n          !claims[currentClaimNum - 1].usedElements.some(\n            (m) => !(plt.index >= m.end || plt.index + plt[0].length <= m.start)\n          )\n      );\n    allUsedElements.forEach((mm) => {\n      claims[currentClaimNum - 1].usedElements.push({\n        end: mm.index + mm[0].length,\n        group: prevItem.group,\n        item: prevItem.item,\n        start: mm.index,\n        type: \"usedElement\",\n        value: mm[0],\n        claimNum: currentClaimNum,\n      });\n    });\n  } while (searchClaimsNum.length > 0);\n}\n\nfunction getValues(key, descriptionOfElementMap, figureOfDrawingsMap) {\n  const values = [\n    ...((descriptionOfElementMap[key] &&\n      descriptionOfElementMap[key].values.filter((v) => v !== \"\")) ||\n      []),\n    ...((figureOfDrawingsMap[key] &&\n      figureOfDrawingsMap[key].values.filter((v) => v !== \"\")) ||\n      []),\n  ];\n\n  Object.keys(descriptionOfElementMap)\n    .filter((k) => k.startsWith(`${key}_duplicate`))\n    .forEach((k) => values.push(...descriptionOfElementMap[k].values));\n\n  return values;\n}\n\nfunction isValueExisted(value, descriptionOfElementMap, figureOfDrawingsMap) {\n  return [\n    ...Object.values(descriptionOfElementMap),\n    ...Object.values(figureOfDrawingsMap),\n  ]\n    .map((v) => v.values)\n    .flat()\n    .find((v) => v === value);\n}\n","export const processTFAndBA = (data, essentialData, dataType) => {\n  try {\n    tryToProcessTFAndBA(data, essentialData, dataType);\n  } catch (error) {\n    if (dataType === \"technical-field\") {\n      essentialData.technicalField.push({\n        singlePara: \"Sorry! 技術領域內容無法分析...\",\n        general: \"\"\n      });\n    } else {\n      essentialData.backgroundArt.push({\n        singlePara: \"Sorry! 先前技術內容無法分析...\",\n        general: \"\"\n      });\n    }\n  }\n};\n\nconst tryToProcessTFAndBA = (data, essentialData, dataType) => {\n  const TFOrBA = data.children;\n  TFOrBA.forEach((paragraph, pIndex) => {\n    let singlePara = \"\";\n    let general = \"\";\n    try {\n      const elements = paragraph.children;\n      // console.log(paragraph);\n      general = paragraph.attributes.general || \"\";\n\n      for (let i = 0; i < elements.length; i++) {\n        if (\n          (elements[i].name === \"sub\" || elements[i].name === \"sup\") &&\n          elements[i].value === \"\" &&\n          elements[i].children.length > 0 &&\n          elements[i].children[0].value > 0\n        ) {\n          singlePara += elements[i].children[0].value\n            .replace(/[↵\\n]/g, \"\")\n            .trim();\n        } else if (\n          elements[i].type === \"text\" &&\n          elements[i].value.length > 0\n        ) {\n          singlePara += elements[i].value.replace(/[↵\\n]/g, \"\").trim();\n        }\n      }\n    } catch (error) {\n      singlePara = `無法分析段落${pIndex}}`;\n    } finally {\n      if (dataType === \"technical-field\") {\n        essentialData.technicalField.push({ singlePara, general });\n      } else {\n        essentialData.backgroundArt.push({ singlePara, general });\n      }\n    }\n  });\n};\n","export const generateErrorExp = (essentialData) => {\n  if (\n    essentialData.applicationNum[3] !== \"1\" &&\n    /(方法|程序|流程|步驟)$/.test(essentialData.utilityModelTitle)\n  ) {\n    const message =\n      \"本案「新型名稱」含有方法、步驟、流程或類似用語，反映其申請標的非屬專利法第104條所規定對物品之形狀、構造或組合之創作。\";\n    essentialData.allErrors.title.push({ message });\n    essentialData.allErrors_v2.law_104.push(message);\n  }\n\n  // descriptionOfElementMap\n  const descriptionOfElementMapDuplicate = [];\n  Object.keys(essentialData.descriptionOfElementMap).forEach((key) => {\n    if (essentialData.descriptionOfElementMap[key].status === \"key duplicate\") {\n      const first = `「${\n        essentialData.descriptionOfElementMap[key].values[0]\n      }（${key.slice(0, key.indexOf(\"_duplicate\"))}）」`;\n      const last = `「${\n        essentialData.descriptionOfElementMap[\n          key.slice(0, key.indexOf(\"_duplicate\"))\n        ].values[0]\n      }（${key.slice(0, key.indexOf(\"_duplicate\"))}）」`;\n      essentialData.allErrors.descriptionOfElementMap.push({\n        message: `本案「符號說明」所述之構件${first}其符號與「符號說明」所述之構件${last}重複，應予修正。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n      });\n      descriptionOfElementMapDuplicate.push({ first, last });\n    }\n  });\n  if (descriptionOfElementMapDuplicate.length > 0) {\n    const message = `說明書之「符號說明」所述之構件其符號重複：${descriptionOfElementMapDuplicate\n      .map(({ first, last }) => `${first}與${last}`)\n      .join(\"；\")}。【摘要、說明書及圖式其餘部分請一併確認及修正】`;\n    essentialData.allErrors_v2.no_law.push(message);\n  }\n\n  // figureOfDrawingsMap\n  const figureOfDrawingsMapDuplicate = [];\n  const figureOfDrawingsInconsistent = [];\n  Object.keys(essentialData.figureOfDrawingsMap).forEach((key) => {\n    if (essentialData.figureOfDrawingsMap[key].status === \"key duplicate\") {\n      const first = `「${\n        essentialData.figureOfDrawingsMap[key].values[0]\n      }（${key.slice(0, key.indexOf(\"_duplicate\"))}）」`;\n      const last = `「${\n        essentialData.figureOfDrawingsMap[\n          key.slice(0, key.indexOf(\"_duplicate\"))\n        ].values[0]\n      }（${key.slice(0, key.indexOf(\"_duplicate\"))}）」`;\n      essentialData.allErrors.figureOfDrawingsMap.push({\n        message: `本案「代表圖之符號簡單說明」所述之構件${first}其符號與「代表圖之符號簡單說明」所述之構件${last}重複，應予修正。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n      });\n      figureOfDrawingsMapDuplicate.push({ first, last });\n    }\n    if (\n      essentialData.figureOfDrawingsMap[key].status === \"element inconsistent\"\n    ) {\n      const figureEl = essentialData.figureOfDrawingsMap[key].values[0];\n      const descriptionEl =\n        essentialData.descriptionOfElementMap[key]?.values?.[0];\n      if (figureEl && descriptionEl)\n        figureOfDrawingsInconsistent.push({ key, figureEl, descriptionEl });\n    }\n  });\n  if (figureOfDrawingsMapDuplicate.length > 0) {\n    const message = `摘要之「代表圖之符號簡單說明」所述之構件其符號重複：${figureOfDrawingsMapDuplicate\n      .map(({ first, last }) => `${first}與${last}`)\n      .join(\"；\")}。【摘要、說明書及圖式其餘部分請一併確認及修正】`;\n    essentialData.allErrors_v2.no_law.push(message);\n  }\n  if (figureOfDrawingsInconsistent.length > 0) {\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第22條第1項規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」`,\n      message: `摘要之【代表圖符號簡單說明】記載之${figureOfDrawingsInconsistent\n        .map(({ key, figureEl }) => `「${figureEl}（${key}）」`)\n        .join(\"、\")}與說明書之【符號說明】記載之${figureOfDrawingsInconsistent\n        .map(({ key, descriptionEl }) => `「${descriptionEl}（${key}）」`)\n        .join(\"、\")}，其用語不一致。`,\n    });\n  }\n\n  // failedDescriptionOfElementMap\n  const failedDescriptionOfElementMapArr = [];\n  essentialData.failedDescriptionOfElementMap.forEach(({ num, el }) => {\n    essentialData.allErrors.system.push({\n      message: `本案「符號說明」第${\n        num + 1\n      }行所述之元件名稱及符號「${el}」系統無法判別，建議修正此元件後再重新分析。`,\n    });\n    failedDescriptionOfElementMapArr.push({ row: num + 1, el });\n  });\n  if (failedDescriptionOfElementMapArr.length > 0) {\n    const message = `本案「符號說明」所述之元件名稱及符號系統無法判別，建議修正此元件後再重新分析：${failedDescriptionOfElementMapArr\n      .map(({ row, el }) => `「${el}」（第${row}行）`)\n      .join(\"；\")}。`;\n    essentialData.allErrors_v2.system_fail.push(message);\n  }\n\n  // failedFigureOfDrawingsMap\n  const failedFigureOfDrawingsMapArr = [];\n  essentialData.failedFigureOfDrawingsMap.forEach(({ num, el }) => {\n    essentialData.allErrors.system.push({\n      message: `本案「代表圖之符號簡單說明」第${\n        num + 1\n      }行所述之元件名稱及符號「${el}」系統無法判別，建議修正此元件後再重新分析。`,\n    });\n    failedFigureOfDrawingsMapArr.push({ row: num + 1, el });\n  });\n  if (failedFigureOfDrawingsMapArr.length > 0) {\n    const message = `本案「代表圖之符號簡單說明」所述之元件名稱及符號系統無法判別，建議修正此元件後再重新分析：${failedFigureOfDrawingsMapArr\n      .map(({ row, el }) => `「${el}」（第${row}行）`)\n      .join(\"；\")}。`;\n    essentialData.allErrors_v2.system_fail.push(message);\n  }\n\n  // allDisclosureParagraphDetails -> paragraphMatch -> wrongs\n  const disclosureKeyUnmatch = {};\n  const disclosureNameUnmatch = {};\n  const disclosureWrongWords = {};\n  essentialData.allDisclosureParagraphDetails.forEach((para) => {\n    const general = para.general;\n    para.paragraphMatch.wrongs.forEach(\n      ({ group, item, value, fullValue, wrongKeys }) => {\n        const correctKeyInDescriptionOfElement =\n          getKeyInDescriptionOfElementMapCorrect(essentialData, item, group);\n        const correctKeyInFigureOfDrawingsMap =\n          getKeyInFigureOfDrawingsMapCorrect(essentialData, item, group);\n        const correctNameInDescriptionOfElementMap =\n          getNameInDescriptionOfElementMapCorrect(essentialData, wrongKeys);\n        const correctNameInFigureOfDrawingsMap =\n          getNameInFigureOfDrawingsMapCorrect(essentialData, wrongKeys);\n\n        if (\n          correctKeyInDescriptionOfElement ||\n          correctKeyInFigureOfDrawingsMap\n        ) {\n          // 元件名稱正確 符號錯誤\n          let midMessage;\n          if (\n            correctKeyInDescriptionOfElement &&\n            correctKeyInFigureOfDrawingsMap\n          ) {\n            midMessage = `，與「符號說明」及「代表圖之符號簡單說明」`;\n          } else if (\n            correctKeyInDescriptionOfElement &&\n            !correctKeyInFigureOfDrawingsMap\n          ) {\n            midMessage = `，與「符號說明」`;\n          } else {\n            midMessage = `，與「代表圖之符號簡單說明」`;\n          }\n          const unMatch = `「${fullValue || value || item}（${wrongKeys\n            .filter((k) => k !== \"\")\n            .join(\"）、（\")}）」`;\n          const unMatchWith = `「${fullValue || value || item}　（${\n            correctKeyInDescriptionOfElement || correctKeyInFigureOfDrawingsMap\n          }）」`;\n          essentialData.allErrors.allDisclosureParagraphDetails.push({\n            message: `依專利法施行細則${\n              essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n            }第22條第1項之規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」本案「說明書」之「${\n              essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"\n            }內容」內容之記載未依前開規定之格式撰寫（段落編號【${general}】第　、　行 ／ 第　頁第　、　行之構件${unMatch}${midMessage}所述之構件${unMatchWith}，其符號不一致，應予修正。查違反專利法${\n              essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n            }第26條第4項之規定。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n          });\n          if (!disclosureKeyUnmatch[`${unMatch}@@@${unMatchWith}`])\n            disclosureKeyUnmatch[`${unMatch}@@@${unMatchWith}`] = [\n              {\n                unMatch,\n                unMatchWith,\n                general,\n                unMatchMsg: midMessage.slice(2),\n              },\n            ];\n          else\n            disclosureKeyUnmatch[`${unMatch}@@@${unMatchWith}`].push({\n              unMatch,\n              unMatchWith,\n              general,\n              unMatchMsg: midMessage.slice(2),\n            });\n        } else if (\n          correctNameInDescriptionOfElementMap ||\n          correctNameInFigureOfDrawingsMap\n        ) {\n          // 符號正確  元件名稱錯誤\n          let midMessage;\n          if (\n            correctNameInDescriptionOfElementMap &&\n            correctNameInFigureOfDrawingsMap\n          ) {\n            midMessage = `，與「符號說明」及「代表圖之符號簡單說明」`;\n          } else if (\n            correctNameInDescriptionOfElementMap &&\n            !correctNameInFigureOfDrawingsMap\n          ) {\n            midMessage = `，與「符號說明」`;\n          } else {\n            midMessage = `，與「代表圖之符號簡單說明」`;\n          }\n          const unMatch = `「${item}（${wrongKeys\n            .filter((k) => k !== \"\")\n            .join(\"）、（\")}）」`;\n          const unMatchWith = `「${\n            correctNameInDescriptionOfElementMap ||\n            correctNameInFigureOfDrawingsMap\n          }　（${wrongKeys.filter((k) => k !== \"\").join(\"）、（\")}）」`;\n          essentialData.allErrors.allDisclosureParagraphDetails.push({\n            message: `依專利法施行細則${\n              essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n            }第22條第1項之規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」本案「說明書」之「${\n              essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"\n            }內容」內容之記載未依前開規定之格式撰寫（段落編號【${general}】第　、　行 ／ 第　頁第　、　行之構件${unMatch}${midMessage}所述之構件${unMatchWith}，其名稱用語不一致，應予修正。查違反專利法${\n              essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n            }第26條第4項之規定。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n          });\n          if (!disclosureNameUnmatch[`${unMatch}@@@${unMatchWith}`])\n            disclosureNameUnmatch[`${unMatch}@@@${unMatchWith}`] = [\n              {\n                unMatch,\n                unMatchWith,\n                general,\n                unMatchMsg: midMessage.slice(2),\n              },\n            ];\n          else\n            disclosureNameUnmatch[`${unMatch}@@@${unMatchWith}`].push({\n              unMatch,\n              unMatchWith,\n              general,\n              unMatchMsg: midMessage.slice(2),\n            });\n        }\n      }\n    );\n\n    para.paragraphMatch.wrongWords.forEach(({ value }) => {\n      essentialData.allErrors.allDisclosureParagraphDetails.push({\n        message: `「說明書」之「新型內容」（段落編號【${general}】第　、　行 ／ 第　頁第　、　行）中，其所述之文字敘述「${value}」，應修正為「本創作」、「本新型」或其它屬新型之用語，應予修正。`,\n      });\n      if (!disclosureWrongWords[value]) disclosureWrongWords[value] = [general];\n      else disclosureWrongWords[value].push(general);\n    });\n  });\n  if (Object.keys(disclosureKeyUnmatch).length > 0) {\n    const subMessageArr = Object.keys(disclosureKeyUnmatch)\n      .map((key) => ({\n        unMatch: disclosureKeyUnmatch[key][0].unMatch,\n        unMatchWith: disclosureKeyUnmatch[key][0].unMatchWith,\n        unMatchMsg: disclosureKeyUnmatch[key].every(\n          ({ unMatchMsg }) => unMatchMsg === \"「代表圖之符號簡單說明」\"\n        )\n          ? \"代表圖之符號簡單說明\"\n          : \"符號說明\",\n        generals: disclosureKeyUnmatch[key].map(({ general }) => general),\n      }))\n      .map(\n        ({ unMatch, unMatchWith, unMatchMsg, generals }) =>\n          `${unMatch}（${generals\n            .map((g) => `段落[${g}]第　行`)\n            .join(\"、\")}）與${unMatchWith}（${unMatchMsg}）`\n      )\n      .join(\"；\");\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第22條第1項規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」`,\n      message:\n        `說明書之「${\n          essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"\n        }內容」記載之符號不一致：` +\n        subMessageArr +\n        \"。\",\n    });\n  }\n  if (Object.keys(disclosureNameUnmatch).length > 0) {\n    const subMessageArr = Object.keys(disclosureNameUnmatch)\n      .map((key) => ({\n        unMatch: disclosureNameUnmatch[key][0].unMatch,\n        unMatchWith: disclosureNameUnmatch[key][0].unMatchWith,\n        unMatchMsg: disclosureNameUnmatch[key].every(\n          ({ unMatchMsg }) => unMatchMsg === \"「代表圖之符號簡單說明」\"\n        )\n          ? \"代表圖之符號簡單說明\"\n          : \"符號說明\",\n        generals: disclosureNameUnmatch[key].map(({ general }) => general),\n      }))\n      .map(\n        ({ unMatch, unMatchWith, unMatchMsg, generals }) =>\n          `${unMatch}（${generals\n            .map((g) => `段落[${g}]第　行`)\n            .join(\"、\")}）與${unMatchWith}（${unMatchMsg}）`\n      )\n      .join(\"；\");\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第22條第1項規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」`,\n      message:\n        `說明書之「${\n          essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"\n        }內容」記載之技術用語不一致：` +\n        subMessageArr +\n        \"。\",\n    });\n  }\n  if (Object.keys(disclosureWrongWords).length > 0) {\n    const subMessageArr = Object.keys(disclosureWrongWords)\n      .map(\n        (key) =>\n          `「${key}」（` +\n          Array.from(new Set(disclosureWrongWords[key]))\n            .map((g) => `段落[${g}]第　行`)\n            .join(\"、\") +\n          \"）\"\n      )\n      .join(\"；\");\n    essentialData.allErrors_v2.no_law.push(\n      \"說明書之「新型內容」，其所述之文字敘述\" +\n        subMessageArr +\n        \"，應修正為「本創作」、「本新型」或其它屬新型之用語。\"\n    );\n  }\n\n  // allModeForInventionParagraphDetails -> paragraphMatch -> wrong\n  const modeForInventionKeyUnmatch = {};\n  const modeForInventionNameUnmatch = {};\n  const modeForInventionWrongWords = {};\n  const modeForInventionFiguresErrors = {};\n  essentialData.allModeForInventionParagraphDetails.forEach((para) => {\n    const general = para.general;\n    para.paragraphMatch.wrongs.forEach(\n      ({ group, item, value, fullValue, wrongKeys }) => {\n        const correctKeyInDescriptionOfElement =\n          getKeyInDescriptionOfElementMapCorrect(essentialData, item, group);\n        const correctKeyInFigureOfDrawingsMap =\n          getKeyInFigureOfDrawingsMapCorrect(essentialData, item, group);\n        const correctNameInDescriptionOfElementMap =\n          getNameInDescriptionOfElementMapCorrect(essentialData, wrongKeys);\n        const correctNameInFigureOfDrawingsMap =\n          getNameInFigureOfDrawingsMapCorrect(essentialData, wrongKeys);\n\n        if (\n          correctKeyInDescriptionOfElement ||\n          correctKeyInFigureOfDrawingsMap\n        ) {\n          // 元件名稱正確 符號錯誤\n          let midMessage;\n          if (\n            correctKeyInDescriptionOfElement &&\n            correctKeyInFigureOfDrawingsMap\n          ) {\n            midMessage = `，與「符號說明」及「代表圖之符號簡單說明」`;\n          } else if (\n            correctKeyInDescriptionOfElement &&\n            !correctKeyInFigureOfDrawingsMap\n          ) {\n            midMessage = `，與「符號說明」`;\n          } else {\n            midMessage = `，與「代表圖之符號簡單說明」`;\n          }\n          const unMatch = `「${fullValue || value || item}（${wrongKeys\n            .filter((k) => k !== \"\")\n            .join(\"）、（\")}）」`;\n          const unMatchWith = `「${fullValue || value || item}（${\n            correctKeyInDescriptionOfElement || correctKeyInFigureOfDrawingsMap\n          }）」`;\n          essentialData.allErrors.allModeForInventionParagraphDetails.push({\n            message: `依專利法施行細則${\n              essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n            }第22條第1項之規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」本案「說明書」之「實施方式」內容之記載未依前開規定之格式撰寫（段落編號【${general}】第　、　行 ／ 第　頁第　、　行之構件${unMatch}${midMessage}所述之構件${unMatchWith}，其符號不一致，應予修正。查違反專利法${\n              essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n            }第26條第4項之規定。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n          });\n          if (!modeForInventionKeyUnmatch[`${unMatch}@@@${unMatchWith}`])\n            modeForInventionKeyUnmatch[`${unMatch}@@@${unMatchWith}`] = [\n              {\n                unMatch,\n                unMatchWith,\n                general,\n                unMatchMsg: midMessage.slice(2),\n              },\n            ];\n          else\n            modeForInventionKeyUnmatch[`${unMatch}@@@${unMatchWith}`].push({\n              unMatch,\n              unMatchWith,\n              general,\n              unMatchMsg: midMessage.slice(2),\n            });\n        } else if (\n          correctNameInDescriptionOfElementMap ||\n          correctNameInFigureOfDrawingsMap\n        ) {\n          // 符號正確  元件名稱錯誤\n          let midMessage;\n          if (\n            correctNameInDescriptionOfElementMap &&\n            correctNameInFigureOfDrawingsMap\n          ) {\n            midMessage = `，與「符號說明」及「代表圖之符號簡單說明」`;\n          } else if (\n            correctNameInDescriptionOfElementMap &&\n            !correctNameInFigureOfDrawingsMap\n          ) {\n            midMessage = `，與「符號說明」`;\n          } else {\n            midMessage = `，與「代表圖之符號簡單說明」`;\n          }\n          const unMatch = `「${item}（${wrongKeys\n            .filter((k) => k !== \"\")\n            .join(\"）、（\")}）」`;\n          const unMatchWith = `「${\n            correctNameInDescriptionOfElementMap ||\n            correctNameInFigureOfDrawingsMap\n          }（${wrongKeys.filter((k) => k !== \"\").join(\"）、（\")}）」`;\n          essentialData.allErrors.allModeForInventionParagraphDetails.push({\n            message: `依專利法施行細則${\n              essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n            }第22條第1項之規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」本案「說明書」之「實施方式」內容之記載未依前開規定之格式撰寫（段落編號【${general}】第　、　行 ／ 第　頁第　、　行之構件${unMatch}${midMessage}所述之構件${unMatchWith}，其名稱用語不一致，應予修正。查違反專利法${\n              essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n            }第26條第4項之規定。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n          });\n          if (!modeForInventionNameUnmatch[`${unMatch}@@@${unMatchWith}`])\n            modeForInventionNameUnmatch[`${unMatch}@@@${unMatchWith}`] = [\n              {\n                unMatch,\n                unMatchWith,\n                general,\n                unMatchMsg: midMessage.slice(2),\n              },\n            ];\n          else\n            modeForInventionNameUnmatch[`${unMatch}@@@${unMatchWith}`].push({\n              unMatch,\n              unMatchWith,\n              general,\n              unMatchMsg: midMessage.slice(2),\n            });\n        }\n      }\n    );\n\n    para.paragraphMatch.wrongWords.forEach(({ value }) => {\n      essentialData.allErrors.allModeForInventionParagraphDetails.push({\n        message: `「說明書」之「實施方式」（段落編號【${general}】第　、　行 ／ 第　頁第　、　行）中，其所述之文字敘述「${value}」，應修正為「本創作」、「本新型」或其它屬新型之用語，應予修正。`,\n      });\n      if (!modeForInventionWrongWords[value])\n        modeForInventionWrongWords[value] = [general];\n      else modeForInventionWrongWords[value].push(general);\n    });\n\n    para.paragraphMatch.figuresErrors.forEach(({ fig }) => {\n      essentialData.allErrors.allModeForInventionParagraphDetails.push({\n        message: `依專利法施行細則${\n          essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n        }第17條第1項第6款規定，說明書之「實施方式」必須敘明：記載一個以上之實施方式，必要時得以實施例說明；有圖式者，應參照圖式加以說明。本案「實施方式」之記載未依前開規定之格式撰寫（段落[${general}]第　行所述之${fig}未揭露於圖式）。查違反專利法${\n          essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n        }第26條第4項規定。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n      });\n      if (!modeForInventionFiguresErrors[general])\n        modeForInventionFiguresErrors[general] = [fig];\n      else modeForInventionFiguresErrors[general].push(fig);\n    });\n  });\n  if (Object.keys(modeForInventionKeyUnmatch).length > 0) {\n    const subMessageArr = Object.keys(modeForInventionKeyUnmatch)\n      .map((key) => ({\n        unMatch: modeForInventionKeyUnmatch[key][0].unMatch,\n        unMatchWith: modeForInventionKeyUnmatch[key][0].unMatchWith,\n        unMatchMsg: modeForInventionKeyUnmatch[key].every(\n          ({ unMatchMsg }) => unMatchMsg === \"「代表圖之符號簡單說明」\"\n        )\n          ? \"代表圖之符號簡單說明\"\n          : \"符號說明\",\n        generals: modeForInventionKeyUnmatch[key].map(({ general }) => general),\n      }))\n      .map(\n        ({ unMatch, unMatchWith, unMatchMsg, generals }) =>\n          `${unMatch}（${generals\n            .map((g) => `段落[${g}]第　行`)\n            .join(\"、\")}）與${unMatchWith}（${unMatchMsg}）`\n      )\n      .join(\"；\");\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第22條第1項規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」`,\n      message: \"說明書之「實施方式」記載之符號不一致：\" + subMessageArr + \"。\",\n    });\n  }\n  if (Object.keys(modeForInventionNameUnmatch).length > 0) {\n    const subMessageArr = Object.keys(modeForInventionNameUnmatch)\n      .map((key) => ({\n        unMatch: modeForInventionNameUnmatch[key][0].unMatch,\n        unMatchWith: modeForInventionNameUnmatch[key][0].unMatchWith,\n        unMatchMsg: modeForInventionNameUnmatch[key].every(\n          ({ unMatchMsg }) => unMatchMsg === \"「代表圖之符號簡單說明」\"\n        )\n          ? \"代表圖之符號簡單說明\"\n          : \"符號說明\",\n        generals: modeForInventionNameUnmatch[key].map(\n          ({ general }) => general\n        ),\n      }))\n      .map(\n        ({ unMatch, unMatchWith, unMatchMsg, generals }) =>\n          `${unMatch}（${generals\n            .map((g) => `段落[${g}]第　行`)\n            .join(\"、\")}）與${unMatchWith}（${unMatchMsg}）`\n      )\n      .join(\"；\");\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第22條第1項規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」`,\n      message:\n        \"說明書之「實施方式」記載之技術用語不一致：\" + subMessageArr + \"。\",\n    });\n  }\n  if (Object.keys(modeForInventionWrongWords).length > 0) {\n    const subMessageArr = Object.keys(modeForInventionWrongWords)\n      .map(\n        (key) =>\n          `「${key}」（` +\n          Array.from(new Set(modeForInventionWrongWords[key]))\n            .map((g) => `段落[${g}]第　行`)\n            .join(\"、\") +\n          \"）\"\n      )\n      .join(\"；\");\n    essentialData.allErrors_v2.no_law.push(\n      \"說明書之「實施方式」，其所述之文字敘述\" +\n        subMessageArr +\n        \"，應修正為「本創作」、「本新型」或其它屬新型之用語。\"\n    );\n  }\n  if (Object.keys(modeForInventionFiguresErrors).length > 0) {\n    const subMessageArr = Object.keys(modeForInventionFiguresErrors)\n      .map(\n        (general) =>\n          `段落[${general}]` +\n          Array.from(new Set(modeForInventionFiguresErrors[general]))\n            .map((fig) => `第　行所述之${fig}`)\n            .join(\"、\")\n      )\n      .join(\"；\");\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第17條第1項第6款規定，說明書之「實施方式」必須敘明：記載一個以上之實施方式，必要時得以實施例說明；有圖式者，應參照圖式加以說明。`,\n      message:\n        \"本案「實施方式」內容之記載未依前開規定之格式撰寫（未參照圖式加以說明：\" +\n        subMessageArr +\n        \"未揭露於圖式）。\",\n    });\n  }\n\n  // allClaimsDetails\n  const claimErrors = {\n    unknown: [],\n    分析此請求項時發生問題: [],\n    multi2multiRefErrors: [],\n    invalidStarts: [],\n    singleSentences: [],\n    noBrackets: {},\n    titleNoMatches: [],\n    invalidAttaches: [],\n    multi2multiNoSelects: [],\n    不當依附: {},\n    未揭示: {},\n    compKeyUnmatch: {},\n    compNameUnmatch: {},\n    對應關係未敘明: {},\n    invalidClaimTitle: [],\n    請求項之標的名稱不相符: {},\n  };\n  essentialData.allClaimsDetails.forEach((claim) => {\n    const num = claim.num;\n    claim.errors.forEach(\n      ({\n        message,\n        name,\n        wrongKeys,\n        mainElement,\n        errorContent,\n        otherMainElement,\n        utilityModelTitle,\n      }) => {\n        if (!message) {\n          return;\n        }\n        // system error\n        if (claim.type === \"unknown\") {\n          essentialData.allErrors.system.push({\n            message: `本案「申請專利範圍」第${num}項的內容系統無法判別，建議修正此請求項後再重新分析。`,\n          });\n          claimErrors[\"unknown\"].push(num);\n          return;\n        }\n        if (message === \"分析此請求項時發生問題\") {\n          essentialData.allErrors.system.push({\n            message: `本案「申請專利範圍」第${num}項的內容系統分析此請求項時發生問題，建議修正此請求項後再重新分析。`,\n          });\n          claimErrors[\"分析此請求項時發生問題\"].push(num);\n          return;\n        }\n\n        try {\n          if (\n            /^本請求項所依附之請求項[0-9]+為多項附屬項[直間]接依附多項附屬項/.test(\n              message\n            )\n          ) {\n            essentialData.allErrors.allClaimsDetails.push({\n              message: `依專利法施行細則${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n              }第18條第5項之規定：「…。但多項附屬項間不得直接或間接依附。」本案「申請專利範圍」第${num}項內容之記載未依前開規定之格式撰寫（該項係為多項附屬項，依規定不得直接或間接依附於多項附屬項第${\n                message.match(/[0-9]+/)[0]\n              }項），應予修正。查違反專利法${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n              }第26條第4項之規定。`,\n            });\n            claimErrors.multi2multiRefErrors.push(\n              `請求項${num}（多項附屬項）直接或間接依附請求項${\n                message.match(/[0-9]+/)[0]\n              }（多項附屬項）。`\n            );\n          } else if (\n            /不符合附屬項之記載形式/.test(message) ||\n            message.startsWith(\"附屬項未以「如」、「依據」或「根據」等用語開頭\")\n          ) {\n            essentialData.allErrors.allClaimsDetails.push({\n              message: `申請專利範圍第${num}項（附屬項），其文字開頭應修正為「如申請專利範圍第X項所述之……」或「如請求項X所述之……」（其中X為阿拉伯數字），以符合附屬項之記載形式，應予修正。`,\n            });\n            claimErrors.invalidStarts.push(num);\n          } else if (/^請求項未以單句為之/.test(message)) {\n            essentialData.allErrors.allClaimsDetails.push({\n              message: `依專利法施行細則${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n              }第18條第6項之規定：「。獨立項或附屬項之文字敘述，應以單句為之」本案「申請專利範圍」第${num}項內容之記載未依前開規定之格式撰寫（${\n                message.includes(\"句號在句中\")\n                  ? \"於句中出現句點為不當之處\"\n                  : \"文字敘述未以單句為之\"\n              }），應予修正。查違反專利法${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n              }第26條第4項之規定。`,\n            });\n            claimErrors.singleSentences.push({\n              num,\n              msg: message.includes(\"句號在句中\")\n                ? \"於句中出現句點為不當之處\"\n                : \"文字敘述未以句點結束\",\n            });\n          } else if (/的符號未置於括號內/.test(message)) {\n            const name = `「${message.match(/「.*」/)[0].slice(1, -1)}」`;\n            essentialData.allErrors.allClaimsDetails.push({\n              message: `依專利法施行細則${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n              }第19條第2項規定：「請求項之技術特徵得引用圖式中對應之符號，該符號應附加於對應之技術特徵後，並置於括號內；…。」本案「申請專利範圍」第${num}項第　行內容${name}之記載未依前開規定之格式撰寫（申請專利範圍之符號應全部引用並置於括號內或將申請專利範圍中之符號全數加以刪除），應予修正。查違反專利法${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n              }第26條第4項之規定。`,\n            });\n            if (!claimErrors.noBrackets[name])\n              claimErrors.noBrackets[name] = [num];\n            else claimErrors.noBrackets[name].push(num);\n          } else if (\n            /^本請求項標的名稱「.+?」與所依附之請求項\\([0-9]+\\)之標的名稱「.+?」用語不一致/.test(\n              message\n            )\n          ) {\n            const elNames = [...message.matchAll(/「.+?」/g)].map((m) =>\n              m[0].slice(1, -1)\n            );\n            const refClaimNum = message\n              .match(/請求項\\([0-9]+\\)/)[0]\n              .slice(4, -1);\n            essentialData.allErrors.allClaimsDetails.push({\n              message: `依專利法施行細則${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n              }第22條第1項之規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」本案請求項第${num}項內容之記載未依前開規定之格式撰寫（該項所述標的名稱「${\n                elNames[0]\n              }」，與直接或間接依附之請求項第${refClaimNum}項標的名稱「${\n                elNames[1]\n              }」，其名稱用語不一致），應予修正。查違反專利法${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n              }第26條第4項之規定。`,\n            });\n            claimErrors.titleNoMatches.push({\n              num,\n              prevNum: refClaimNum,\n              name: elNames[0],\n              prevName: elNames[1],\n            });\n          } else if (\n            /^請求項[0-9]+即為本身，不可依附自己/.test(message) ||\n            /^請求項[0-9]+不在該請求項之前或不存在/.test(message)\n          ) {\n            essentialData.allErrors.allClaimsDetails.push({\n              message: `依專利法施行細則${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n              }第18條第5項之規定：「附屬項僅得依附在前之獨立項或附屬項。…。」本案「申請專利範圍」第${num}項內容之記載未依前開規定之格式撰寫（該項所依附之申請專利範圍項號第${\n                message.match(/[0-9]+/)[0]\n              }項有誤），應予修正。查違反專利法${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n              }第26條第4項之規定。`,\n            });\n            claimErrors.invalidAttaches.push(num);\n          } else if (/^多項附屬項未以選擇式為之/.test(message)) {\n            essentialData.allErrors.allClaimsDetails.push({\n              message: `依專利法施行細則${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n              }第18條第4項之規定：「依附於二項以上之附屬項為多項附屬項，應以選擇式為之。」本案「申請專利範圍」第${num}項內容之記載未依前開規定之格式撰寫（該項係為多項附屬項，未以選擇式為之），應予修正。查違反專利法${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n              }第26條第4項之規定。`,\n            });\n            claimErrors.multi2multiNoSelects.push(num);\n          } else if (/^元件名稱「.+?」未見於本請求項先前內容/.test(message)) {\n            let dispMsg;\n            const eln = message.match(/「.+?」/)[0].slice(1, -1);\n            if (claim.type === \"independent\") {\n              dispMsg = `申請專利範圍第${num}項（獨立項）第　行所述之構件「${eln}」，於該構件前之文字敘述未揭露該構件，應予修正。查違反專利法第112條第5款之規定。【摘要、說明書及圖式其餘部分請一併確認及修正】`;\n              if (!claimErrors[\"未揭示\"][num])\n                claimErrors[\"未揭示\"][num] = [eln];\n              else claimErrors[\"未揭示\"][num].push(eln);\n            } else {\n              const prevClaimNum = message\n                .match(/\\([0-9]+\\)/)?.[0]\n                .slice(1, -1);\n              dispMsg = `依專利法施行細則${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n              }第18條第1項之規定：「…。獨立項、附屬項，應以其依附關係，依序以阿拉伯數字編號排列。」本案「申請專利範圍」第${num}項內容之記載未依前開規定之格式撰寫（該項第　行所述之構件「${eln}」，於${\n                prevClaimNum\n                  ? \"所依附申請專利範圍第\" + prevClaimNum + \"項中未揭示此構件\"\n                  : \"該構件前之文字敘述未揭露該構件\"\n              }，係不當依附），應予修正。查違反專利法${\n                essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n              }第26條第4項規定之規定。【摘要、說明書其餘部分請一併確認及修正】`;\n              if (!claimErrors[\"不當依附\"][num])\n                claimErrors[\"不當依附\"][num] = [\n                  { name: eln, prevNum: prevClaimNum },\n                ];\n              else\n                claimErrors[\"不當依附\"][num].push({\n                  name: eln,\n                  prevNum: prevClaimNum,\n                });\n            }\n            essentialData.allErrors.allClaimsDetails.push({\n              message: dispMsg,\n            });\n          } else if (/^「.+?」的元件名稱或符號錯誤/.test(message)) {\n            const correctKeyInDescriptionOfElement =\n              getKeyInDescriptionOfElementMapCorrect(\n                essentialData,\n                name,\n                \"abc\"\n              );\n            const correctKeyInFigureOfDrawingsMap =\n              getKeyInFigureOfDrawingsMapCorrect(essentialData, name, \"abc\");\n            const correctNameInDescriptionOfElementMap =\n              getNameInDescriptionOfElementMapCorrect(essentialData, wrongKeys);\n            const correctNameInFigureOfDrawingsMap =\n              getNameInFigureOfDrawingsMapCorrect(essentialData, wrongKeys);\n            let eln = message.match(/「.+?」/)[0].slice(1, -1);\n            eln = eln.slice(0, eln.indexOf(\"（\"));\n\n            if (\n              correctKeyInDescriptionOfElement ||\n              correctKeyInFigureOfDrawingsMap\n            ) {\n              // 元件名稱正確 符號錯誤\n\n              let midMessage;\n              if (\n                correctKeyInDescriptionOfElement &&\n                correctKeyInFigureOfDrawingsMap\n              ) {\n                midMessage = `，與「符號說明」及「代表圖之符號簡單說明」`;\n              } else if (\n                correctKeyInDescriptionOfElement &&\n                !correctKeyInFigureOfDrawingsMap\n              ) {\n                midMessage = `，與「符號說明」`;\n              } else {\n                midMessage = `，與「代表圖之符號簡單說明」`;\n              }\n              const unMatch = `「${eln}（${wrongKeys\n                .filter((k) => k !== \"\")\n                .join(\"）、（\")}）」`;\n              const unMatchWith = `「${name}（${\n                correctKeyInDescriptionOfElement ||\n                correctKeyInFigureOfDrawingsMap\n              }）」`;\n              essentialData.allErrors.allClaimsDetails.push({\n                message: `依專利法施行細則${\n                  essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n                }第22條第1項之規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」本案「申請專利範圍」第${num}項內容之記載未依前開規定之格式撰寫（該項第　行所述之構件${unMatch}${midMessage}所述之構件${unMatchWith}，其符號不一致，應予修正。查違反專利法${\n                  essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n                }第26條第4項之規定。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n              });\n              if (!claimErrors.compKeyUnmatch[`${unMatch}@@@${unMatchWith}`])\n                claimErrors.compKeyUnmatch[`${unMatch}@@@${unMatchWith}`] = [\n                  {\n                    unMatch,\n                    unMatchWith,\n                    num,\n                    unMatchMsg: midMessage.slice(2),\n                  },\n                ];\n              else\n                claimErrors.compKeyUnmatch[`${unMatch}@@@${unMatchWith}`].push({\n                  unMatch,\n                  unMatchWith,\n                  num,\n                  unMatchMsg: midMessage.slice(2),\n                });\n            } else if (\n              correctNameInDescriptionOfElementMap ||\n              correctNameInFigureOfDrawingsMap\n            ) {\n              // 符號正確  元件名稱錯誤\n              let midMessage;\n              if (\n                correctNameInDescriptionOfElementMap &&\n                correctNameInFigureOfDrawingsMap\n              ) {\n                midMessage = `，與「符號說明」及「代表圖之符號簡單說明」`;\n              } else if (\n                correctNameInDescriptionOfElementMap &&\n                !correctNameInFigureOfDrawingsMap\n              ) {\n                midMessage = `，與「符號說明」`;\n              } else {\n                midMessage = `，與「代表圖之符號簡單說明」`;\n              }\n              const unMatch = `「${eln}（${wrongKeys\n                .filter((k) => k !== \"\")\n                .join(\"）、（\")}）」`;\n              const unMatchWith = `「${\n                correctNameInDescriptionOfElementMap ||\n                correctNameInFigureOfDrawingsMap\n              }（${wrongKeys.filter((k) => k !== \"\").join(\"）、（\")}）」`;\n              essentialData.allErrors.allClaimsDetails.push({\n                message: `依專利法施行細則${\n                  essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n                }第22條第1項之規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」本案「申請專利範圍」第${num}項內容之記載未依前開規定之格式撰寫（該項第　行所述之構件${unMatch}${midMessage}所述之構件${unMatchWith}，其名稱用語不一致，應予修正。查違反專利法${\n                  essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n                }第26條第4項之規定。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n              });\n              if (!claimErrors.compNameUnmatch[`${unMatch}@@@${unMatchWith}`])\n                claimErrors.compNameUnmatch[`${unMatch}@@@${unMatchWith}`] = [\n                  {\n                    unMatch,\n                    unMatchWith,\n                    num,\n                    unMatchMsg: midMessage.slice(2),\n                  },\n                ];\n              else\n                claimErrors.compNameUnmatch[`${unMatch}@@@${unMatchWith}`].push(\n                  {\n                    unMatch,\n                    unMatchWith,\n                    num,\n                    unMatchMsg: midMessage.slice(2),\n                  }\n                );\n            }\n          } else if (/^主要構件「.+?」，未記載與其他主要構件/.test(message)) {\n            essentialData.allErrors.allClaimsDetails.push({\n              message: `申請專利範圍第${num}項（獨立項）第　、　行所述之構件「${mainElement}」，未記載與其他構件「${otherMainElement.join(\n                \"」、「\"\n              )}」之連結或其對應關係，應予修正。查違反專利法第112條第5款之規定。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n            });\n            if (!claimErrors[\"對應關係未敘明\"][num])\n              claimErrors[\"對應關係未敘明\"][num] = [mainElement];\n            else claimErrors[\"對應關係未敘明\"][num].push(mainElement);\n          } else if (\n            /係為(方法|程序|流程|步驟)，不符新型標的之規定/.test(message)\n          ) {\n            essentialData.allErrors.allClaimsDetails.push({\n              message: `申請專利範圍第${num}項（獨立項）請求之標的係為${errorContent}，非屬物品之形狀、構造或組合者，不符新型標的之規定，應予修正。查違反專利法第104條之規定。【摘要、說明書及圖式其餘部分請一併確認及修正】`,\n            });\n            claimErrors.invalidClaimTitle.push(num);\n          } else if (\n            /^標的名稱「.+?」與專利名稱「.+?」用語不相符/.test(message)\n          ) {\n            // console.log(\"message: \", message, \", mainElement: \", mainElement);\n            // debugger;\n            if (\n              essentialData.allErrors.allClaimsDetails.find(\n                (claimErr) =>\n                  claimErr.mainElement === mainElement &&\n                  claimErr.utilityModelTitle === utilityModelTitle\n              )\n            ) {\n              const claimErrIdx =\n                essentialData.allErrors.allClaimsDetails.findIndex(\n                  (claimErr) =>\n                    claimErr.mainElement === mainElement &&\n                    claimErr.utilityModelTitle === utilityModelTitle\n                );\n              const claimErrorCtx =\n                essentialData.allErrors.allClaimsDetails[claimErrIdx];\n              essentialData.allErrors.allClaimsDetails[claimErrIdx] = {\n                ...claimErrorCtx,\n                claims: [...claimErrorCtx.claims, num],\n                message: generateInvalidMainElementMessage(\n                  mainElement,\n                  utilityModelTitle,\n                  [...claimErrorCtx.claims, num],\n                  essentialData.applicationNum[3] === \"1\"\n                ),\n              };\n            } else {\n              essentialData.allErrors.allClaimsDetails.push({\n                mainElement,\n                utilityModelTitle,\n                claims: [num],\n                message: generateInvalidMainElementMessage(\n                  mainElement,\n                  utilityModelTitle,\n                  [num],\n                  essentialData.applicationNum[3] === \"1\"\n                ),\n              });\n            }\n\n            if (!claimErrors[\"請求項之標的名稱不相符\"][mainElement])\n              claimErrors[\"請求項之標的名稱不相符\"][mainElement] = [num];\n            else claimErrors[\"請求項之標的名稱不相符\"][mainElement].push(num);\n          }\n        } catch (e) {\n          console.log(\"產生分析結果時發生問題\", e.message);\n          return;\n        }\n      }\n    );\n  });\n  if (claimErrors.unknown.length > 0) {\n    essentialData.allErrors_v2.system_fail.push(\n      `本案「申請專利範圍」第${claimErrors.unknown.join(\n        \"、\"\n      )}項的內容系統無法判別，建議修正此請求項後再重新分析。`\n    );\n  }\n  if (claimErrors[\"分析此請求項時發生問題\"].length > 0) {\n    essentialData.allErrors_v2.system_fail.push(\n      `本案「申請專利範圍」第${claimErrors[\"分析此請求項時發生問題\"].join(\n        \"、\"\n      )}項的內容分析時發生問題，建議修正此請求項後再重新分析。`\n    );\n  }\n  if (claimErrors.multi2multiRefErrors.length > 0) {\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第18條第5項後段規定：「但多項附屬項間不得直接或間接依附。」本案下列所述多項附屬項間之依附方式不符前開規定。`,\n      message: claimErrors.multi2multiRefErrors.join(\"、\"),\n    });\n  }\n  if (claimErrors.invalidStarts.length > 0) {\n    essentialData.allErrors_v2.no_law.push(\n      `申請專利範圍第${claimErrors.invalidStarts.join(\n        \"、\"\n      )}項（附屬項），其文字開頭應修正為「如申請專利範圍第X項所述之……」或「如請求項X所述之……」（其中X為阿拉伯數字），以符合附屬項之記載形式，應予修正。`\n    );\n  }\n  if (claimErrors.singleSentences.length > 0) {\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第18條第6項規定：「獨立項或附屬項之文字敘述，應以單句為之。」`,\n      message:\n        \"本案請求項未依前開規定之格式撰寫：\" +\n        claimErrors.singleSentences\n          .map(({ num, msg }) => `請求項${num}（${msg}）`)\n          .reduce((acc, cur, idx, prev) => {\n            if (prev.indexOf(cur) === idx) acc.push(cur);\n            return acc;\n          }, [])\n          .join(\"、\") +\n        \"。\",\n    });\n  }\n  if (Object.keys(claimErrors.noBrackets).length > 0) {\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第19條第2項規定：「請求項之技術特徵得引用圖式中對應之符號，該符號應附加於對應之技術特徵後，並置於括號內；……。」`,\n      message:\n        \"本案請求項未依前開規定之格式撰寫（申請專利範圍之符號應全部引用並置於括號內或將全數請求項之符號全數加以刪除）：\" +\n        Object.keys(claimErrors.noBrackets)\n          .map(\n            (name) =>\n              `${name}（` +\n              Array.from(new Set(claimErrors.noBrackets[name]))\n                .map((num) => `請求項${num}第　行`)\n                .join(\"、\") +\n              \"）\"\n          )\n          .join(\"；\") +\n        \"引用符號未置於括號內。\",\n    });\n  }\n  if (claimErrors.titleNoMatches.length > 0) {\n    claimErrors.titleNoMatches.forEach(({ num, prevNum, name, prevName }) =>\n      essentialData.allErrors_v2.law_112_3.push({\n        prefix: `依專利法施行細則${\n          essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n        }第22條第1項規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」`,\n        message: `本案請求項${num}所述標的名稱「${name}」，與直接或間接依附之請求項${prevNum}所述標的名稱「${prevName}」，其名稱用語不一致。`,\n      })\n    );\n  }\n  if (claimErrors.invalidAttaches.length > 0) {\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第18條第5項前段規定：「附屬項僅得依附在前之獨立項或附屬項。」`,\n      message:\n        \"本案請求項\" +\n        claimErrors.invalidAttaches.join(\"、\") +\n        \"未依前開規定依附在前之獨立項或附屬項。\",\n    });\n  }\n  if (claimErrors.multi2multiNoSelects.length > 0) {\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第18條第4項規定：「依附於二項以上之附屬項為多項附屬項，應以選擇式為之。」`,\n      message:\n        \"本案請求項\" +\n        claimErrors.multi2multiNoSelects.join(\"、\") +\n        \"係為多項附屬項，未以選擇式為之。\",\n    });\n  }\n  if (Object.keys(claimErrors[\"未揭示\"]).length > 0) {\n    Object.keys(claimErrors[\"未揭示\"]).forEach((num) =>\n      essentialData.allErrors_v2.law_112_5.push({\n        prefix: \"\",\n        message:\n          `請求項${num}（獨立項）所述之技術特徵` +\n          claimErrors[\"未揭示\"][num]\n            .map((name) => `「${name}」（第　行）`)\n            .reduce((acc, cur, idx, prev) => {\n              if (prev.indexOf(cur) === idx) acc.push(cur);\n              return acc;\n            }, [])\n            .join(\"、\") +\n          \"，於該技術特徵前之文字敘述未揭示【全案所述相關技術內容，請一併檢視確認或修正】。\",\n      })\n    );\n  }\n  if (Object.keys(claimErrors[\"不當依附\"]).length > 0) {\n    Object.keys(claimErrors[\"不當依附\"]).forEach((num) => {\n      if (claimErrors[\"不當依附\"][num][0].prevNum) {\n        essentialData.allErrors_v2.law_112_3.push({\n          prefix: `依專利法施行細則${\n            essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n          }第18條第1項後段規定：「獨立項、附屬項，應以其依附關係，依序以阿拉伯數字編號排列。」下列請求項間之依附關係不符前開規定。`,\n          message:\n            `本案請求項${num}所述之` +\n            claimErrors[\"不當依附\"][num]\n              .map(({ name }) => `「${name}」（第　行）`)\n              .reduce((acc, cur, idx, prev) => {\n                if (prev.indexOf(cur) === idx) acc.push(cur);\n                return acc;\n              }, [])\n              .join(\"、\") +\n            `，於所依附請求項${claimErrors[\"不當依附\"][num][0].prevNum}中未揭示。`,\n        });\n      }\n    });\n  }\n  if (Object.keys(claimErrors.compNameUnmatch).length > 0) {\n    const subMessageArr = Object.keys(claimErrors.compNameUnmatch)\n      .map((key) => ({\n        unMatch: claimErrors.compNameUnmatch[key][0].unMatch,\n        unMatchWith: claimErrors.compNameUnmatch[key][0].unMatchWith,\n        unMatchMsg: claimErrors.compNameUnmatch[key].every(\n          ({ unMatchMsg }) => unMatchMsg === \"「代表圖之符號簡單說明」\"\n        )\n          ? \"代表圖之符號簡單說明\"\n          : \"符號說明\",\n        nums: claimErrors.compNameUnmatch[key].map(({ num }) => num),\n      }))\n      .map(\n        ({ unMatch, unMatchWith, unMatchMsg, nums }) =>\n          `${unMatch}（${nums\n            .map((g) => `請求項${g}第　行`)\n            .join(\"、\")}）與${unMatchWith}（${unMatchMsg}）`\n      )\n      .join(\"；\");\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第22條第1項規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」本案有下列技術用語或符號不一致，不符上開規定。`,\n      message:\n        \"「申請專利範圍」與說明書記載之用語不一致：\" + subMessageArr + \"。\",\n    });\n  }\n  if (Object.keys(claimErrors.compKeyUnmatch).length > 0) {\n    const subMessageArr = Object.keys(claimErrors.compKeyUnmatch)\n      .map((key) => ({\n        unMatch: claimErrors.compKeyUnmatch[key][0].unMatch,\n        unMatchWith: claimErrors.compKeyUnmatch[key][0].unMatchWith,\n        unMatchMsg: claimErrors.compKeyUnmatch[key].every(\n          ({ unMatchMsg }) => unMatchMsg === \"「代表圖之符號簡單說明」\"\n        )\n          ? \"代表圖之符號簡單說明\"\n          : \"符號說明\",\n        nums: claimErrors.compKeyUnmatch[key].map(({ num }) => num),\n      }))\n      .map(\n        ({ unMatch, unMatchWith, unMatchMsg, nums }) =>\n          `${unMatch}（${nums\n            .map((g) => `請求項${g}第　行`)\n            .join(\"、\")}）與${unMatchWith}（${unMatchMsg}）`\n      )\n      .join(\"；\");\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第22條第1項規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」本案有下列技術用語或符號不一致，不符上開規定。`,\n      message:\n        \"「申請專利範圍」與說明書記載之符號不一致：\" + subMessageArr + \"。\",\n    });\n  }\n  if (Object.keys(claimErrors[\"對應關係未敘明\"]).length > 0) {\n    Object.keys(claimErrors[\"對應關係未敘明\"]).forEach((num) =>\n      essentialData.allErrors_v2.law_112_5.push({\n        prefix: \"\",\n        message:\n          `請求項${num}（獨立項）所述之技術特徵包含` +\n          claimErrors[\"對應關係未敘明\"][num]\n            .map((mainElement) => `「${mainElement}」（第　行）`)\n            .join(\"、\") +\n          `等構件，惟該些構件於空間上的安排、配置、連結或其對應關係未敘明，係${\n            essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"\n          }結構特徵揭露明顯不清楚【說明書及圖式應記載獨立項所述構件及其連結關係，請一併檢視確認或修正】。`,\n      })\n    );\n  }\n  if (claimErrors.invalidClaimTitle.length > 0) {\n    essentialData.allErrors_v2.law_104.push(\n      `本案請求項${claimErrors.invalidClaimTitle.join(\n        \"、\"\n      )}之標的名稱含有方法、步驟、流程或類似用語，反映其申請標的非屬專利法第104條所規定對物品之形狀、構造或組合之創作。`\n    );\n  }\n  if (Object.keys(claimErrors[\"請求項之標的名稱不相符\"]).length > 0) {\n    essentialData.allErrors_v2.law_112_3.push({\n      prefix: `依專利法施行細則${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第45條準用\"\n      }第17條第4項規定：${\n        essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"\n      }名稱，應簡明表示所申請${\n        essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"\n      }之內容，不得冠以無關之文字。`,\n      message:\n        `本案${\n          essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"\n        }名稱「${essentialData.utilityModelTitle}」與` +\n        Object.keys(claimErrors[\"請求項之標的名稱不相符\"])\n          .map(\n            (mainElement) =>\n              `請求項${claimErrors[\"請求項之標的名稱不相符\"][mainElement].join(\n                \"、\"\n              )}之標的名稱「${mainElement}」`\n          )\n          .join(\"、\") +\n        `，其範疇內容不相符（${\n          essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"\n        }名稱未能表示所申請${\n          essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"\n        }之內容）。`,\n    });\n  }\n  /** reconstructure error */\n  essentialData.allErrors_v2.structuredResult = {\n    system_fail: essentialData.allErrors_v2.system_fail,\n    no_law: essentialData.allErrors_v2.no_law,\n    law_104: essentialData.allErrors_v2.law_104,\n    law_112_3: {\n      lawBody: `揭露方式違反專利法${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n      }第26條第4項規定。【摘要、說明書、申請專利範圍及圖式其餘部分請一併確認及修正】`,\n      lawBodyEnd: `查違反專利法${\n        essentialData.applicationNum[3] === \"1\" ? \"\" : \"第120條準用\"\n      }第26條第4項規定。【摘要、說明書、申請專利範圍及圖式其餘部分請一併確認及修正】`,\n      children: reConstructureLaw(essentialData.allErrors_v2.law_112_3),\n    },\n    law_112_5: {\n      lawBody: `本案有未揭露必要事項，或其揭露不清楚情事，查違反專利法第112條第5款規定。`,\n      lawBodyEnd: `查違反專利法第112條第5款規定。`,\n      children: reConstructureLaw(essentialData.allErrors_v2.law_112_5),\n      // children: [\n      //   ...reConstructureLaw(essentialData.allErrors_v2.law_112_5),\n      //   ...reConstructureLaw(essentialData.allErrors_v2.law_112_5),\n      // ],\n    },\n  };\n  console.log(essentialData.allErrors_v2.structuredResult);\n\n  /** removeRepeatedMessage */\n  Object.keys(essentialData.allErrors).forEach((errType) => {\n    essentialData.allErrors[errType] = removeRepeatedMessage(\n      essentialData.allErrors[errType]\n    );\n  });\n}; // generateErrorExp\n\nconst reConstructureLaw = (laws) => {\n  if (!laws) return [];\n  const result = []; // [{prefix: \"...\", children: [\"...\", \"...\"]}]\n  for (let law of laws) {\n    const resultIdx = result.findIndex((r) => r.prefix === law.prefix);\n    if (resultIdx === -1) {\n      result.push({\n        prefix: law.prefix,\n        children: [law.message],\n      });\n    } else {\n      result[resultIdx].children.push(law.message);\n    }\n  }\n  return result;\n};\n\nconst removeRepeatedMessage = (data) => {\n  return data.reduce((acc, cur) => {\n    if (acc.map(({ message }) => message).includes(cur.message)) {\n      return acc;\n    }\n    return [...acc, { message: cur.message }];\n  }, []);\n};\n\nconst getKeyInDescriptionOfElementMapCorrect = (essentialData, item, group) => {\n  // get the key corresponds to the correct element name\n  return Object.keys(essentialData.descriptionOfElementMap).find(\n    (key) =>\n      essentialData.descriptionOfElementMap[key].id === group ||\n      essentialData.descriptionOfElementMap[key].values[0] === item\n  );\n};\n\nconst getKeyInFigureOfDrawingsMapCorrect = (essentialData, item, group) => {\n  // get the key corresponds to the correct element name\n  return Object.keys(essentialData.figureOfDrawingsMap).find(\n    (key) =>\n      essentialData.figureOfDrawingsMap[key].id === group ||\n      essentialData.figureOfDrawingsMap[key].values[0] === item\n  );\n};\n\nconst getNameInDescriptionOfElementMapCorrect = (essentialData, wrongKeys) => {\n  // get the element name corresponds to the correct key\n  for (let key of wrongKeys) {\n    if (essentialData.descriptionOfElementMap[key]) {\n      return essentialData.descriptionOfElementMap[key].values[0];\n    }\n  }\n  return undefined;\n};\n\nconst getNameInFigureOfDrawingsMapCorrect = (essentialData, wrongKeys) => {\n  // get the element name corresponds to the correct key\n  for (let key of wrongKeys) {\n    if (essentialData.figureOfDrawingsMap[key]) {\n      return essentialData.figureOfDrawingsMap[key].values[0];\n    }\n  }\n  return undefined;\n};\n\nconst generateInvalidMainElementMessage = (\n  mainElement,\n  utilityModelTitle,\n  claimNums,\n  isInvention\n) => {\n  let prevClaimNum = claimNums.shift();\n  const rangeSets = [{ from: prevClaimNum }];\n\n  while (claimNums.length > 0) {\n    const currentClaimNum = claimNums.shift();\n    if (currentClaimNum - 1 === prevClaimNum) {\n      rangeSets[rangeSets.length - 1].to = currentClaimNum;\n    } else {\n      rangeSets.push({\n        from: currentClaimNum,\n      });\n    }\n    prevClaimNum = currentClaimNum;\n  }\n\n  const rangeText = [];\n  rangeSets.forEach((r) => {\n    if (r.to !== undefined) {\n      rangeText.push(`第${r.from}至${r.to}項`);\n    } else {\n      rangeText.push(`第${r.from}項`);\n    }\n  });\n\n  return `依專利法施行細則${\n    isInvention ? \"\" : \"第45條準用\"\n  }第17條第4項之規定：「發明名稱，應簡明表示所申請發明之內容，不得冠以無關之文字。」本案${\n    isInvention ? \"發明\" : \"新型\"\n  }名稱「${utilityModelTitle}」內容之記載未依前開規定之格式撰寫（${\n    isInvention ? \"發明\" : \"新型\"\n  }名稱「${utilityModelTitle}」與申請專利範圍${rangeText.join(\n    \"、\"\n  )}所述標的名稱「${mainElement}」，其名稱用語不相符），應予修正。查違反專利法${\n    isInvention ? \"\" : \"第120條準用\"\n  }第26條第4項之規定。【摘要、說明書其餘部分請一併確認及修正】`;\n};\n","import { figStartMatch } from \"../dict/figReg\";\nimport { extractTableElement_v2 } from \"./extractTableElement\";\nimport { getKeyInRange } from \"./otherUtils\";\n\nexport const checkDrawings = (drawings, drawingsDescription, essentialData) => {\n  const [error, data] = tryCheckDrawingsDescription(drawingsDescription);\n\n  if (!error) {\n    essentialData.allDrawingsDescription = data;\n  }\n\n  // console.log(data);\n  // debugger;\n\n  /*const [error2, data2] = tryCheckDrawings(drawings);\n\n  if (!error2) {\n    essentialData.allDrawings = data2.map((fig) => ({\n      fig,\n      descripion:\n        data1.find(({ figs }) => figs.find((f) => f === fig))?.description ||\n        \"找不到對應的圖式簡單說明\"\n    }));\n  }*/\n\n  const allDrawingsMap = {};\n  let duplicateCount = 1;\n  data.forEach(({ figs, description }) => {\n    figs.forEach((fig) => {\n      if (!allDrawingsMap[fig]) {\n        allDrawingsMap[fig] = { description, status: \"OK\" };\n      } else {\n        allDrawingsMap[fig + \"_duplicate_\" + duplicateCount] = {\n          description,\n          status: \"duplicate\"\n        };\n        duplicateCount++;\n      }\n    });\n  });\n\n  essentialData.allDrawings = Object.entries(allDrawingsMap).map(\n    ([key, value]) => ({\n      fig: key,\n      description: value.description,\n      status: value.status\n    })\n  );\n\n  if (essentialData.allDrawings.length === 0)\n    essentialData.allDrawings = [{ fig: \"no figs\" }];\n\n  console.log(essentialData.allDrawings);\n  // debugger;\n};\n\nconst tryCheckDrawingsDescription = (drawingsDescription) => {\n  /* console.log(\n    drawingsDescription.children[\n      drawingsDescription.children.length - 1\n    ].children\n      .filter((child) => child.type === \"text\" && child.value !== \"\")\n      .map((p) => p.value.replace(/[↵\\n]/g, \"\").trim())\n  );\n  debugger; */\n  try {\n    /* return [\n      null,\n      drawingsDescription.children[\n        drawingsDescription.children.length - 1\n      ].children\n        .filter((child) => child.type === \"text\" && child.value !== \"\")\n        .map((p) => p.value.replace(/[↵\\n]/g, \"\").trim())\n        .map((description) => ({\n          description,\n          figs: getFigByDescription(description)\n        }))\n    ]; */\n    const allDescriptions = getDescriptions(drawingsDescription)\n      .split(\"@##@\")\n      .filter((p) => p !== \"\")\n      .map((description) => ({\n        description,\n        figs: getFigByDescription(description)\n      }));\n\n    // console.log(allDescriptions);\n    // debugger;\n\n    return [null, allDescriptions];\n  } catch (e) {\n    return [e.message, []];\n  }\n};\n\nconst getDescriptions = (element) => {\n  if (element.name === \"description-of-element\") return \"\";\n\n  if (element.type === \"text\") {\n    return element.value.replace(/[↵\\n]/g, \"\").trim();\n  }\n\n  if (element.name === \"br\" && element.type === \"element\") {\n    return \"@##@\";\n  }\n\n  if (element.name === \"table\" && element.type === \"element\") {\n    return \"@##@\" + extractTableElement_v2(element);\n  }\n\n  let descriptionStr = \"\";\n  element.children.forEach((child) => {\n    if (child.name === \"p\" && child.type === \"element\") {\n      descriptionStr += \"@##@\" + getDescriptions(child);\n    } else {\n      descriptionStr += getDescriptions(child);\n    }\n  });\n  return descriptionStr;\n};\n\nconst getFigByDescription = (description) => {\n  // if (/^[[({〔]/.test(description)) description = description.slice(1);\n  const descriptionMatch = description.match(/^[^\\u4E00-\\u9FFF]+/);\n  if (description.match(/^[^\\u4E00-\\u9FFF]+/)) {\n    description = description.slice(descriptionMatch[0].length);\n  }\n\n  const figMatch = figStartMatch(description);\n\n  if (!figMatch) return [];\n\n  let keys = figMatch[0]\n    .replaceAll(/第|圖/g, \"\")\n    .replaceAll(/[()]/g, \"\")\n    .split(/[、，,或與和以及跟]/)\n    .filter((e) => e !== \"\")\n    .map((k) => k.trim());\n\n  if (keys.some((curKey) => /.+[-~～到至].+/.test(curKey))) {\n    keys = keys.reduce((accKeys, curKey) => {\n      if (/.+[-~～到至].+/.test(curKey)) {\n        return [...accKeys, ...getKeyInRange(curKey, true)];\n      }\n      return [...accKeys, curKey];\n    }, []);\n  }\n\n  return keys.map((k) => \"圖\" + k);\n};\n","import { useEffect } from \"react\";\nimport { processAbstract } from \"../utils/processAbstract\";\nimport { processData } from \"../utils/processData\";\nimport { checkFigureOfDrawings } from \"../utils/checkFigureOfDrawings\";\nimport { buildElementColorMap } from \"../utils/buildElementColorMap\";\nimport { modifyAllParagraph } from \"../utils/modifyAllParagraph\";\nimport { modifyAllClaims } from \"../utils/modifyAllClaims\";\nimport { processTFAndBA } from \"../utils/processTFAndBA\";\nimport { generateErrorExp } from \"../utils/generateErrorExp\";\nimport { checkDrawings } from \"../utils/checkDrawings\";\n\nexport const useInit = (\n  XMLData,\n  setXMLData,\n  _essentialData,\n  setEssentialData,\n  setAllUpdateDisclosureParagraph,\n  setAllUpdateModeForInventionParagraph,\n  setAllUpdateClaimParagraph,\n  setLocalStorageValue\n) => {\n  const handler = async () => {\n    if (!XMLData.isLoading) {\n      const isDataCompleted =\n        Object.keys(XMLData.abstractData).length !== 0 &&\n        Object.keys(XMLData.descriptionOfElementData).length !== 0 &&\n        Object.keys(XMLData.figureDrawingsData).length !== 0 &&\n        Object.keys(XMLData.disclosureData).length !== 0 &&\n        Object.keys(XMLData.modeForInventionData).length !== 0 &&\n        Object.keys(XMLData.claimsData).length !== 0;\n\n      if (isDataCompleted) {\n        // 該 xml 的文件齊備\n        // Deep copy essentialData to make it easy to be modified\n        const essentialData = JSON.parse(JSON.stringify(_essentialData));\n        console.log(`Get Started ${new Date().toString().slice(16, 24)}`);\n\n        // utilityModelTitle: \"\",\n        // utilityModelTitleEn: \"\",\n        // utilityModelTitleData: \"\",\n        //utilityModelTitleDataEn: \"\",\n        essentialData.applicationNum = XMLData.applicationNum;\n        essentialData.utilityModelTitle = XMLData.utilityModelTitleData;\n        essentialData.utilityModelTitleEn = XMLData.utilityModelTitleDataEn;\n        setLocalStorageValue((prev) => {\n          const oldSavedApplications = prev.savedApplications;\n          const d = new Date();\n          const savedDate = `${d.getFullYear()}-${\n            d.getMonth() + 1\n          }-${d.getDate()}`;\n          const newData = {\n            latestTS: +d,\n            appId: essentialData.applicationNum,\n            appTitle: essentialData.utilityModelTitle,\n          };\n\n          if (oldSavedApplications[savedDate] === undefined) {\n            oldSavedApplications[savedDate] = [newData];\n          } else {\n            const prevAppIdx = oldSavedApplications[savedDate].findIndex(\n              ({ appId }) => appId === newData.appId\n            );\n            if (prevAppIdx < 0) {\n              oldSavedApplications[savedDate].push(newData);\n            } else {\n              oldSavedApplications[savedDate][prevAppIdx].latestTS =\n                newData.latestTS;\n            }\n            oldSavedApplications[savedDate].sort(\n              (a, b) => b.latestTS - a.latestTS\n            );\n          }\n\n          return {\n            ...prev,\n            savedApplications: oldSavedApplications,\n          };\n        });\n\n        processAbstract(XMLData.abstractData, essentialData);\n        processAbstract(XMLData.abstractDataEn, essentialData);\n\n        processTFAndBA(\n          XMLData.technicalFieldData,\n          essentialData,\n          \"technical-field\"\n        );\n        processTFAndBA(\n          XMLData.backgroundArtData,\n          essentialData,\n          \"background-art\"\n        );\n\n        processData(\n          XMLData.descriptionOfElementData,\n          \"description-of-element\",\n          essentialData,\n          null,\n          null\n        );\n        processData(\n          XMLData.figureDrawingsData,\n          \"figure-drawings\",\n          essentialData,\n          null,\n          null\n        );\n        // show warning message\n        if (\n          essentialData.failedDescriptionOfElementMap.length > 0 ||\n          essentialData.failedFigureOfDrawingsMap.length > 0\n        ) {\n          window.alert(\n            \"符號說明或代表圖之符號簡單說明存在有無法分辨別的元件，後續分析時將忽略這些元件，若想得到更精準的結果，建議修正此元件後再重新分析。\"\n          );\n        }\n        checkFigureOfDrawings(essentialData);\n        buildElementColorMap(essentialData);\n\n        // console.log(essentialData);\n        // debugger;\n\n        checkDrawings(\n          XMLData.drawingsData,\n          XMLData.drawingsDescriptionData,\n          essentialData\n        );\n\n        // allAbstractParagraphDetails: [],\n        modifyAllParagraph(\n          XMLData.abstractData,\n          \"allAbstractParagraphDetails\",\n          -1,\n          essentialData,\n          null\n        );\n\n        // allTechnicalFieldParagraphDetails: [],\n        modifyAllParagraph(\n          XMLData.technicalFieldData,\n          \"allTechnicalFieldParagraphDetails\",\n          -1,\n          essentialData,\n          null\n        );\n\n        // allBackgroundArtParagraphDetails: [],\n        modifyAllParagraph(\n          XMLData.backgroundArtData,\n          \"allBackgroundArtParagraphDetails\",\n          -1,\n          essentialData,\n          null\n        );\n\n        modifyAllParagraph(\n          XMLData.modeForInventionData,\n          \"allModeForInventionParagraphDetails\",\n          -1,\n          essentialData,\n          null\n        );\n        modifyAllParagraph(\n          XMLData.disclosureData,\n          \"allDisclosureParagraphDetails\",\n          -1,\n          essentialData,\n          null\n        ); // in Reactjs, pass essentialData and setEssentialData\n\n        await modifyAllClaims(XMLData.claimsData, -1, essentialData, null, []);\n        // 產生新型例稿\n        generateErrorExp(essentialData);\n\n        // For Test\n        // console.log(\"Abstract\", essentialData.abstractContent.join(\"\\n\"));\n        console.log(\n          \"descriptionOfElementMap\",\n          essentialData.descriptionOfElementMap\n        );\n        console.log(\"figureOfDrawingsMap\", essentialData.figureOfDrawingsMap);\n        console.log(\n          \"failedDescriptionOfElementMap\",\n          essentialData.failedDescriptionOfElementMap\n        );\n        console.log(\n          \"failedFigureOfDrawingsMap\",\n          essentialData.failedFigureOfDrawingsMap\n        );\n\n        // allAbstractParagraphDetails: []\n        console.log(\n          \"allAbstractParagraphDetails\",\n          essentialData.allAbstractParagraphDetails\n        );\n        // allTechnicalFieldParagraphDetails: [],\n        console.log(\n          \"allTechnicalFieldParagraphDetails\",\n          essentialData.allTechnicalFieldParagraphDetails\n        );\n        // allBackgroundArtParagraphDetails: [],\n        console.log(\n          \"allBackgroundArtParagraphDetails\",\n          essentialData.allBackgroundArtParagraphDetails\n        );\n\n        console.log(\n          \"allDisclosureParagraphDetails\",\n          essentialData.allDisclosureParagraphDetails\n        );\n        console.log(\n          \"allModeForInventionParagraphDetails\",\n          essentialData.allModeForInventionParagraphDetails\n        );\n        console.log(\"elementColorMap\", essentialData.elementColorMap);\n        console.log(\"allClaimsDetails\", essentialData.allClaimsDetails);\n        console.log(\"allErrors\", essentialData.allErrors);\n        console.log(\"allErrors_v2\", essentialData.allErrors_v2);\n        // For Test Ene\n\n        console.log(`Write new data ${new Date().toString().slice(16, 24)}`);\n        setEssentialData({\n          ...essentialData,\n          isProcessing: false,\n          // utilityModelTitle: XMLData.utilityModelTitleData,\n          // utilityModelTitleEn: XMLData.utilityModelTitleDataEn,\n          dragAreaMsg: `你的檔案${XMLData.fileName.slice(\n            6\n          )}已成功上傳，你可以點擊此處再次選擇檔案。`,\n        });\n      } else if (!isDataCompleted && XMLData.fileName !== \"\") {\n        // 該 xml 的文件不齊備\n        console.log(`sth missing... ${new Date().toString().slice(16, 24)}`);\n        let missingData = [];\n        if (Object.keys(XMLData.abstractData).length === 0) {\n          missingData.push(\"摘要(abstract)\");\n        }\n        if (Object.keys(XMLData.descriptionOfElementData).length === 0) {\n          missingData.push(\"符號說明(description-of-element)\");\n        }\n        if (Object.keys(XMLData.figureDrawingsData).length === 0) {\n          missingData.push(\"代表圖之符號簡單說明(figure-drawings)\");\n        }\n        if (Object.keys(XMLData.disclosureData).length === 0) {\n          missingData.push(\"發明內容(disclosure)\");\n        }\n        if (Object.keys(XMLData.modeForInventionData).length === 0) {\n          missingData.push(\"實施方式(mode-for-invention)\");\n        }\n        if (Object.keys(XMLData.claimsData).length === 0) {\n          missingData.push(\"請求項(claims)\");\n        }\n        const dragAreaMsg = XMLData.isXMLFormatOK\n          ? `請確認你的檔案${XMLData.fileName.slice(\n              6\n            )}具備完整的內容後再重新上傳。`\n          : \"該XML檔的格式有誤無法讀取，請檢查格式是否正確。\";\n        window.alert(\n          XMLData.isXMLFormatOK\n            ? `你的檔案${XMLData.fileName.slice(\n                6\n              )}缺少部分內容，請備妥欠缺的內容後再重新上傳。`\n            : dragAreaMsg\n        );\n        setEssentialData((prev) => ({\n          ...prev,\n          isProcessing: false,\n          missingData,\n          dragAreaMsg,\n        }));\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!_essentialData.isProcessing && XMLData.isLoading) {\n      console.log(`reset everything ${new Date().toString().slice(16, 24)}`);\n      setEssentialData((prev) => ({\n        ...prev,\n        isProcessing: true,\n        applicationNum: \"\",\n        utilityModelTitle: \"\",\n        utilityModelTitleEn: \"\",\n        technicalField: [],\n        backgroundArt: [],\n        abstractContent: [],\n        abstractContentEn: [],\n        descriptionOfElementMap: {},\n        figureOfDrawingsMap: {},\n        failedDescriptionOfElementMap: [],\n        failedFigureOfDrawingsMap: [],\n        elementColorMap: {},\n        allAbstractParagraphDetails: [],\n        allTechnicalFieldParagraphDetails: [],\n        allBackgroundArtParagraphDetails: [],\n        allDisclosureParagraphDetails: [],\n        allModeForInventionParagraphDetails: [],\n        allClaimsDetails: [],\n        allDrawings: [],\n        allDrawingsDescription: [],\n        missingData: [],\n        claimPayload: [],\n        preserveValues: [],\n        searchString: \"\",\n        allErrors: {\n          title: [],\n          descriptionOfElementMap: [],\n          figureOfDrawingsMap: [],\n          allDisclosureParagraphDetails: [],\n          allModeForInventionParagraphDetails: [],\n          allClaimsDetails: [],\n          system: [],\n        },\n        allErrors_v2: {\n          system_fail: [],\n          no_law: [],\n          law_104: [],\n          law_112_3: [],\n          law_112_5: [],\n          structuredResult: {},\n        },\n        globalHighlightOn: true,\n        globalHighlightElement: [],\n        synchronizeHighlight: false,\n        dbResultMap: {},\n      }));\n      setAllUpdateDisclosureParagraph([]);\n      setAllUpdateModeForInventionParagraph([]);\n      setAllUpdateClaimParagraph([]);\n    }\n\n    handler();\n  }, [XMLData]);\n\n  return null;\n};\n","export const getPatentTitle = (data, setXMLData) => {\n  if (data && data.attributes && data.attributes.lang === \"tw\") {\n    // console.log(data.children[0].value);\n    setXMLData((prev) => ({\n      ...prev,\n      utilityModelTitleData: (\n        (data.children && data.children[0] && data.children[0].value) ||\n        (data.children[0].children &&\n          data.children[0].children[0] &&\n          data.children[0].children[0].value) ||\n        \"\"\n      ).replace(/[↵\\n]/g, \"\")\n    }));\n  } else if (data && data.attributes && data.attributes.lang === \"en\") {\n    // console.log(data.children[0].value);\n    setXMLData((prev) => ({\n      ...prev,\n      utilityModelTitleDataEn: (\n        (data.children && data.children[0] && data.children[0].value) ||\n        (data.children[0].children &&\n          data.children[0].children[0] &&\n          data.children[0].children[0].value) ||\n        \"\"\n      ).replace(/[↵\\n]/g, \"\")\n    }));\n  }\n  // console.log(data);\n  // debugger;\n};\n","import { processData } from \"../utils/processData\";\nimport { checkFigureOfDrawings } from \"../utils/checkFigureOfDrawings\";\nimport { buildElementColorMap } from \"../utils/buildElementColorMap\";\nimport { modifyAllParagraph } from \"../utils/modifyAllParagraph\";\nimport { modifyAllClaims } from \"../utils/modifyAllClaims\";\nimport { generateErrorExp } from \"../utils/generateErrorExp\";\n\nexport const reInit = async (_essentialData, setEssentialData, payload) => {\n  /*\n    payload: {method, data}\n  */\n\n  console.log(`reInit data ${new Date().toString().slice(16, 24)}`);\n\n  setEssentialData((prev) => ({\n    ...prev,\n    isProcessing: true,\n    globalHighlightOn: true,\n    globalHighlightElement: [],\n    dbResultMap: {},\n  }));\n\n  const copyOfDisclosurePara = _essentialData.allDisclosureParagraphDetails;\n  const copyOfModeForInventionPara =\n    _essentialData.allModeForInventionParagraphDetails;\n  const copyOfClaimDetails = _essentialData.allClaimsDetails;\n\n  const essentialData = JSON.parse(JSON.stringify(_essentialData));\n\n  /*\n  essentialData = {\n    ...essentialData,\n    //isProcessing: true,\n    //utilityModelTitle: \"\",\n    //utilityModelTitleEn: \"\",\n    //technicalField: [],\n    //backgroundArt: [],\n    //abstractContent: [],\n    //abstractContentEn: [],\n    descriptionOfElementMap: {},\n    figureOfDrawingsMap: {},\n    //failedDescriptionOfElementMap: [],\n    //failedFigureOfDrawingsMap: [],\n    elementColorMap: {},\n    allDisclosureParagraphDetails: [],\n    allModeForInventionParagraphDetails: [],\n    allClaimsDetails: []\n    //missingData: []\n  }\n  */\n\n  essentialData.allErrors = {\n    title: [],\n    descriptionOfElementMap: [],\n    figureOfDrawingsMap: [],\n    allDisclosureParagraphDetails: [],\n    allModeForInventionParagraphDetails: [],\n    allClaimsDetails: [],\n    system: [],\n  };\n  essentialData.allErrors_v2 = {\n    system_fail: [],\n    no_law: [],\n    law_104: [],\n    law_112_3: [],\n    law_112_5: [],\n    structuredResult: {},\n  };\n\n  if (payload.method === \"description-of-element\") {\n    essentialData.descriptionOfElementMap = {};\n    essentialData.failedDescriptionOfElementMap = [];\n  }\n\n  if (payload.method === \"figure-drawings\") {\n    essentialData.figureOfDrawingsMap = {};\n    essentialData.failedFigureOfDrawingsMap = [];\n  }\n\n  if (\n    payload.method === \"description-of-element\" ||\n    payload.method === \"figure-drawings\"\n  ) {\n    essentialData.elementColorMap = {};\n    essentialData.allDisclosureParagraphDetails = [];\n    essentialData.allModeForInventionParagraphDetails = [];\n    essentialData.allClaimsDetails = [];\n  }\n\n  if (payload.method === \"allClaimsDetails\") {\n    essentialData.allClaimsDetails = [];\n  }\n\n  // processAbstract(XMLData.abstractData, essentialData);\n  // processAbstract(XMLData.abstractDataEn, essentialData);\n\n  // processTFAndBA(XMLData.technicalFieldData, essentialData, \"technical-field\");\n  // processTFAndBA(XMLData.backgroundArtData, essentialData, \"background-art\");\n\n  if (payload.method === \"description-of-element\") {\n    processData(\n      null,\n      \"description-of-element\",\n      essentialData,\n      null,\n      payload.data\n    );\n    processData(\n      null,\n      \"figure-drawings\",\n      essentialData,\n      essentialData.figureOfDrawingsMap,\n      null\n    );\n  }\n\n  if (payload.method === \"figure-drawings\") {\n    processData(\n      null,\n      \"description-of-element\",\n      essentialData,\n      essentialData.descriptionOfElementMap,\n      null\n    );\n    processData(null, \"figure-drawings\", essentialData, null, payload.data);\n  }\n\n  // show warning message\n  if (\n    essentialData.failedDescriptionOfElementMap.length > 0 ||\n    essentialData.failedFigureOfDrawingsMap.length > 0\n  ) {\n    window.alert(\n      \"符號說明或代表圖之符號簡單說明存在有無法分辨別的元件，後續分析時將忽略這些元件，若想得到更精準的結果，建議修正此元件後再重新分析。\"\n    );\n  }\n\n  if (\n    payload.method === \"description-of-element\" ||\n    payload.method === \"figure-drawings\"\n  ) {\n    checkFigureOfDrawings(essentialData);\n    buildElementColorMap(essentialData);\n    modifyAllParagraph(\n      null,\n      \"allModeForInventionParagraphDetails\",\n      -1,\n      essentialData,\n      copyOfModeForInventionPara\n    );\n    modifyAllParagraph(\n      null,\n      \"allDisclosureParagraphDetails\",\n      -1,\n      essentialData,\n      copyOfDisclosurePara\n    ); // in Reactjs, pass essentialData and setEssentialData\n  }\n\n  if (payload.method === \"allModeForInventionParagraphDetails\") {\n    modifyAllParagraph(\n      null,\n      \"allModeForInventionParagraphDetails\",\n      payload.data,\n      essentialData,\n      copyOfModeForInventionPara\n    );\n    modifyAllParagraph(\n      null,\n      \"allDisclosureParagraphDetails\",\n      -1,\n      essentialData,\n      copyOfDisclosurePara\n    ); // in Reactjs, pass essentialData and setEssentialData\n    essentialData.allModeForInventionParagraphDetails =\n      essentialData.allModeForInventionParagraphDetails.map((para) => ({\n        ...para,\n        isCollapse: true,\n      }));\n  }\n\n  if (payload.method === \"allDisclosureParagraphDetails\") {\n    modifyAllParagraph(\n      null,\n      \"allModeForInventionParagraphDetails\",\n      -1,\n      essentialData,\n      copyOfModeForInventionPara\n    );\n    modifyAllParagraph(\n      null,\n      \"allDisclosureParagraphDetails\",\n      payload.data,\n      essentialData,\n      copyOfDisclosurePara\n    ); // in Reactjs, pass essentialData and setEssentialData\n    essentialData.allDisclosureParagraphDetails =\n      essentialData.allDisclosureParagraphDetails.map((para) => ({\n        ...para,\n        isCollapse: true,\n      }));\n  }\n\n  let newClaimPayload = [];\n  let manuallyAddValues = [...essentialData.preserveValues];\n  if (payload.method !== \"allClaimsDetails\") {\n    await modifyAllClaims(null, -1, essentialData, copyOfClaimDetails, []);\n  } else {\n    newClaimPayload = payload.data.map((payload, payloadIdx) => {\n      if (\n        payload.claimNum === null &&\n        payload.content === null &&\n        payload.matches === null\n      ) {\n        if (\n          essentialData.claimPayload[payloadIdx]?.claimNum ||\n          essentialData.claimPayload[payloadIdx]?.content ||\n          essentialData.claimPayload[payloadIdx]?.matches\n        ) {\n          return essentialData.claimPayload[payloadIdx];\n        }\n        return payload;\n      }\n      if (payload.matches) {\n        payload.matches.forEach((mt) => {\n          if (\n            mt.preserveValue &&\n            !manuallyAddValues.find((v) => v === mt.value)\n          ) {\n            manuallyAddValues.push(mt.value);\n          }\n        });\n      }\n      return payload;\n    });\n    // console.log(newClaimPayload);\n    // console.log(manuallyAddValues);\n    // debugger;\n    // modifyAllClaims(null, payload.data, essentialData, copyOfClaimDetails);\n    await modifyAllClaims(\n      null,\n      newClaimPayload,\n      essentialData,\n      copyOfClaimDetails,\n      manuallyAddValues\n    );\n    console.log(\"allClaimsDetails\", essentialData.allClaimsDetails);\n  }\n\n  generateErrorExp(essentialData);\n\n  // console.log(\"debug essentialData\");\n  // console.log(essentialData);\n  // debugger;\n\n  // For Test\n  // console.log(\"Abstract\", essentialData.abstractContent.join(/[↵\\n]/));\n  // console.log(\"descriptionOfElementMap\", essentialData.descriptionOfElementMap);\n  // console.log(\"figureOfDrawingsMap\", essentialData.figureOfDrawingsMap);\n  // console.log(\n  //   \"failedDescriptionOfElementMap\",\n  //   essentialData.failedDescriptionOfElementMap\n  // );\n  // console.log(\n  //   \"failedFigureOfDrawingsMap\",\n  //   essentialData.failedFigureOfDrawingsMap\n  // );\n  // console.log(\n  //   \"allDisclosureParagraphDetails\",\n  //   essentialData.allDisclosureParagraphDetails\n  // );\n  // console.log(\n  //   \"allModeForInventionParagraphDetails\",\n  //   essentialData.allModeForInventionParagraphDetails\n  // );\n  // console.log(\"elementColorMap\", essentialData.elementColorMap);\n  // console.log(\"allClaimsDetails\", essentialData.allClaimsDetails);\n  // For Test Ene\n\n  console.log(`Write new data ${new Date().toString().slice(16, 24)}`);\n  setEssentialData({\n    ...essentialData,\n    isProcessing: false,\n    claimPayload: newClaimPayload,\n    preserveValues: [...essentialData.preserveValues, ...manuallyAddValues],\n    searchString: \"\",\n  });\n};\n","import React, { useRef, useState, useEffect } from \"react\";\nimport checkedImg from \"../assets/checked.png\";\nimport errorImg from \"../assets/error.png\";\nimport switchImg from \"../assets/switch.png\";\nimport aboriginalImg from \"../assets/aboriginal.png\";\n\nconst SingleParagraphV2 = ({\n  index,\n  isOK,\n  general,\n  content,\n  abstractEn,\n  modifiedParagraph,\n  figureKeys,\n  wrongFigureKeys,\n  correctKeys,\n  wrongWordKeys,\n  aboriginalWordKeys,\n  elementColorMap,\n  isCollapse,\n  setIsCollapse,\n  searchString,\n  globalHighlightOn,\n  globalHighlightElement\n}) => {\n  const divRef = useRef(null);\n  const searchStringPrev = useRef(searchString);\n  const [numOfFoundedStr, setNumOfFoundedStr] = useState(0);\n  const [myReduceFigureKeys, setMyReduceFigureKeys] = useState({});\n  const [myReduceWrongFigureKeys, setMyReduceWrongFigureKeys] = useState({});\n  const [myReduceCorrectKeys, setMyReduceCorrectKeys] = useState({});\n  const [myReduceWrongWordKeys, setMyReduceWrongWordKeys] = useState({});\n  const [myReduceAboriginalWordKeys, setMyReduceAboriginalWordKeys] = useState(\n    {}\n  );\n\n  const [showControlBtns, setShowControlBtns] = useState(() => {\n    const obj = {};\n\n    obj[`paragraph-${index}-figure-btn`] = true;\n    obj[`paragraph-${index}-wrong-figure-btn`] = true;\n    obj[`paragraph-${index}-word-errors-btn`] = true;\n    obj[`paragraph-${index}-corrects-btn`] = true;\n    obj[`paragraph-${index}-aboriginals-btn`] = true;\n\n    return obj;\n  });\n\n  const toggleBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n      el.style.background = myReduceCorrectKeys[key].clicked\n        ? \"inherit\"\n        : elementColorMap[key].color;\n    });\n\n    setMyReduceCorrectKeys({\n      ...myReduceCorrectKeys,\n      [key]: {\n        ...myReduceCorrectKeys[key],\n        clicked: !myReduceCorrectKeys[key].clicked\n      }\n    });\n  };\n\n  const toggleAllBtnColor = () => {\n    Object.keys(myReduceCorrectKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.background = myReduceCorrectKeys[key].clicked\n          ? \"inherit\"\n          : elementColorMap[key].color;\n      });\n    });\n    const arrOfMyReduceCorrectKeys = Object.keys(myReduceCorrectKeys).map(\n      (key) => [\n        key,\n        {\n          ...myReduceCorrectKeys[key],\n          clicked: !myReduceCorrectKeys[key].clicked\n        }\n      ]\n    );\n    setMyReduceCorrectKeys(Object.fromEntries(arrOfMyReduceCorrectKeys));\n  };\n\n  const toggleWrongWordBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n      el.style.background = myReduceWrongWordKeys[key].clicked\n        ? \"inherit\"\n        : \"red\";\n    });\n\n    setMyReduceWrongWordKeys({\n      ...myReduceWrongWordKeys,\n      [key]: {\n        ...myReduceWrongWordKeys[key],\n        clicked: !myReduceWrongWordKeys[key].clicked\n      }\n    });\n  };\n\n  const toggleAllWrongWordBtnColor = () => {\n    Object.keys(myReduceWrongWordKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n        el.style.background = myReduceWrongWordKeys[key].clicked\n          ? \"inherit\"\n          : \"red\";\n      });\n    });\n    const arrOfMyReduceWrongWordKeys = Object.keys(myReduceWrongWordKeys).map(\n      (key) => [\n        key,\n        {\n          ...myReduceWrongWordKeys[key],\n          clicked: !myReduceWrongWordKeys[key].clicked\n        }\n      ]\n    );\n    setMyReduceWrongWordKeys(Object.fromEntries(arrOfMyReduceWrongWordKeys));\n  };\n\n  const toggleFigureBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.f-${key}`).forEach((el) => {\n      el.style.background = myReduceFigureKeys[key].clicked\n        ? \"inherit\"\n        : \"#93ad64\";\n    });\n\n    setMyReduceFigureKeys({\n      ...myReduceFigureKeys,\n      [key]: {\n        ...myReduceFigureKeys[key],\n        clicked: !myReduceFigureKeys[key].clicked\n      }\n    });\n  };\n\n  const toggleAllFigureBtnColor = () => {\n    Object.keys(myReduceFigureKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.f-${key}`).forEach((el) => {\n        el.style.background = myReduceFigureKeys[key].clicked\n          ? \"inherit\"\n          : \"#93ad64\";\n      });\n    });\n    const arrOfMyReduceFigureKeys = Object.keys(myReduceFigureKeys).map(\n      (key) => [\n        key,\n        {\n          ...myReduceFigureKeys[key],\n          clicked: !myReduceFigureKeys[key].clicked\n        }\n      ]\n    );\n    setMyReduceFigureKeys(Object.fromEntries(arrOfMyReduceFigureKeys));\n  };\n\n  const toggleWrongFigureBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.ef-${key}`).forEach((el) => {\n      el.style.background = myReduceWrongFigureKeys[key].clicked\n        ? \"inherit\"\n        : \"red\";\n    });\n\n    setMyReduceWrongFigureKeys({\n      ...myReduceWrongFigureKeys,\n      [key]: {\n        ...myReduceWrongFigureKeys[key],\n        clicked: !myReduceWrongFigureKeys[key].clicked\n      }\n    });\n  };\n\n  const toggleAllWrongFigureBtnColor = () => {\n    Object.keys(myReduceWrongFigureKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ef-${key}`).forEach((el) => {\n        el.style.background = myReduceWrongFigureKeys[key].clicked\n          ? \"inherit\"\n          : \"red\";\n      });\n    });\n    const arrOfMyReduceWrongFigureKeys = Object.keys(\n      myReduceWrongFigureKeys\n    ).map((key) => [\n      key,\n      {\n        ...myReduceWrongFigureKeys[key],\n        clicked: !myReduceWrongFigureKeys[key].clicked\n      }\n    ]);\n    setMyReduceWrongFigureKeys(\n      Object.fromEntries(arrOfMyReduceWrongFigureKeys)\n    );\n  };\n\n  const toggleAboriginalWordBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.ab-${key}`).forEach((el) => {\n      el.style.background = myReduceAboriginalWordKeys[key].clicked\n        ? \"inherit\"\n        : \"rgb(188, 174, 174)\";\n    });\n\n    setMyReduceAboriginalWordKeys({\n      ...myReduceAboriginalWordKeys,\n      [key]: {\n        ...myReduceAboriginalWordKeys[key],\n        clicked: !myReduceAboriginalWordKeys[key].clicked\n      }\n    });\n  };\n\n  const toggleAllAboriginalWordBtnColor = () => {\n    Object.keys(myReduceAboriginalWordKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ab-${key}`).forEach((el) => {\n        el.style.background = myReduceAboriginalWordKeys[key].clicked\n          ? \"inherit\"\n          : \"rgb(188, 174, 174)\";\n      });\n    });\n    const arrOfMyReduceAboriginalWordKeys = Object.keys(\n      myReduceAboriginalWordKeys\n    ).map((key) => [\n      key,\n      {\n        ...myReduceAboriginalWordKeys[key],\n        clicked: !myReduceAboriginalWordKeys[key].clicked\n      }\n    ]);\n    setMyReduceAboriginalWordKeys(\n      Object.fromEntries(arrOfMyReduceAboriginalWordKeys)\n    );\n  };\n\n  const buildList = (modifiedParagraphWithSearchStr) => {\n    // Test\n    // if (general === \"0005\") {\n    //   console.log(\"rebuild list\");\n    //   console.log(globalHighlightElement);\n    // }\n\n    divRef.current.querySelector(\".content\").innerHTML = `【${\n      general.includes(\"技術\") && general.match(/【(.*?)】/)\n        ? general.match(/【(.*?)】/)[1]\n        : general\n    }】 ${modifiedParagraphWithSearchStr || modifiedParagraph}${\n      abstractEn ? \"<br/><br/>\" + abstractEn : \"\"\n    }`;\n\n    let reduceFigureKeys = {};\n    figureKeys.forEach((figureKey) => {\n      if (!reduceFigureKeys[figureKey.group]) {\n        reduceFigureKeys[figureKey.group] = {\n          ...figureKey,\n          clicked: true\n        };\n      }\n    });\n\n    let reduceWrongFigureKeys = {};\n    wrongFigureKeys.forEach((wrongFigureKey) => {\n      if (!reduceWrongFigureKeys[wrongFigureKey.group]) {\n        reduceWrongFigureKeys[wrongFigureKey.group] = {\n          ...wrongFigureKey,\n          clicked: true\n        };\n      }\n    });\n\n    let reduceCorrectKeys = {};\n    correctKeys.forEach((correctKey) => {\n      if (reduceCorrectKeys[correctKey.group]) {\n        const currentKeys = correctKey.keys;\n        currentKeys.forEach((key) => {\n          if (!reduceCorrectKeys[correctKey.group].keys.includes(key)) {\n            reduceCorrectKeys[correctKey.group].keys.push(key);\n            reduceCorrectKeys[correctKey.group] = {\n              ...correctKey,\n              value:\n                correctKey.item +\n                reduceCorrectKeys[correctKey.group].keys\n                  .filter((k) => k !== \"\")\n                  .join(\"、\"),\n              keys: reduceCorrectKeys[correctKey.group].keys,\n              // clicked: true\n              clicked:\n                globalHighlightOn &&\n                (globalHighlightElement.length === 0 ||\n                  globalHighlightElement.find((g) => g === correctKey.group))\n            };\n          }\n        });\n      } else {\n        reduceCorrectKeys[correctKey.group] = {\n          ...correctKey,\n          value:\n            correctKey.item +\n            correctKey.keys.filter((k) => k !== \"\").join(\"、\"),\n          // clicked: true\n          clicked:\n            globalHighlightOn &&\n            (globalHighlightElement.length === 0 ||\n              globalHighlightElement.find((g) => g === correctKey.group))\n        };\n      }\n    });\n\n    let reduceWrongWordKeys = {};\n    wrongWordKeys.forEach((wrongWordKey) => {\n      if (!reduceWrongWordKeys[wrongWordKey.group]) {\n        reduceWrongWordKeys[wrongWordKey.group] = {\n          ...wrongWordKey,\n          clicked: true\n        };\n      }\n    });\n\n    let reduceAboriginalWordKeys = {};\n    aboriginalWordKeys.forEach((aboriginalWordKey) => {\n      if (!reduceAboriginalWordKeys[aboriginalWordKey.group]) {\n        reduceAboriginalWordKeys[aboriginalWordKey.group] = {\n          ...aboriginalWordKey,\n          clicked: true\n        };\n      }\n    });\n\n    setMyReduceCorrectKeys(reduceCorrectKeys);\n    setMyReduceWrongWordKeys(reduceWrongWordKeys);\n    setMyReduceAboriginalWordKeys(reduceAboriginalWordKeys);\n    setMyReduceFigureKeys(reduceFigureKeys);\n    setMyReduceWrongFigureKeys(reduceWrongFigureKeys);\n\n    Object.keys(reduceCorrectKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.background = reduceCorrectKeys[key].clicked\n          ? elementColorMap[key].color\n          : \"inherit\";\n      });\n    });\n  };\n  /*\n  useEffect(() => {\n    // console.log(\"useEffect~~~~\");\n\n    // divRef.current.querySelector(\"h2\").style.background =\n    //   \"rgb(147, 173, 100)\";\n    buildList(\"\");\n  }, [content, general]);\n  */\n\n  useEffect(() => {\n    // if (!modifiedParagraph || searchStringPrev.current === searchString) {\n    //   return;\n    // }\n\n    if (\n      searchString === \"\" /* && searchStringPrev.current !== searchString */\n    ) {\n      searchStringPrev.current = searchString;\n      return buildList(\"\");\n    }\n\n    searchStringPrev.current = searchString;\n    // console.log(\"rebuildlist\");\n    const htmlReg = RegExp(\"<(\\\"[^\\\"]*\\\"|'[^']*'|[^'\\\">])*>\", \"g\");\n    let nonModifiedParagraph = modifiedParagraph.replaceAll(htmlReg, \"@\");\n    let tagLists = [...modifiedParagraph.matchAll(htmlReg)];\n    tagLists.forEach((tagList, idx) => {\n      for (let i = idx + 1; i < tagLists.length; i++) {\n        tagLists[i].index -= tagList[0].length - 1;\n      }\n    });\n    let insertLists = tagLists.map((tagList) => ({\n      start: tagList.index,\n      content: tagList[0]\n    }));\n\n    const searchStringMatches = [\n      ...nonModifiedParagraph.matchAll(\n        RegExp(searchString.split(\"\").join(\"@?\"), \"g\")\n      )\n    ];\n    setNumOfFoundedStr(searchStringMatches.length);\n\n    searchStringMatches.forEach((mt) => {\n      for (let j = mt.index; j < mt.index + mt[0].length; j++) {\n        if (nonModifiedParagraph[j] === \"@\") {\n          continue;\n        }\n        insertLists.push({\n          start: j,\n          content: `<strong class='search-highlight'>${nonModifiedParagraph[j]}</strong>`\n        });\n      }\n    });\n\n    insertLists.sort((a, b) => a.start - b.start);\n\n    for (let i = insertLists.length - 1; i >= 0; i--) {\n      nonModifiedParagraph =\n        nonModifiedParagraph.slice(0, insertLists[i].start) +\n        insertLists[i].content +\n        nonModifiedParagraph.slice(insertLists[i].start + 1);\n    }\n    // Test\n    // if (index === 0) {\n    //   console.log(insertLists);\n    //   console.log(nonModifiedParagraph);\n    //   debugger;\n    // }\n    buildList(nonModifiedParagraph);\n  }, [\n    searchString,\n    content,\n    general,\n    globalHighlightOn,\n    globalHighlightElement\n  ]);\n\n  return (\n    <div className=\"paragraph-container not-claim\" ref={divRef}>\n      <h2 onClick={() => setIsCollapse(general)}>\n        {Object.keys(myReduceWrongWordKeys).length === 0 &&\n          Object.keys(myReduceWrongFigureKeys).length === 0 && (\n            <img src={checkedImg} alt=\"\" />\n          )}\n        {(Object.keys(myReduceWrongWordKeys).length > 0 ||\n          Object.keys(myReduceWrongFigureKeys).length > 0) && (\n          <img src={errorImg} alt=\"\" />\n        )}\n        {Object.keys(myReduceAboriginalWordKeys).length > 0 && (\n          <img src={aboriginalImg} alt=\"\" />\n        )}\n        {general}\n        {searchString && (\n          <>\n            {numOfFoundedStr === 0 ? (\n              <small>{\" \".repeat(6)}無結果</small>\n            ) : (\n              <small>\n                {\" \".repeat(6)}搜尋結果:{numOfFoundedStr}筆\n              </small>\n            )}\n          </>\n        )}\n        {!isCollapse ? (\n          <span>&#x292C;</span>\n        ) : (\n          <span style={{ height: \"1.38em\", lineHeight: \"1.25em\" }}>\n            &#x271B;\n          </span>\n        )}\n      </h2>\n      <section className={isCollapse ? \"collapse\" : \"\"}>\n        {Object.keys(myReduceCorrectKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id]\n                }))\n              }\n              id={`paragraph-${index}-corrects-btn`}\n              type=\"checkbox\"\n            />\n            <p className=\"disp\">\n              <img src={checkedImg} alt=\"\" />\n              元件名稱 & 符號正確:\n              <label htmlFor={`paragraph-${index}-corrects-btn`}>\n                {showControlBtns[`paragraph-${index}-corrects-btn`] ? \"⤬\" : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceCorrectKeys).length > 0 && (\n          <div\n            className=\"paragraph-corrects-btn\"\n            style={\n              showControlBtns[`paragraph-${index}-corrects-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n          >\n            {Object.keys(myReduceCorrectKeys).map((key) => (\n              <button\n                onClick={() => toggleBtnColor(key)}\n                style={{\n                  background: myReduceCorrectKeys[key].clicked\n                    ? elementColorMap[key].color\n                    : \"inherit\"\n                }}\n                key={key}\n                id={`para-${index}-${key}`}\n              >\n                {myReduceCorrectKeys[key].value}\n              </button>\n            ))}\n            <button\n              style={{\n                background: \"rgb(68, 112, 69)\",\n                borderRadius: 1000000\n              }}\n              onClick={toggleAllBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{\n                  width: 25,\n                  height: 20,\n                  transform: \"translateY(3px)\"\n                }}\n              />\n            </button>\n          </div>\n        )}\n        {Object.keys(myReduceWrongWordKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id]\n                }))\n              }\n              id={`paragraph-${index}-word-errors-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"rgb(188 30 30)\" }} className=\"disp\">\n              <img src={errorImg} alt=\"\" />\n              用語錯誤:\n              <label htmlFor={`paragraph-${index}-word-errors-btn`}>\n                {showControlBtns[`paragraph-${index}-word-errors-btn`]\n                  ? \"⤬\"\n                  : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceWrongWordKeys).length > 0 && (\n          <div\n            style={\n              showControlBtns[`paragraph-${index}-word-errors-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n            className=\"paragraph-word-errors-btn\"\n          >\n            {Object.keys(myReduceWrongWordKeys).map((key) => (\n              <button\n                onClick={() => toggleWrongWordBtnColor(key)}\n                style={{\n                  background: myReduceWrongWordKeys[key].clicked\n                    ? \"red\"\n                    : \"inherit\"\n                }}\n                key={key}\n              >\n                {myReduceWrongWordKeys[key].value}\n              </button>\n            ))}\n            <button\n              style={{ background: \"red\", borderRadius: 1000000 }}\n              onClick={toggleAllWrongWordBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        {Object.keys(myReduceFigureKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id]\n                }))\n              }\n              id={`paragraph-${index}-figure-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"#447045\" }} className=\"disp\">\n              <img src={checkedImg} alt=\"\" />\n              引用正確之圖式:\n              <label htmlFor={`paragraph-${index}-figure-btn`}>\n                {showControlBtns[`paragraph-${index}-figure-btn`] ? \"⤬\" : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceFigureKeys).length > 0 && (\n          <div\n            style={\n              showControlBtns[`paragraph-${index}-figure-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n            className=\"paragraph-figure-btn\"\n          >\n            {Object.keys(myReduceFigureKeys).map((key) => (\n              <button\n                onClick={() => toggleFigureBtnColor(key)}\n                style={{\n                  background: myReduceFigureKeys[key].clicked\n                    ? \"#93ad64\"\n                    : \"inherit\"\n                }}\n                key={key}\n              >\n                {myReduceFigureKeys[key].fig}\n              </button>\n            ))}\n            <button\n              style={{ background: \"#93ad64\", borderRadius: 1000000 }}\n              onClick={toggleAllFigureBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        {Object.keys(myReduceWrongFigureKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id]\n                }))\n              }\n              id={`paragraph-${index}-wrong-figure-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"rgb(188, 30, 30)\" }} className=\"disp\">\n              <img src={errorImg} alt=\"\" />\n              引用錯誤之圖式:\n              <label htmlFor={`paragraph-${index}-wrong-figure-btn`}>\n                {showControlBtns[`paragraph-${index}-wrong-figure-btn`]\n                  ? \"⤬\"\n                  : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceWrongFigureKeys).length > 0 && (\n          <div\n            style={\n              showControlBtns[`paragraph-${index}-wrong-figure-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n            className=\"paragraph-wrong-figure-btn\"\n          >\n            {Object.keys(myReduceWrongFigureKeys).map((key) => (\n              <button\n                onClick={() => toggleWrongFigureBtnColor(key)}\n                style={{\n                  background: myReduceWrongFigureKeys[key].clicked\n                    ? \"red\"\n                    : \"inherit\"\n                }}\n                key={key}\n              >\n                {myReduceWrongFigureKeys[key].fig}\n              </button>\n            ))}\n            <button\n              style={{ background: \"red\", borderRadius: 1000000 }}\n              onClick={toggleAllWrongFigureBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        {Object.keys(myReduceAboriginalWordKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id]\n                }))\n              }\n              id={`paragraph-${index}-figure-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"rgb(159 152 152)\" }} className=\"disp\">\n              <img src={aboriginalImg} alt=\"\" />\n              原住民之相關用語:\n              <label htmlFor={`paragraph-${index}-aboriginals-btn`}>\n                {showControlBtns[`paragraph-${index}-aboriginals-btn`]\n                  ? \"⤬\"\n                  : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceAboriginalWordKeys).length > 0 && (\n          <div\n            style={\n              showControlBtns[`paragraph-${index}-aboriginals-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n            className=\"paragraph-aboriginals-btn\"\n          >\n            {Object.keys(myReduceAboriginalWordKeys).map((key) => (\n              <button\n                onClick={() => toggleAboriginalWordBtnColor(key)}\n                style={{\n                  background: myReduceAboriginalWordKeys[key].clicked\n                    ? \"rgb(188 174 174)\"\n                    : \"inherit\"\n                }}\n                key={key}\n              >\n                {myReduceAboriginalWordKeys[key].value}\n              </button>\n            ))}\n            <button\n              style={{ background: \"rgb(188 174 174)\", borderRadius: 1000000 }}\n              onClick={toggleAllAboriginalWordBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        <p className=\"content\">Sorry! 無法分析本段落!!!</p>\n\n        <div className=\"paragraph-container-btns\">\n          <button\n            style={{ position: \"unset\" }}\n            className=\"gotop-btn\"\n            onClick={() =>\n              document\n                .querySelector(\".main-body\")\n                .scrollTo({ top: 0, behavior: \"smooth\" })\n            }\n          >\n            Go Top\n          </button>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default SingleParagraphV2;\n","import React, { useState } from \"react\";\n\nconst SearchPopup = ({ handleClose, searchString, setSearchString }) => {\n  const [tmpSearchString, setTmpSearchString] = useState(searchString);\n\n  return (\n    <div className=\"search-popup\">\n      <h4>搜尋元件名稱</h4>\n      <section>\n        <input\n          type=\"text\"\n          placeholder=\"輸入你要搜尋的元件......\"\n          value={tmpSearchString}\n          onChange={(e) => setTmpSearchString(e.target.value.trim())}\n        />\n        <button\n          onClick={() => {\n            setSearchString(tmpSearchString);\n            handleClose(false);\n          }}\n        >\n          送出\n        </button>\n      </section>\n      <div>\n        <button\n          onClick={() => {\n            setTmpSearchString(\"\");\n            setSearchString(\"\");\n            handleClose(false);\n          }}\n        >\n          清除搜尋結果\n        </button>\n        <button onClick={() => handleClose(false)}>取消</button>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchPopup;\n\n/*\n    personalSettings: {\n      fontSize: 2\n    }\n*/\n","import React, { useContext, useEffect, useState } from \"react\";\nimport SingleParagraph from \"../components/SingleParagraph_v2\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport { getPathName } from \"../utils/getPathName\";\nimport searchImg from \"../assets/search.png\";\nimport Popup from \"reactjs-popup\";\nimport SearchPopup from \"../components/SearchPopup\";\n\nconst AbstractV2 = () => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n\n  const [isSearchPopupOpen, toggleIsSearchPopupOpen] = useState(false);\n  //const [searchString, setSearchString] = useState(\"\");\n  const searchString = essentialData.searchString;\n  const setSearchString = (str) =>\n    setEssentialData((prev) => ({ ...prev, searchString: str }));\n\n  const setIsCollapse = (general) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allAbstractParagraphDetails: essentialData.allAbstractParagraphDetails.map(\n        (paragraph) => {\n          if (general === paragraph.general) {\n            return { ...paragraph, isCollapse: !paragraph.isCollapse };\n          }\n          return paragraph;\n        }\n      ),\n      allTechnicalFieldParagraphDetails: essentialData.allTechnicalFieldParagraphDetails.map(\n        (paragraph) => {\n          if (general === paragraph.general) {\n            return { ...paragraph, isCollapse: !paragraph.isCollapse };\n          }\n          return paragraph;\n        }\n      ),\n      allBackgroundArtParagraphDetails: essentialData.allBackgroundArtParagraphDetails.map(\n        (paragraph) => {\n          if (general === paragraph.general) {\n            return { ...paragraph, isCollapse: !paragraph.isCollapse };\n          }\n          return paragraph;\n        }\n      )\n    }));\n  };\n\n  const openOrCollapseAll = (method) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allAbstractParagraphDetails: essentialData.allAbstractParagraphDetails.map(\n        (paragraph) => ({\n          ...paragraph,\n          isCollapse: method === \"collapse\" ? true : false\n        })\n      ),\n      allTechnicalFieldParagraphDetails: essentialData.allTechnicalFieldParagraphDetails.map(\n        (paragraph) => ({\n          ...paragraph,\n          isCollapse: method === \"collapse\" ? true : false\n        })\n      ),\n      allBackgroundArtParagraphDetails: essentialData.allBackgroundArtParagraphDetails.map(\n        (paragraph) => ({\n          ...paragraph,\n          isCollapse: method === \"collapse\" ? true : false\n        })\n      )\n    }));\n  };\n\n  useEffect(() => {\n    setEssentialData((prev) => ({ ...prev, pathName: getPathName() }));\n  }, []);\n\n  return (\n    <>\n      <section className=\"title-section sticky\">\n        <h1 style={{ color: \"transparent\" }}>摘要</h1>\n        {!essentialData.isProcessing &&\n          essentialData.allAbstractParagraphDetails.length > 0 && (\n            <div>\n              <button onClick={() => openOrCollapseAll(\"collapse\")}>\n                &#x292C; 全部收合\n              </button>\n              <button onClick={() => openOrCollapseAll(\"open\")}>\n                &#x271B; 全部展開\n              </button>\n              <button\n                onClick={(e) => {\n                  if (e.target.tagName !== \"B\") {\n                    toggleIsSearchPopupOpen(true);\n                  }\n                }}\n                className={searchString ? \"withStr\" : \"\"}\n              >\n                <img src={searchImg} alt=\"\" />\n                {searchString && (\n                  <>\n                    <span\n                      style={{\n                        flexGrow: 1,\n                        textAlign: \"start\",\n                        overflow: \"hidden\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\"\n                      }}\n                    >\n                      {searchString}\n                    </span>\n                    <b\n                      style={{ paddingRight: 6, fontSize: \"1.06em\" }}\n                      onClick={() => {\n                        toggleIsSearchPopupOpen(false);\n                        setSearchString(\"\");\n                      }}\n                    >\n                      ⤬\n                    </b>\n                  </>\n                )}\n              </button>\n            </div>\n          )}\n      </section>\n      <section className=\"all-paragraph-section\">\n        {essentialData.isProcessing ? (\n          <div>\n            <h1>摘要&技術</h1>\n            <h3>Processing...</h3>\n          </div>\n        ) : essentialData.allAbstractParagraphDetails.length === 0 ? (\n          <div>\n            <h1>摘要&技術</h1>\n            <h3>No data passed in yet.</h3>\n          </div>\n        ) : (\n          <div>\n            <Popup\n              open={isSearchPopupOpen}\n              closeOnDocumentClick\n              onClose={() => toggleIsSearchPopupOpen(false)}\n            >\n              <SearchPopup\n                handleClose={toggleIsSearchPopupOpen}\n                searchString={searchString}\n                setSearchString={setSearchString}\n              />\n            </Popup>\n\n            <h1>摘要&技術</h1>\n\n            <h6>\n              中文{essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}\n              名稱：\n              {essentialData.applicationNum[3] !== \"1\" &&\n              /(方法|程序|流程|步驟)$/.test(essentialData.utilityModelTitle) ? (\n                <>\n                  {essentialData.utilityModelTitle.slice(\n                    0,\n                    essentialData.utilityModelTitle.match(\n                      /(方法|程序|流程|步驟)$/\n                    ).index\n                  )}\n                  <b style={{ background: \"red\" }}>\n                    {essentialData.utilityModelTitle.slice(\n                      essentialData.utilityModelTitle.match(\n                        /(方法|程序|流程|步驟)$/\n                      ).index\n                    )}\n                  </b>\n                </>\n              ) : (\n                essentialData.utilityModelTitle\n              )}\n            </h6>\n            {essentialData.utilityModelTitleEn && (\n              <h6>\n                英文{essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}\n                名稱：{essentialData.utilityModelTitleEn}\n              </h6>\n            )}\n\n            {[\n              ...essentialData.allAbstractParagraphDetails,\n              ...essentialData.allTechnicalFieldParagraphDetails,\n              ...essentialData.allBackgroundArtParagraphDetails\n            ].map((paragraphDetail, index) => (\n              <SingleParagraph\n                key={index}\n                index={index}\n                isOK={paragraphDetail.isOK}\n                general={paragraphDetail.general}\n                content={paragraphDetail.content}\n                abstractEn={essentialData.abstractContentEn?.[index]}\n                modifiedParagraph={paragraphDetail.modifiedParagraph}\n                figureKeys={paragraphDetail.paragraphMatch.figures}\n                wrongFigureKeys={paragraphDetail.paragraphMatch.figuresErrors}\n                correctKeys={paragraphDetail.paragraphMatch.corrects}\n                wrongWordKeys={paragraphDetail.paragraphMatch.wrongWords}\n                aboriginalWordKeys={\n                  paragraphDetail.paragraphMatch.aboriginalWords\n                }\n                elementColorMap={essentialData.elementColorMap}\n                isCollapse={paragraphDetail.isCollapse}\n                setIsCollapse={setIsCollapse}\n                searchString={searchString}\n                globalHighlightOn={essentialData.globalHighlightOn}\n                globalHighlightElement={essentialData.globalHighlightElement}\n              />\n            ))}\n          </div>\n        )}\n      </section>\n    </>\n  );\n};\n\nexport default AbstractV2;\n","import { allThisWords } from \"../../dict/allThisWords\";\n\nexport const triggerToggleBtnColor = (e, toggleBtnColor) => {\n  // console.log(e.target.classList);\n  const allClasses = e.target.classList;\n  let wantedClass;\n  for (let i = 0; i < allClasses.length; i++) {\n    if (allClasses[i].startsWith(\"c-\") || allClasses[i].startsWith(\"u-\")) {\n      wantedClass = allClasses[i];\n      break;\n    }\n  }\n  // console.log(wantedClass);\n  toggleBtnColor(wantedClass.replace(/[cu]-/, \"\"));\n};\n\nexport const triggerToggleErrorBtnColor = (e, toggleErrorBtnColor) => {\n  // console.log(e.target.classList);\n  const allClasses = e.target.classList;\n  let wantedClass;\n  for (let i = 0; i < allClasses.length; i++) {\n    if (allClasses[i].startsWith(\"e-\")) {\n      wantedClass = allClasses[i];\n      break;\n    }\n  }\n  // console.log(wantedClass);\n  toggleErrorBtnColor(wantedClass.replace(\"e-\", \"\"));\n};\n\nexport const triggerToggleModifiedBtnColor = (e, toggleModifiedBtnColor) => {\n  // console.log(e.target.classList);\n  const allClasses = e.target.classList;\n  let wantedClass;\n  for (let i = 0; i < allClasses.length; i++) {\n    if (allClasses[i].startsWith(\"m-\")) {\n      wantedClass = allClasses[i];\n      break;\n    }\n  }\n  // console.log(wantedClass);\n  toggleModifiedBtnColor(wantedClass.replace(\"m-\", \"\"));\n};\n\nexport const triggerPopup = (\n  event,\n  {\n    content,\n    matches,\n    usedElements,\n    setPopupStart,\n    setPopupEnd,\n    setPopupIndex,\n    setPopupItem,\n    setPopupFullValue,\n    setPopupAvailableContent,\n    toggleIsPopupOpen\n  }\n) => {\n  const {\n    elitem,\n    elvalue,\n    elfullvalue,\n    start: _start,\n    end: _end,\n    realstart: _realstart,\n    indexofmatch\n  } = event.currentTarget.dataset;\n  const start = parseInt(_start);\n  const end = parseInt(_end);\n  const valueEnd = start + elvalue.length;\n  const realstart = parseInt(_realstart);\n  setPopupStart(start);\n  // setPopupEnd(end);\n  setPopupEnd(valueEnd);\n  setPopupIndex(parseInt(indexofmatch));\n  setPopupItem(elitem);\n  setPopupFullValue(elfullvalue === \"none\" ? \"\" : elfullvalue);\n  setPopupAvailableContent(() => {\n    // const nextStart = [...matches, ...usedElements, ...preUsedElementsNonUsed]\n    const nextStart = [...matches, ...usedElements]\n      .sort((a, b) => a.start - b.start)\n      .find((mt) => (mt.realStart || mt.start) >= end);\n\n    // console.log(nextStart);\n    // debugger;\n\n    let valueStartAt = start;\n    if (realstart >= 0) {\n      valueStartAt =\n        realstart +\n        content.slice(realstart).match(RegExp(allThisWords()))[0].length;\n    }\n    const frontStr = content.substring(valueStartAt, valueEnd);\n    const availableStr = nextStart\n      ? content.substring(valueEnd, nextStart.realStart || nextStart.start)\n      : content.substring(valueEnd, content.length);\n    const endStrMatch = availableStr.match(\n      RegExp(\n        \"(@|、|，|、|，|-|；|:|,|。|/|\\\\\\\\|\\\\?|\\\\.|\\\\+|\\\\[|\\\\]|\\\\(|\\\\)|{|}|「|」)\"\n      )\n    );\n    if (endStrMatch) {\n      return {\n        startAt: valueStartAt,\n        content: frontStr + availableStr.slice(0, endStrMatch.index)\n      };\n    } else {\n      return {\n        startAt: valueStartAt,\n        content: frontStr + availableStr\n      };\n    }\n  });\n  toggleIsPopupOpen((prev) => !prev);\n};\n","import React from \"react\";\nimport deleteIcon from \"../assets/delete_icon.png\";\n\nconst ClaimEditingForm = ({ num, editingZoneValue, setEditingZoneValue }) => {\n  const handleSentenceChange = (e, idx) => {\n    setEditingZoneValue(\n      editingZoneValue\n        .split(`@##@`)\n        .map((sentence, _i) => {\n          if (idx === _i) {\n            return e.target.value;\n          }\n          return sentence;\n        })\n        .join(`@##@`)\n    );\n  };\n\n  const handleSentenceDeleting = (idx) => {\n    setEditingZoneValue(\n      editingZoneValue\n        .split(`@##@`)\n        .filter((sentence, _i) => idx !== _i)\n        .join(`@##@`)\n    );\n  };\n\n  return (\n    <>\n      {editingZoneValue.split(`@##@`).map((sentence, idx) => (\n        <div\n          key={idx}\n          style={{ width: \"100%\", display: \"flex\", marginBottom: \"0.2em\" }}\n        >\n          {editingZoneValue.split(\"@##@\").length > 1 && (\n            <span style={{ backgroundColor: \"initial\", paddingRight: \"0.5em\" }}>\n              {num}-{idx + 1}\n              <br />{\" \"}\n              <img\n                src={deleteIcon}\n                alt=\"delete\"\n                style={{ width: 20, height: 20 }}\n                onClick={() => handleSentenceDeleting(idx)}\n              />\n            </span>\n          )}\n          <textarea\n            style={{\n              flexGrow: 1,\n              height: editingZoneValue.split(`@##@`).length > 1 ? 100 : 200,\n              fontSize: \"1.1em\"\n            }}\n            value={sentence}\n            onChange={(e) => handleSentenceChange(e, idx)}\n          />\n        </div>\n      ))}\n      <button\n        style={{ width: \"12%\", fontSize: \"0.75em\", marginLeft: \"85%\" }}\n        onClick={() => setEditingZoneValue((prev) => prev + `@##@`)}\n      >\n        新增段句\n      </button>\n    </>\n  );\n};\n\nexport default ClaimEditingForm;\n\n/**\n *               value={editingZoneValue}\n              onChange={(e) => setEditingZoneValue(e.target.value)}\n */\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Popup from \"reactjs-popup\";\n\nconst ClaimPopup = ({\n  isPopupOpen,\n  toggleIsPopupOpen,\n  popupStart,\n  popupEnd,\n  setPopupStart,\n  setPopupEnd,\n  popupIndex,\n  popupAvailableContent,\n  handleUpdateMatch,\n  popupItem,\n  popupFullValue\n}) => {\n  const availableContent = popupAvailableContent?.content;\n  const availableContentStartAt = popupAvailableContent?.startAt;\n  const dispStr = availableContent\n    ? availableContent.split(\"\").map((char, charIdx) => (\n        <span\n          key={charIdx + availableContentStartAt}\n          className={\n            charIdx + availableContentStartAt >= popupStart &&\n            charIdx + availableContentStartAt < popupEnd\n              ? \"highlight-char\"\n              : \"\"\n          }\n        >\n          {char}\n        </span>\n      ))\n    : \"\";\n\n  const selectedStr = availableContent\n    ? availableContent.slice(\n        popupStart - availableContentStartAt,\n        popupEnd - availableContentStartAt\n      )\n    : \"\";\n\n  const [correspondedStr, setCorrespondedStr] = useState(\"\");\n  const [preserveValue, setPreserveValue] = useState(false);\n  const isPopupOpenRef = useRef(isPopupOpen);\n\n  useEffect(() => {\n    // console.log(\"popup last value: \", isPopupOpenRef.current);\n    // console.log(\"popup current value: \", isPopupOpen);\n    // console.log(\"selectedStr: \", selectedStr);\n    if (isPopupOpenRef.current !== isPopupOpen) {\n      // we open or close popup\n      setPreserveValue(false);\n      setCorrespondedStr(popupFullValue || popupItem || selectedStr);\n    } else {\n      // console.log(\"reset here\");\n      setCorrespondedStr(selectedStr);\n    }\n    isPopupOpenRef.current = isPopupOpen;\n  }, [popupStart, popupEnd, isPopupOpen]);\n\n  const handleStartMove = (dir) => {\n    const startMin = availableContentStartAt;\n    const startMax = popupEnd - 1;\n    if (dir === 1 && popupStart + 1 <= startMax) {\n      setPopupStart((prev) => prev + 1);\n    } else if (dir === -1 && popupStart - 1 >= startMin) {\n      setPopupStart((prev) => prev - 1);\n    }\n  };\n\n  const handleEndMove = (dir) => {\n    const endMin = popupStart + 1;\n    const endMax = availableContentStartAt + availableContent.length;\n    if (dir === 1 && popupEnd + 1 <= endMax) {\n      setPopupEnd((prev) => prev + 1);\n    } else if (dir === -1 && popupEnd - 1 >= endMin) {\n      setPopupEnd((prev) => prev - 1);\n    }\n  };\n\n  return (\n    <Popup\n      open={isPopupOpen}\n      closeOnDocumentClick\n      onClose={() => toggleIsPopupOpen(false)}\n    >\n      <div className=\"popup\">\n        <p style={{ alignSelf: \"center\", fontSize: \"1.1em\", fontWeight: 700 }}>\n          修正元件名稱\n        </p>\n        <p>\n          可選擇的文字:{\" \"}\n          <button className=\"arrow-btn\" onClick={() => handleStartMove(-1)}>\n            &#8249;\n          </button>\n          <button className=\"arrow-btn\" onClick={() => handleStartMove(1)}>\n            &#8250;\n          </button>{\" \"}\n          {dispStr}{\" \"}\n          <button className=\"arrow-btn\" onClick={() => handleEndMove(-1)}>\n            &#8249;\n          </button>\n          <button className=\"arrow-btn\" onClick={() => handleEndMove(1)}>\n            &#8250;\n          </button>\n        </p>\n        <p>選取的文字: {selectedStr}</p>\n        <p>\n          對應的元件名稱:{\" \"}\n          <input\n            type=\"text\"\n            value={correspondedStr}\n            onChange={(e) => setCorrespondedStr(e.target.value.trim())}\n          />\n          <button onClick={() => setCorrespondedStr(selectedStr)}>承上</button>\n        </p>\n        <p>\n          <label>\n            套用至全部元件&nbsp;\n            <input\n              type=\"checkbox\"\n              style={{\n                width: 18,\n                height: 18,\n                transform: \"translateY(3px)\"\n              }}\n              checked={preserveValue}\n              onChange={() => setPreserveValue((prev) => !prev)}\n            />\n          </label>\n        </p>\n        <p style={{ alignSelf: \"center\" }}>\n          <button\n            className=\"util-btn\"\n            onClick={() => {\n              handleUpdateMatch({\n                popupIndex,\n                start: popupStart,\n                end: popupEnd,\n                value: selectedStr,\n                fullValue:\n                  correspondedStr === selectedStr ? null : correspondedStr,\n                preserveValue\n              });\n              toggleIsPopupOpen(false);\n            }}\n          >\n            確定\n          </button>\n          <button className=\"util-btn\" onClick={() => toggleIsPopupOpen(false)}>\n            取消\n          </button>\n        </p>\n      </div>\n    </Popup>\n  );\n};\n\nexport default ClaimPopup;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport ReactTooltip from \"react-tooltip\";\nimport checkedImg from \"../assets/checked.png\";\nimport errorImg from \"../assets/error.png\";\nimport modifyImg from \"../assets/hammer.png\";\nimport switchImg from \"../assets/switch.png\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport { highlightClaimContent } from \"../utils/modifyAllClaims\";\nimport { stringToUnicode } from \"../utils/stringToUnicode\";\nimport {\n  triggerPopup,\n  triggerToggleBtnColor,\n  triggerToggleErrorBtnColor,\n  triggerToggleModifiedBtnColor,\n} from \"../utils/trigger/claim\";\nimport ClaimEditingForm from \"./ClaimEditingForm\";\nimport ClaimPopup from \"./ClaimPopup\";\n\nconst SingleClaim = ({\n  index,\n  num,\n  type,\n  allClaimContent,\n  attemptAttaches,\n  content,\n  modifiedClaim,\n  claimSearchPath,\n  matches,\n  usedElements,\n  nonMatches,\n  preUsedElementsNonUsed,\n  errors,\n  elementColorMap,\n  isCollapse,\n  setIsCollapse,\n  setNewContent,\n  setOldContent,\n  setNewMatches,\n  preSavedClaimNum,\n  preSavedContent,\n  preSavedMatches,\n  handleSaveAll,\n  searchString,\n  globalHighlightOn,\n  globalHighlightElement,\n}) => {\n  const divRef = useRef(null);\n  const searchStringPrev = useRef(searchString);\n  const [numOfFoundedStr, setNumOfFoundedStr] = useState(0);\n  const [myReduceMatches, setMyReduceMatches] = useState({});\n  const [myReduceUsedElements, setMyReduceUsedElements] = useState({});\n  const [myReduceNonMatches, setMyReduceNonMatches] = useState({});\n  const [myReduceModifiedMatches, setMyReduceModifiedMatches] = useState({});\n\n  const [copyOfModifiedClaim, setCopyOfModifiedClaim] = useState(modifiedClaim);\n  const [copyOfSingleContent, setCopyOfSingleContent] = useState(\n    preSavedContent || content\n  );\n  const [copyOfSingleNum, setCopyOfSingleNum] = useState(\n    preSavedClaimNum || num\n  );\n  const [copyOfSingleMatches, setCopyOfSingleMatches] = useState(\n    preSavedMatches || matches\n  );\n  const [onContentEditing, setOnContentEditing] = useState(false);\n  const [editingZoneValue, setEditingZoneValue] = useState(\n    preSavedContent || content\n  );\n  const [editingZoneNumlValue, setEditingZoneNumValue] = useState(\n    preSavedClaimNum || num\n  );\n\n  // For popup\n  const [isPopupOpen, toggleIsPopupOpen] = useState(false);\n  const [popupStart, setPopupStart] = useState(-1);\n  const [popupEnd, setPopupEnd] = useState(-1);\n  const [popupIndex, setPopupIndex] = useState(-1);\n  const [popupAvailableContent, setPopupAvailableContent] = useState(null);\n  const [popupItem, setPopupItem] = useState(\"\");\n  const [popupFullValue, setPopupFullValue] = useState(\"\");\n  const [showControlBtns, setShowControlBtns] = useState(() => {\n    const obj = {};\n    obj[`paragraph-${index}-errors-btn`] = true;\n    obj[`paragraph-${index}-corrects-btn`] = true;\n    obj[`paragraph-${index}-modify-btn`] = true;\n\n    return obj;\n  });\n\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n\n  const areMatchesEqualByStartAndValue = (aMatches, bMatches) => {\n    if (aMatches.length !== bMatches.length) return false;\n    if (aMatches.length === 0 && bMatches.length === 0) return true;\n\n    return aMatches.every(\n      (a, aIdx) =>\n        a.start === bMatches[aIdx].start && a.value === bMatches[aIdx].value\n    );\n  };\n\n  const toggleBtnColor = (key) => {\n    if (essentialData.personalSettings.synchronizeHighlight) {\n      const prevGlobalHighlightElement = [\n        ...essentialData.globalHighlightElement,\n      ];\n\n      if (prevGlobalHighlightElement.find((el) => el === key)) {\n        setEssentialData((prev) => ({\n          ...prev,\n          globalHighlightOn: prevGlobalHighlightElement.length !== 1,\n          globalHighlightElement: prevGlobalHighlightElement.filter(\n            (g) => g !== key\n          ),\n        }));\n      } else {\n        setEssentialData((prev) => ({\n          ...prev,\n          globalHighlightOn: true,\n          globalHighlightElement: [...prevGlobalHighlightElement, key],\n        }));\n      }\n    } else {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.background = myReduceMatches[key].clicked\n          ? \"inherit\"\n          : (elementColorMap[key] && elementColorMap[key].color) ||\n            \"transparent\";\n      });\n\n      divRef.current.querySelectorAll(`.u-${key}`).forEach((el) => {\n        if (myReduceMatches[key]) {\n          el.style.background = myReduceMatches[key].clicked\n            ? \"inherit\"\n            : (elementColorMap[key] && elementColorMap[key].color) ||\n              \"transparent\";\n        } else if (myReduceUsedElements[key]) {\n          el.style.background = myReduceUsedElements[key].clicked\n            ? \"inherit\"\n            : (elementColorMap[key] && elementColorMap[key].color) ||\n              \"transparent\";\n        }\n      });\n\n      if (myReduceMatches[key]) {\n        setMyReduceMatches({\n          ...myReduceMatches,\n          [key]: {\n            ...myReduceMatches[key],\n            clicked: !myReduceMatches[key].clicked,\n          },\n        });\n      }\n      if (myReduceUsedElements[key]) {\n        setMyReduceUsedElements({\n          ...myReduceUsedElements,\n          [key]: {\n            ...myReduceUsedElements[key],\n            clicked: !myReduceUsedElements[key].clicked,\n          },\n        });\n      }\n    }\n  };\n\n  const toggleAllBtnColor = () => {\n    Object.keys(myReduceMatches).forEach((key) => {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.background = myReduceMatches[key].clicked\n          ? \"inherit\"\n          : (elementColorMap[key] && elementColorMap[key].color) ||\n            \"transparent\";\n      });\n\n      divRef.current.querySelectorAll(`.u-${key}`).forEach((el) => {\n        el.style.background = myReduceMatches[key].clicked\n          ? \"inherit\"\n          : (elementColorMap[key] && elementColorMap[key].color) ||\n            \"transparent\";\n      });\n    });\n\n    const arrOfMyReduceMatches = Object.keys(myReduceMatches).map((key) => [\n      key,\n      {\n        ...myReduceMatches[key],\n        clicked: !myReduceMatches[key].clicked,\n      },\n    ]);\n    setMyReduceMatches(Object.fromEntries(arrOfMyReduceMatches));\n    const arrOfMyReduceUsedElements = Object.keys(myReduceUsedElements).map(\n      (key) => [\n        key,\n        {\n          ...myReduceUsedElements[key],\n          clicked: myReduceMatches[key]\n            ? !myReduceUsedElements[key].clicked\n            : myReduceUsedElements[key].clicked,\n        },\n      ]\n    );\n    setMyReduceUsedElements(Object.fromEntries(arrOfMyReduceUsedElements));\n  };\n\n  const toggleErrorBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n      el.style.background = myReduceNonMatches[key].clicked\n        ? \"inherit\"\n        : \"rgb(255,0,0)\";\n    });\n\n    setMyReduceNonMatches({\n      ...myReduceNonMatches,\n      [key]: {\n        ...myReduceNonMatches[key],\n        clicked: !myReduceNonMatches[key].clicked,\n      },\n    });\n  };\n\n  const toggleAllErrorBtnColor = () => {\n    Object.keys(myReduceNonMatches).forEach((key) => {\n      divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n        el.style.background = myReduceNonMatches[key].clicked\n          ? \"inherit\"\n          : \"rgb(255,0,0)\";\n      });\n    });\n    const arrOfMyReduceNonMatches = Object.keys(myReduceNonMatches).map(\n      (key) => [\n        key,\n        {\n          ...myReduceNonMatches[key],\n          clicked: !myReduceNonMatches[key].clicked,\n        },\n      ]\n    );\n    setMyReduceNonMatches(Object.fromEntries(arrOfMyReduceNonMatches));\n  };\n\n  const toggleModifiedBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.m-${key}`).forEach((el) => {\n      el.style.background = myReduceModifiedMatches[key].clicked\n        ? \"inherit\"\n        : \"hotpink\";\n    });\n\n    setMyReduceModifiedMatches({\n      ...myReduceModifiedMatches,\n      [key]: {\n        ...myReduceModifiedMatches[key],\n        clicked: !myReduceModifiedMatches[key].clicked,\n      },\n    });\n  };\n\n  const buildList = (_modifiedClaim, _modifiedClaimWithSearchStr) => {\n    divRef.current.querySelector(\".content\").innerHTML =\n      `【請求項${num}${_modifiedClaim !== modifiedClaim ? \":已修正\" : \"\"}】 ` +\n      (_modifiedClaimWithSearchStr || _modifiedClaim)\n        .split(`@##@`)\n        .map((sentence, _iidd) => {\n          if (_iidd !== 0) {\n            return \"&nbsp;\".repeat(6) + sentence;\n          }\n          return sentence;\n        })\n        .join(`@##@`)\n        .replaceAll(`@##@`, `<br/>`);\n\n    if (type === \"unknown\") {\n      return;\n    }\n\n    let reduceMatches = {};\n    matches.forEach(({ group, value, item, isOK, keys, keyFromGroup }) => {\n      if (!isOK) return;\n      if (!reduceMatches[group]) {\n        reduceMatches[group] = {\n          group,\n          keyFromGroup,\n          value,\n          item,\n          // clicked: true,\n          clicked:\n            globalHighlightOn &&\n            (globalHighlightElement.length === 0 ||\n              globalHighlightElement.find((g) => g === group)),\n          isOK,\n          keys: keys ? keys : [],\n        };\n      } else if (keys) {\n        let newKeys = reduceMatches[group].keys.slice();\n        keys.forEach((k) => {\n          if (!newKeys.includes(k)) {\n            newKeys.push(k);\n          }\n        });\n        reduceMatches[group].keys = newKeys;\n      }\n    });\n\n    let reduceUsedElements = {};\n    usedElements.forEach(({ group, value, item, keys, keyFromGroup }) => {\n      if (!reduceUsedElements[group]) {\n        reduceUsedElements[group] = {\n          group,\n          keyFromGroup,\n          value,\n          item,\n          // clicked: true,\n          clicked:\n            globalHighlightOn &&\n            (globalHighlightElement.length === 0 ||\n              globalHighlightElement.find((g) => g === group)),\n          keys: keys ? keys : [],\n        };\n      } else if (keys) {\n        let newKeys = reduceUsedElements[group].keys.slice();\n        keys.forEach((k) => {\n          if (!newKeys.includes(k)) {\n            newKeys.push(k);\n          }\n        });\n        reduceUsedElements[group].keys = newKeys;\n      }\n    });\n\n    let reduceNonMatches = {};\n    nonMatches.forEach(({ group, item, value, keys, keyFromGroup }) => {\n      if (!reduceNonMatches[group]) {\n        reduceNonMatches[group] = {\n          group,\n          keyFromGroup,\n          item,\n          value,\n          clicked: true,\n          keys: keys ? keys : [],\n        };\n      } else if (keys) {\n        let newKeys = reduceNonMatches[group].keys.slice();\n        keys.forEach((k) => {\n          if (!newKeys.includes(k)) {\n            newKeys.push(k);\n          }\n        });\n        reduceNonMatches[group].keys = newKeys;\n      }\n    });\n\n    let reduceModifiedMatches = {};\n    if (copyOfSingleMatches) {\n      copyOfSingleMatches\n        .filter((mm) => mm.hasBeenModified)\n        .forEach(({ group, value, item, keys }) => {\n          if (!reduceModifiedMatches[group]) {\n            reduceModifiedMatches[group] = {\n              group,\n              value,\n              item,\n              clicked: true,\n              keys: keys ? keys : [],\n            };\n          } else if (keys) {\n            let newKeys = reduceModifiedMatches[group].keys.slice();\n            keys.forEach((k) => {\n              if (!newKeys.includes(k)) {\n                newKeys.push(k);\n              }\n            });\n            reduceModifiedMatches[group].keys = newKeys;\n          }\n        });\n    }\n    setMyReduceModifiedMatches(reduceModifiedMatches);\n\n    setMyReduceMatches(reduceMatches);\n    setMyReduceUsedElements(reduceUsedElements);\n    setMyReduceNonMatches(reduceNonMatches);\n\n    Object.keys(reduceMatches).forEach((key) => {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n        el.style.background = reduceMatches[key].clicked\n          ? (elementColorMap[key] && elementColorMap[key].color) ||\n            \"transparent\"\n          : \"transparent\";\n\n        if (\n          essentialData.personalSettings.showClaimElementKey &&\n          reduceMatches[key].keyFromGroup &&\n          reduceMatches[key].keys.length === 0 &&\n          !el.innerHTML.includes(\"<small>\")\n        ) {\n          el.innerHTML += `<small>${reduceMatches[key].keyFromGroup}</small>`;\n        } else if (\n          !essentialData.personalSettings.showClaimElementKey &&\n          el.innerHTML.includes(\"<small>\")\n        ) {\n          el.innerHTML = el.innerHTML.split(\"<small>\")[0];\n        }\n      });\n    });\n\n    Object.keys(reduceUsedElements).forEach((key) => {\n      divRef.current.querySelectorAll(`.u-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n        el.style.background = reduceUsedElements[key].clicked\n          ? (elementColorMap[key] && elementColorMap[key].color) ||\n            \"transparent\"\n          : \"transparent\";\n\n        if (\n          essentialData.personalSettings.showClaimElementKey &&\n          reduceUsedElements[key].keyFromGroup &&\n          reduceUsedElements[key].keys.length === 0 &&\n          !el.innerHTML.includes(\"<small>\")\n        ) {\n          el.innerHTML += `<small>${reduceUsedElements[key].keyFromGroup}</small>`;\n        } else if (\n          !essentialData.personalSettings.showClaimElementKey &&\n          el.innerHTML.includes(\"<small>\")\n        ) {\n          el.innerHTML = el.innerHTML.split(\"<small>\")[0];\n        }\n      });\n    });\n\n    Object.keys(reduceNonMatches).forEach((key) => {\n      divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n        el.style.background = reduceNonMatches[key].clicked ? \"red\" : \"inherit\";\n\n        if (\n          reduceNonMatches[key].keyFromGroup &&\n          reduceNonMatches[key].keys.length === 0 &&\n          !el.innerHTML.includes(\"<small>\")\n        )\n          el.innerHTML += `<small>${reduceNonMatches[key].keyFromGroup}</small>`;\n      });\n    });\n\n    Object.keys(reduceModifiedMatches).forEach((key) => {\n      divRef.current.querySelectorAll(`.m-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n        el.style.background = reduceModifiedMatches[key].clicked\n          ? \"hotpink\"\n          : \"inherit\";\n      });\n    });\n  };\n\n  /*\n  useEffect(() => {\n    // divRef.current.querySelector(\"h2\").style.background = \"rgb(147, 173, 100)\";\n    buildList(copyOfModifiedClaim, \"\");\n    ReactTooltip.rebuild();\n  }, [content, num, matches, copyOfModifiedClaim]);\n  */\n\n  useEffect(() => {\n    // if (!modifiedClaim || searchStringPrev.current === searchString) {\n    //   return;\n    // }\n\n    if (searchString === \"\" /* && searchStringPrev.current !== searchString*/) {\n      searchStringPrev.current = searchString;\n      buildList(copyOfModifiedClaim, \"\");\n      // console.log(\"No need to rebuild tooltip\")\n      ReactTooltip.rebuild();\n      return;\n    }\n\n    searchStringPrev.current = searchString;\n    // console.log(\"rebuildlist\");\n    const htmlReg = RegExp(\"<(\\\"[^\\\"]*\\\"|'[^']*'|[^'\\\">])*>\", \"g\");\n    let nonModifiedClaim = modifiedClaim.replaceAll(htmlReg, \"@\");\n    let tagLists = [...modifiedClaim.matchAll(htmlReg)];\n\n    tagLists.forEach((tagList, idx) => {\n      for (let i = idx + 1; i < tagLists.length; i++) {\n        tagLists[i].index -= tagList[0].length - 1;\n      }\n    });\n    let insertLists = tagLists.map((tagList) => ({\n      start: tagList.index,\n      content: tagList[0],\n    }));\n\n    const searchStringMatches = [\n      ...nonModifiedClaim.matchAll(\n        RegExp(searchString.split(\"\").join(\"@?\"), \"g\")\n      ),\n    ];\n    setNumOfFoundedStr(searchStringMatches.length);\n\n    searchStringMatches.forEach((mt) => {\n      for (let j = mt.index; j < mt.index + mt[0].length; j++) {\n        if (nonModifiedClaim[j] === \"@\") {\n          continue;\n        }\n        insertLists.push({\n          start: j,\n          content: `<strong class='search-highlight'>${nonModifiedClaim[j]}</strong>`,\n        });\n      }\n    });\n\n    insertLists.sort((a, b) => a.start - b.start);\n\n    for (let i = insertLists.length - 1; i >= 0; i--) {\n      nonModifiedClaim =\n        nonModifiedClaim.slice(0, insertLists[i].start) +\n        insertLists[i].content +\n        nonModifiedClaim.slice(insertLists[i].start + 1);\n    }\n    //Test\n    // if (index === 1) {\n    //   console.log(insertLists);\n    //   console.log nonModifiedClaim);\n    //   debugger;\n    // }\n    buildList(copyOfModifiedClaim, nonModifiedClaim);\n    ReactTooltip.rebuild();\n  }, [\n    searchString,\n    content,\n    num,\n    matches,\n    copyOfModifiedClaim,\n    globalHighlightOn,\n    globalHighlightElement,\n    essentialData.personalSettings.showClaimElementKey,\n    essentialData.personalSettings.synchronizeHighlight,\n  ]);\n\n  const handleUpdateMatch = (updateMatch) => {\n    const newMatches = copyOfSingleMatches.map((match) => {\n      if (match.indexOfMatch === updateMatch.popupIndex) {\n        if (\n          updateMatch.start === matches[updateMatch.popupIndex].start &&\n          updateMatch.value === matches[updateMatch.popupIndex].value\n        ) {\n          return matches[updateMatch.popupIndex];\n        }\n        return {\n          ...match,\n          isInDescriptionOfElementMap: true,\n          pathIsOK:\n            type === \"independent\" && match.indexOfMatch === 0 ? true : false,\n          preserveValue: updateMatch.preserveValue,\n          hasBeenModified: true,\n          isOK: true,\n          prevMatchedElement: null,\n          start: updateMatch.start,\n          end: updateMatch.end,\n          value: updateMatch.value,\n          fullValue: updateMatch.fullValue,\n          item: updateMatch.fullValue || updateMatch.value,\n          group: stringToUnicode(updateMatch.fullValue || updateMatch.value),\n          keyEnd: match.hasOuterKey ? match.keyEnd : null,\n          keyStart: match.hasOuterKey ? match.keyStart : null,\n          keys: match.hasOuterKey ? match.keys : null,\n        };\n      }\n      return match;\n    });\n\n    if (\n      // JSON.stringify(matches) === JSON.stringify(newMatches)\n      areMatchesEqualByStartAndValue(matches, newMatches)\n    ) {\n      setCopyOfSingleMatches(matches);\n      setNewMatches(index, null);\n      setCopyOfModifiedClaim(modifiedClaim);\n    } else {\n      setCopyOfSingleMatches(newMatches);\n      setNewMatches(index, newMatches);\n\n      const modifiedPreUsedElementsNonUsed = preUsedElementsNonUsed.filter(\n        (plt) =>\n          !newMatches.some((m) => !(plt.start >= m.end || plt.end <= m.start))\n      );\n\n      const newModifiedClaim = highlightClaimContent(\n        {\n          num,\n          matches: newMatches,\n          usedElements,\n          // preUsedElementsNonUsed,\n          preUsedElementsNonUsed: modifiedPreUsedElementsNonUsed,\n          errors,\n        },\n        content,\n        elementColorMap\n      );\n      setCopyOfModifiedClaim(newModifiedClaim);\n    }\n  };\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const clickHandler = (e) => triggerToggleBtnColor(e, toggleBtnColor);\n\n    const dbClickHandler = (event) =>\n      triggerPopup(event, {\n        content,\n        matches,\n        usedElements,\n        setPopupStart,\n        setPopupEnd,\n        setPopupIndex,\n        setPopupItem,\n        setPopupFullValue,\n        setPopupAvailableContent,\n        toggleIsPopupOpen,\n      });\n\n    if (Object.keys(myReduceMatches).length > 0) {\n      // console.log(\"add myReduceMatches eventListener...\");\n      Object.keys(myReduceMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.c-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", clickHandler);\n          el.addEventListener(\"dblclick\", dbClickHandler);\n          /*\n          if (\n            essentialData.personalSettings.showClaimElementKey &&\n            myReduceMatches[key].keyFromGroup &&\n            myReduceMatches[key].keys.length === 0 &&\n            !el.innerHTML.includes(\"<small>\")\n          ) {\n            el.innerHTML += `<small>${myReduceMatches[key].keyFromGroup}</small>`;\n          } else if (\n            !essentialData.personalSettings.showClaimElementKey &&\n            el.innerHTML.includes(\"<small>\")\n          ) {\n            el.innerHTML = el.innerHTML.split(\"<small>\")[0];\n          }\n          */\n        });\n      });\n      /* Object.keys(myReduceMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.u-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", triggerToggleBtnColor);\n          if (myReduceMatches[key].keyFromGroup)\n            el.innerHTML += `<small>${myReduceMatches[key].keyFromGroup}</small>`;\n        });\n      }); */\n    }\n\n    return () => {\n      // console.log(\"remove myReduceMatches eventListener...\");\n      Object.keys(myReduceMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.c-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", clickHandler);\n          el.removeEventListener(\"dblclick\", dbClickHandler);\n        });\n      });\n      /* Object.keys(myReduceMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.u-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", triggerToggleBtnColor);\n          // el.removeEventListener(\"dblclick\", triggerPopup);\n        });\n      }); */\n    };\n  }, [\n    myReduceMatches,\n    copyOfSingleMatches,\n    essentialData.personalSettings.showClaimElementKey,\n  ]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) => triggerToggleBtnColor(e, toggleBtnColor);\n\n    if (Object.keys(myReduceUsedElements).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceUsedElements).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.u-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n          /*\n          if (\n            essentialData.personalSettings.showClaimElementKey &&\n            myReduceUsedElements[key].keyFromGroup &&\n            myReduceUsedElements[key].keys.length === 0 &&\n            !el.innerHTML.includes(\"<small>\")\n          ) {\n            el.innerHTML += `<small>${myReduceUsedElements[key].keyFromGroup}</small>`;\n          } else if (\n            !essentialData.personalSettings.showClaimElementKey &&\n            el.innerHTML.includes(\"<small>\")\n          ) {\n            el.innerHTML = el.innerHTML.split(\"<small>\")[0];\n          }\n          */\n        });\n      });\n    }\n\n    return () => {\n      Object.keys(myReduceUsedElements).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.u-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [\n    myReduceUsedElements,\n    copyOfSingleMatches,\n    essentialData.personalSettings.showClaimElementKey,\n  ]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const clickHandler = (e) =>\n      triggerToggleErrorBtnColor(e, toggleErrorBtnColor);\n\n    const dbClickHandler = (event) =>\n      triggerPopup(event, {\n        content,\n        matches,\n        usedElements,\n        setPopupStart,\n        setPopupEnd,\n        setPopupIndex,\n        setPopupItem,\n        setPopupFullValue,\n        setPopupAvailableContent,\n        toggleIsPopupOpen,\n      });\n\n    if (Object.keys(myReduceNonMatches).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceNonMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.e-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", clickHandler);\n          el.addEventListener(\"dblclick\", dbClickHandler);\n          /*\n          if (\n            myReduceNonMatches[key].keyFromGroup &&\n            myReduceNonMatches[key].keys.length === 0 &&\n            !el.innerHTML.includes(\"<small>\")\n          )\n            el.innerHTML += `<small>${myReduceNonMatches[key].keyFromGroup}</small>`; */\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceNonMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.e-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", clickHandler);\n          el.removeEventListener(\"dblclick\", dbClickHandler);\n        });\n      });\n    };\n  }, [myReduceNonMatches, copyOfSingleMatches]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const clickHandler = (e) =>\n      triggerToggleModifiedBtnColor(e, toggleModifiedBtnColor);\n\n    const dbClickHandler = (event) =>\n      triggerPopup(event, {\n        content,\n        matches,\n        usedElements,\n        setPopupStart,\n        setPopupEnd,\n        setPopupIndex,\n        setPopupItem,\n        setPopupFullValue,\n        setPopupAvailableContent,\n        toggleIsPopupOpen,\n      });\n\n    if (Object.keys(myReduceModifiedMatches).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceModifiedMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.m-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", clickHandler);\n          el.addEventListener(\"dblclick\", dbClickHandler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceModifiedMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.m-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", clickHandler);\n          el.removeEventListener(\"dblclick\", dbClickHandler);\n        });\n      });\n    };\n  }, [myReduceModifiedMatches]);\n\n  useEffect(() => {\n    if (!preSavedContent && !preSavedClaimNum && !preSavedMatches) {\n      setCopyOfSingleContent(content);\n      setCopyOfSingleNum(num);\n      setCopyOfSingleMatches(matches);\n      setCopyOfModifiedClaim(modifiedClaim);\n      setEditingZoneValue(content);\n      setEditingZoneNumValue(num);\n    }\n  }, [preSavedContent, preSavedClaimNum, preSavedMatches]);\n\n  // useEffect(() => {\n  //   if (index === 0) {\n  //     console.log(\"modifiedClaim change\");\n  //     console.log(modifiedClaim);\n  //   }\n  //   setCopyOfModifiedClaim(modifiedClaim);\n  // }, [modifiedClaim]);\n\n  const hasClaimBeenModified =\n    copyOfSingleContent !== content ||\n    copyOfSingleNum !== num ||\n    // JSON.stringify(copyOfSingleMatches) !== JSON.stringify(matches);\n    !areMatchesEqualByStartAndValue(copyOfSingleMatches, matches);\n\n  const getTooltipContent = (_idx) => {\n    if (!claimSearchPath) return \"\";\n\n    const idx = parseInt(_idx);\n\n    if (idx === 0 && type === \"independent\") {\n      return \"沒有對應的先前元件\";\n    }\n\n    const showPartPrevContent = (pCtx, pStart, pEnd) => {\n      const strOffset = 16;\n      let frontStr, endStr;\n\n      if (\n        pCtx.slice(0, pStart).replaceAll(` `, \"\").replaceAll(`@##@`, ` `)\n          .length <\n        strOffset + 1\n      ) {\n        frontStr = pCtx.slice(0, pStart).replaceAll(`@##@`, ` `);\n      } else {\n        frontStr = pCtx\n          .slice(0, pStart)\n          .replaceAll(` `, \"\")\n          .replaceAll(`@##@`, ` `);\n        frontStr = \"...\" + frontStr.slice(-1 * strOffset);\n      }\n\n      if (\n        pCtx.slice(pEnd).replaceAll(` `, \"\").replaceAll(`@##@`, ` `).length <\n        strOffset + 1\n      ) {\n        endStr = pCtx.slice(pEnd).replaceAll(` `, \"\").replaceAll(`@##@`, ` `);\n      } else {\n        endStr = pCtx.slice(pEnd).replaceAll(` `, \"\").replaceAll(`@##@`, ` `);\n        endStr = endStr.slice(0, strOffset) + \"...\";\n      }\n\n      return (\n        frontStr +\n        \"<span style='color: lime; background: transparent; font-weight: 900'>\" +\n        pCtx.slice(pStart, pEnd) +\n        \"</span>\" +\n        endStr\n      );\n    };\n\n    return claimSearchPath\n      .map((path) => `搜尋路徑: ${[num, ...path].join(\" -> \")}`)\n      .map((ctx, pathIdx) => {\n        const prevMatch = matches[idx]?.prevMatchPerPath[pathIdx];\n\n        return `\n        <p style=\"font-size: 1em; padding: 3px 0; margin: 0\">\n          ${ctx}<br/>\n          先前元件所在請求項: ${prevMatch?.claimNum || \"無\"}<br/>\n          先前元件: ${prevMatch?.value || \"無\"}<br/>\n          先前內容: ${\n            prevMatch?.claimNum && prevMatch?.start && prevMatch?.end\n              ? showPartPrevContent(\n                  allClaimContent[prevMatch.claimNum - 1],\n                  prevMatch.start,\n                  prevMatch.end\n                )\n              : \"無\"\n          }<br/>\n          <b style=\"color: orange;\">★點擊兩下以修改構件名稱</b>           \n        </p>`;\n      })\n      .join(``);\n  };\n\n  return (\n    <div className=\"paragraph-container claim-container\" ref={divRef}>\n      <ClaimPopup\n        isPopupOpen={isPopupOpen}\n        popupIndex={popupIndex}\n        toggleIsPopupOpen={toggleIsPopupOpen}\n        popupStart={popupStart}\n        popupEnd={popupEnd}\n        setPopupStart={setPopupStart}\n        setPopupEnd={setPopupEnd}\n        popupAvailableContent={popupAvailableContent}\n        popupFullValue={popupFullValue}\n        popupItem={popupItem}\n        handleUpdateMatch={handleUpdateMatch}\n      />\n\n      <h2\n        style={hasClaimBeenModified ? { background: \"hotpink\" } : {}}\n        onClick={() => setIsCollapse(index)}\n      >\n        {errors.length === 0 && <img src={checkedImg} alt=\"\" />}\n        {errors.length > 0 && <img src={errorImg} alt=\"\" />}\n        {hasClaimBeenModified\n          ? `【請求項${copyOfSingleNum}】`\n          : `【請求項${num}】`}\n        {hasClaimBeenModified\n          ? \"已修正\"\n          : type === \"independent\"\n          ? \"獨立項\"\n          : type === \"additional\"\n          ? \"附屬項\"\n          : \"無法分析\"}\n        {searchString && (\n          <>\n            {numOfFoundedStr === 0 ? (\n              <small>{\" \".repeat(6)}無結果</small>\n            ) : (\n              <small>\n                {\" \".repeat(6)}搜尋結果:{numOfFoundedStr}筆\n              </small>\n            )}\n          </>\n        )}\n        {!isCollapse ? (\n          <span>&#x292C;</span>\n        ) : (\n          <span style={{ height: \"1.38em\", lineHeight: \"1.25em\" }}>\n            &#x271B;\n          </span>\n        )}\n      </h2>\n      <section className={isCollapse ? \"collapse\" : \"\"}>\n        <p>\n          請求項種類:{\" \"}\n          {type === \"independent\"\n            ? attemptAttaches.length > 0\n              ? \"引用記載形式之獨立項\"\n              : \"獨立項\"\n            : type === \"additional\"\n            ? attemptAttaches.length > 1\n              ? \"多項附屬項\"\n              : \"附屬項\"\n            : \"無法分析\"}\n        </p>\n        {type === \"independent\" && attemptAttaches.length > 0 && (\n          <p>\n            引用記載之請求項:{\" \"}\n            {attemptAttaches.map((attach) => attach).join(\"、\")}\n          </p>\n        )}\n        {type === \"additional\" && (\n          <p>\n            所依附請求項: {attemptAttaches.map((attach) => attach).join(\"、\")}\n          </p>\n        )}\n        {errors.length > 0 && (\n          <div className=\"err-messages\">\n            <p>Errors: </p>\n            <ul>\n              {errors\n                .reduce((a, e) => {\n                  if (!a.find((m) => m.message === e.message)) {\n                    return [...a, e];\n                  }\n                  return a;\n                }, [])\n                .map((err, iii) => (\n                  <li key={iii}>\n                    {iii + 1}. {err.message}\n                  </li>\n                ))}\n            </ul>\n          </div>\n        )}\n        {essentialData.dbResultMap &&\n          Object.keys(essentialData.dbResultMap).length > 0 && (\n            <p\n              style={{\n                color: \"rgb(130 45 45)\",\n                fontWeight: \"bold\",\n              }}\n            >\n              &#9733;連接資料庫以尋找請求項之構件\n            </p>\n          )}\n        {Object.keys(myReduceMatches).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id],\n                }))\n              }\n              id={`paragraph-${index}-corrects-btn`}\n              type=\"checkbox\"\n            />\n            <p className=\"disp\">\n              <img src={checkedImg} alt=\"\" />\n              元件見於本請求項先前內容或所依附的請求項\n              <label htmlFor={`paragraph-${index}-corrects-btn`}>\n                {showControlBtns[`paragraph-${index}-corrects-btn`] ? \"⤬\" : \"✛\"}\n              </label>\n            </p>\n            {essentialData.personalSettings.synchronizeHighlight && (\n              <p\n                style={{\n                  color: \"rgb(68 112 69)\",\n                  fontWeight: \"bold\",\n                  marginLeft: \"2.5vw\",\n                }}\n              >\n                &#9733;說明書、申請專利範圍之所有構件皆同步標註\n              </p>\n            )}\n          </>\n        )}\n        {Object.keys(myReduceMatches).length > 0 && (\n          <div\n            className=\"paragraph-corrects-btn\"\n            style={\n              showControlBtns[`paragraph-${index}-corrects-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n          >\n            {Object.keys(myReduceMatches).map((key) => (\n              <button\n                onClick={() => toggleBtnColor(key)}\n                style={{\n                  background: myReduceMatches[key].clicked\n                    ? (elementColorMap[key] && elementColorMap[key].color) ||\n                      \"transparent\"\n                    : \"inherit\",\n                }}\n                key={key}\n              >\n                {myReduceMatches[key].item}\n                {myReduceMatches[key].keys.join(\"、\")}\n                {essentialData.personalSettings.showClaimElementKey &&\n                  myReduceMatches[key].keys.length === 0 &&\n                  myReduceMatches[key].keyFromGroup && (\n                    <small>{myReduceMatches[key].keyFromGroup}</small>\n                  )}\n              </button>\n            ))}\n            {!essentialData.personalSettings.synchronizeHighlight && (\n              <button\n                style={{\n                  background: \"rgb(68, 112, 69)\",\n                  borderRadius: 1000000,\n                }}\n                onClick={toggleAllBtnColor}\n              >\n                <img\n                  src={switchImg}\n                  alt=\"\"\n                  style={{\n                    width: 25,\n                    height: 20,\n                    transform: \"translateY(3px)\",\n                  }}\n                />\n              </button>\n            )}\n            {essentialData.personalSettings.synchronizeHighlight &&\n              (!globalHighlightOn || globalHighlightElement.length > 0) && (\n                <button\n                  style={{\n                    background: \"rgb(182 100 71)\",\n                    color: \"#eee\",\n                    boxShadow: \"none\",\n                    fontSize: \"1.1em\",\n                    alignSelf: \"flex-end\",\n                    marginLeft: \"auto\",\n                    marginRight: \"3vw\",\n                  }}\n                  onClick={() =>\n                    setEssentialData((prev) => ({\n                      ...prev,\n                      globalHighlightOn: true,\n                      globalHighlightElement: [],\n                    }))\n                  }\n                >\n                  開啟標註\n                </button>\n              )}\n            {essentialData.personalSettings.synchronizeHighlight &&\n              globalHighlightOn &&\n              globalHighlightElement.length === 0 && (\n                <button\n                  style={{\n                    background: \"rgb(182 100 71)\",\n                    color: \"#eee\",\n                    boxShadow: \"none\",\n                    fontSize: \"1.1em\",\n                    alignSelf: \"flex-end\",\n                    marginLeft: \"auto\",\n                    marginRight: \"3vw\",\n                  }}\n                  onClick={() =>\n                    setEssentialData((prev) => ({\n                      ...prev,\n                      globalHighlightOn: false,\n                    }))\n                  }\n                >\n                  關閉標註\n                </button>\n              )}\n          </div>\n        )}\n        {Object.keys(myReduceNonMatches).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id],\n                }))\n              }\n              id={`paragraph-${index}-errors-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"rgb(188 30 30)\" }} className=\"disp\">\n              <img src={errorImg} alt=\"\" />\n              {errors.find((e) => e.message.includes(\"標的名稱\"))\n                ? Object.keys(myReduceNonMatches).length === 1\n                  ? \"標的名稱錯誤\"\n                  : \"標的名稱錯誤 & 元件未見於本請求項先前內容或所依附的請求項\"\n                : \"元件未見於本請求項先前內容或所依附的請求項\"}\n              <label htmlFor={`paragraph-${index}-errors-btn`}>\n                {showControlBtns[`paragraph-${index}-errors-btn`] ? \"⤬\" : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceNonMatches).length > 0 && (\n          <div\n            className=\"paragraph-errors-btn\"\n            style={\n              showControlBtns[`paragraph-${index}-errors-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n          >\n            {Object.keys(myReduceNonMatches).map((key) => (\n              <button\n                onClick={() => toggleErrorBtnColor(key)}\n                style={{\n                  background: myReduceNonMatches[key].clicked\n                    ? \"rgb(255, 0, 0)\"\n                    : \"inherit\",\n                }}\n                key={key}\n              >\n                {myReduceNonMatches[key].item}\n                {myReduceNonMatches[key].keys.join(\"、\")}\n                {essentialData.personalSettings.showClaimElementKey &&\n                  myReduceNonMatches[key].keys.length === 0 &&\n                  myReduceNonMatches[key].keyFromGroup && (\n                    <small>{myReduceNonMatches[key].keyFromGroup}</small>\n                  )}\n              </button>\n            ))}\n            <button\n              style={{\n                background: \"rgb(255, 0, 0)\",\n                borderRadius: 1000000,\n              }}\n              onClick={toggleAllErrorBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        {Object.keys(myReduceModifiedMatches).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id],\n                }))\n              }\n              id={`paragraph-${index}-modify-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"hotpink\" }} className=\"disp\">\n              <img src={modifyImg} alt=\"\" />\n              已修正之元件\n              <label htmlFor={`paragraph-${index}-modify-btn`}>\n                {showControlBtns[`paragraph-${index}-modify-btn`] ? \"⤬\" : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceModifiedMatches).length > 0 && (\n          <div\n            className=\"paragraph-modify-btn\"\n            style={\n              showControlBtns[`paragraph-${index}-modify-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n          >\n            {Object.keys(myReduceModifiedMatches).map((key) => (\n              <button\n                onClick={() => toggleModifiedBtnColor(key)}\n                key={key}\n                style={{\n                  background: myReduceModifiedMatches[key].clicked\n                    ? \"hotpink\"\n                    : \"inherit\",\n                }}\n              >\n                {myReduceModifiedMatches[key].item}\n                {myReduceModifiedMatches[key].keys.join(\"、\")}\n              </button>\n            ))}\n          </div>\n        )}\n        <p\n          style={\n            onContentEditing ||\n            copyOfSingleContent !== content ||\n            copyOfSingleNum !== num\n              ? { display: \"none\" }\n              : {}\n          }\n          className={`content ${\n            copyOfModifiedClaim === modifiedClaim ? \"\" : \"modify\"\n          }`}\n        >\n          分析內容中，請稍後......\n        </p>\n        {type !== \"unknown\" && (\n          <ReactTooltip\n            disable={!essentialData.personalSettings.openTooltip}\n            id={`claim-${num}-prematch-tooltip`}\n            delayShow={1000}\n            html={true}\n            getContent={(msg) => {\n              if (msg === \"yes\")\n                return `<p style=\"font-size: 1em;\">本元件為主要構件</p>`;\n              return getTooltipContent(msg);\n            }}\n          />\n        )}\n        {!onContentEditing &&\n          (copyOfSingleContent !== content || copyOfSingleNum !== num) && (\n            <p className=\"content modify\">\n              【請求項{copyOfSingleNum}:已修正】{\" \"}\n              {\n                copyOfSingleContent.split(`@##@`).map((sentence, _iidd) => {\n                  if (_iidd !== 0) {\n                    return (\n                      <React.Fragment key={_iidd}>\n                        <span style={{ backgroundColor: \"initial\" }}>\n                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                        </span>\n                        {sentence}\n                        <br />\n                      </React.Fragment>\n                    );\n                  }\n                  return (\n                    <React.Fragment key={_iidd}>\n                      {sentence}\n                      <br />\n                    </React.Fragment>\n                  );\n                })\n                //.join(`@##@`)\n                // .replaceAll(`@##@`, `<br/>`)\n                //.replaceAll(`@##@`, `<br/>`)\n              }\n            </p>\n          )}\n        {onContentEditing && (\n          <p className=\"content\">\n            <label\n              style={{\n                minWidth: 300,\n                display: \"block\",\n                marginBottom: \".3em\",\n              }}\n            >\n              請求項編號:{\" \"}\n              <input\n                style={{\n                  fontSize: \"0.9em\",\n                  width: 100,\n                }}\n                type=\"text\"\n                value={editingZoneNumlValue}\n                disabled\n              />\n            </label>\n            <ClaimEditingForm\n              num={num}\n              editingZoneValue={editingZoneValue}\n              setEditingZoneValue={setEditingZoneValue}\n            />\n          </p>\n        )}\n        <div className=\"paragraph-container-btns\">\n          {hasClaimBeenModified && (\n            <button\n              onClick={() => {\n                setCopyOfSingleContent(content);\n                setCopyOfSingleNum(num);\n                setCopyOfSingleMatches(matches);\n                setCopyOfModifiedClaim(modifiedClaim);\n                setOldContent(index);\n                setOnContentEditing(false);\n                setNewMatches(index, null);\n              }}\n            >\n              還原\n            </button>\n          )}\n          {onContentEditing &&\n            (copyOfSingleContent !== editingZoneValue ||\n              copyOfSingleNum !== editingZoneNumlValue) && (\n              <button\n                onClick={() => {\n                  if (\n                    editingZoneValue === content &&\n                    editingZoneNumlValue === num\n                  ) {\n                    setOldContent(index);\n                  } else {\n                    setNewContent(\n                      index,\n                      editingZoneValue,\n                      editingZoneNumlValue\n                    );\n                  }\n                  setCopyOfSingleContent(editingZoneValue);\n                  setCopyOfSingleNum(editingZoneNumlValue);\n                  setCopyOfSingleMatches(matches);\n                  setCopyOfModifiedClaim(modifiedClaim);\n                  setOnContentEditing(false);\n                }}\n              >\n                確認\n              </button>\n            )}\n          <button\n            onClick={() => {\n              if (!onContentEditing) {\n                setEditingZoneValue(copyOfSingleContent);\n                setEditingZoneNumValue(copyOfSingleNum);\n              }\n              setOnContentEditing((prev) => !prev);\n            }}\n          >\n            {onContentEditing ? `取消` : `修正`}\n          </button>\n          {hasClaimBeenModified && (\n            <button onClick={handleSaveAll}>全部儲存</button>\n          )}\n          <button\n            className=\"gotop-btn\"\n            onClick={() =>\n              document\n                .querySelector(\".main-body\")\n                .scrollTo({ top: 0, behavior: \"smooth\" })\n            }\n          >\n            Go Top\n          </button>\n          <button\n            className=\"copy-btn\"\n            onClick={() => {\n              const writeText = content.replaceAll(\"@##@\", \"\\n\");\n\n              if (navigator.clipboard && window.isSecureContext) {\n                navigator.clipboard.writeText(writeText);\n              } else {\n                // Use the 'out of viewport hidden text area' trick\n                const textArea = document.createElement(\"textarea\");\n                textArea.value = writeText;\n\n                // Move textarea out of the viewport so it's not visible\n                textArea.style.position = \"absolute\";\n                textArea.style.left = \"-999999px\";\n\n                document.body.prepend(textArea);\n                textArea.select();\n\n                try {\n                  document.execCommand(\"copy\");\n                } catch (error) {\n                  console.error(error);\n                } finally {\n                  textArea.remove();\n                }\n              }\n            }}\n          >\n            複製內容\n          </button>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default SingleClaim;\n","import React from \"react\";\nimport deleteIcon from \"../assets/delete_icon.png\";\n\nconst EditingNewClaimTextArea = ({ editingZoneValue, setEditingZoneValue }) => {\n  const handleAddingSentence = (e, idx) => {\n    setEditingZoneValue((prev) => ({\n      ...prev,\n      content: prev.content\n        .split(`@##@`)\n        .map((sentence, _i) => {\n          if (_i === idx) {\n            return e.target.value;\n          }\n          return sentence;\n        })\n        .join(`@##@`)\n    }));\n  };\n\n  const handleDeletingSentence = (idx) => {\n    setEditingZoneValue((prev) => ({\n      ...prev,\n      content: prev.content\n        .split(`@##@`)\n        .filter((sentence, _i) => _i !== idx)\n        .join(`@##@`)\n    }));\n  };\n\n  return (\n    <>\n      {editingZoneValue.content.split(`@##@`).map((sentence, idx) => (\n        <div\n          key={idx}\n          style={{ width: \"100%\", display: \"flex\", marginBottom: \"0.2em\" }}\n        >\n          {editingZoneValue.content.split(`@##@`).length > 1 && (\n            <span style={{ minWidth: 45, paddingRight: \"0.5em\" }}>\n              {editingZoneValue.claimNum}-{idx + 1}\n              <br />{\" \"}\n              <img\n                style={{ width: 20, height: 20 }}\n                src={deleteIcon}\n                alt=\"delete\"\n                onClick={() => handleDeletingSentence(idx)}\n              />\n            </span>\n          )}\n          <textarea\n            style={{\n              flexGrow: 1,\n              height:\n                editingZoneValue.content.split(`@##@`).length > 1 ? 100 : 200,\n              fontSize: \"1.1em\"\n            }}\n            value={sentence}\n            onChange={(e) => handleAddingSentence(e, idx)}\n          />\n        </div>\n      ))}\n      <button\n        style={{ width: \"12%\", fontSize: \"0.95em\", marginLeft: \"85%\" }}\n        onClick={() =>\n          setEditingZoneValue((prev) => ({\n            ...prev,\n            content: prev.content + `@##@`\n          }))\n        }\n      >\n        新增段句\n      </button>\n    </>\n  );\n};\n\nexport default EditingNewClaimTextArea;\n","import React, { useEffect, useState } from \"react\";\nimport EditingNewClaimTextArea from \"./EditingNewClaimTextArea\";\n\nconst AddedClaim = ({\n  addedIdx,\n  claimNum,\n  content,\n  updateNewContent,\n  deleteNewContent,\n  isCollapse,\n  openOrCollapseNewContent\n}) => {\n  const [addedContent, setAddedContent] = useState(content);\n  const [addedClaimNum, setAddedClaimNum] = useState(claimNum);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editingZoneValue, setEditingZoneValue] = useState({\n    claimNum: \"\",\n    content: \"\"\n  });\n\n  useEffect(() => {\n    setAddedClaimNum(claimNum);\n    setAddedContent(content);\n  }, [claimNum, content]);\n\n  return (\n    <div className=\"paragraph-container\">\n      <h2\n        onClick={() => openOrCollapseNewContent(addedIdx)}\n        style={{ background: \"#e49494\", boxShadow: \"2px 2px 4px 2px #825555\" }}\n      >\n        {`【請求項${claimNum}】新增請求項`}\n        {!isCollapse ? (\n          <span>&#x292C;</span>\n        ) : (\n          <span style={{ height: \"1.38em\", lineHeight: \"1.25em\" }}>\n            &#x271B;\n          </span>\n        )}\n      </h2>\n      <section style={isCollapse ? { display: \"none\" } : {}}>\n        <p style={{ backgroundColor: \"#f7e4e4\" }} className=\"content\">\n          {isEditing ? (\n            <>\n              <label\n                style={{\n                  minWidth: 300,\n                  display: \"block\",\n                  marginBottom: \".3em\"\n                }}\n              >\n                請求項編號:{\" \"}\n                <input\n                  type=\"text\"\n                  style={{\n                    fontSize: \".9em\",\n                    width: 100\n                  }}\n                  value={editingZoneValue.claimNum}\n                  onChange={(e) =>\n                    setEditingZoneValue((prev) => ({\n                      ...prev,\n                      claimNum: e.target.value\n                    }))\n                  }\n                />\n              </label>\n              {/* <textarea\n                style={{ width: \"50%\", height: 150, fontSize: \"1.1em\" }}\n                value={editingZoneValue.content}\n                onChange={(e) =>\n                  setEditingZoneValue((prev) => ({\n                    ...prev,\n                    content: e.target.value\n                  }))\n                }\n              /> */}\n              <EditingNewClaimTextArea\n                editingZoneValue={editingZoneValue}\n                setEditingZoneValue={setEditingZoneValue}\n              />\n            </>\n          ) : (\n            <>{`【請求項${addedClaimNum}:已新增】${addedContent.replaceAll(\n              `@##@`,\n              `<br/>`\n            )}`}</>\n          )}\n        </p>\n        <div className=\"paragraph-container-btns\">\n          {isEditing &&\n            (editingZoneValue.claimNum !== addedClaimNum ||\n              editingZoneValue.content !== addedContent) && (\n              <button\n                onClick={() => {\n                  updateNewContent(addedIdx, {\n                    claimNum: editingZoneValue.claimNum,\n                    content: editingZoneValue.content\n                  });\n                  setIsEditing(false);\n                }}\n              >\n                確認\n              </button>\n            )}\n          <button\n            onClick={() => {\n              if (!isEditing) {\n                setEditingZoneValue({\n                  claimNum: addedClaimNum,\n                  content: addedContent\n                });\n              }\n              setIsEditing((prev) => !prev);\n            }}\n          >\n            {isEditing ? \"取消\" : \"修正\"}\n          </button>\n          <button onClick={() => deleteNewContent(addedIdx)}>刪除</button>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default AddedClaim;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport SingleClaim from \"../components/SingleClaim\";\nimport AddedClaim from \"../components/AddedClaim\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport { UpdateParagraphContextProvider } from \"../contexts/UpdateParagraphContext\";\nimport { getPathName } from \"../utils/getPathName\";\nimport EditingNewClaimTextArea from \"../components/EditingNewClaimTextArea\";\nimport searchImg from \"../assets/search.png\";\nimport Popup from \"reactjs-popup\";\nimport SearchPopup from \"../components/SearchPopup\";\n\nconst Claims = ({ handleReInit }) => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const {\n    allUpdateClaimParagraph: allUpdateParagraph,\n    setAllUpdateClaimParagraph: setAllUpdateParagraph\n  } = useContext(UpdateParagraphContextProvider);\n  const [isOnAdding, setIsOnAdding] = useState(false);\n  const [AddingZoneValue, setAddingZoneValue] = useState({\n    claimNum: \"\",\n    content: \"\"\n  });\n  const [isSearchPopupOpen, toggleIsSearchPopupOpen] = useState(false);\n  // const [searchString, setSearchString] = useState(\"\");\n  const searchString = essentialData.searchString;\n  const setSearchString = (str) =>\n    setEssentialData((prev) => ({ ...prev, searchString: str }));\n\n  const setIsCollapse = (index) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allClaimsDetails: essentialData.allClaimsDetails.map((claim, i) => {\n        if (index === i) {\n          return { ...claim, isCollapse: !claim.isCollapse };\n        }\n        return claim;\n      })\n    }));\n  };\n\n  const openOrCollapseAll = (method) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allClaimsDetails: essentialData.allClaimsDetails.map((claim) => ({\n        ...claim,\n        isCollapse: method === \"collapse\" ? true : false\n      }))\n    }));\n    setAllUpdateParagraph((prev) =>\n      prev.map((p) => {\n        if (p.isNewAdded) {\n          return { ...p, isCollapse: method === \"collapse\" ? true : false };\n        }\n        return p;\n      })\n    );\n  };\n\n  const setNewContent = (paraIndex, newContent, newClaimNum) => {\n    setAllUpdateParagraph((prev) =>\n      prev.map((p, pIdx) => {\n        if (pIdx === paraIndex) {\n          return {\n            ...p,\n            content: newContent,\n            claimNum: newClaimNum,\n            matches: null\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const setOldContent = (paraIndex) => {\n    setAllUpdateParagraph((prev) =>\n      prev.map((p, pIdx) => {\n        if (pIdx === paraIndex) {\n          return {\n            ...p,\n            content: null,\n            claimNum: null,\n            matches: null\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const updateNewContent = (addedIdx, payload) => {\n    if (!parseInt(payload.claimNum)) {\n      window.alert(\"段落編號格式錯誤。\");\n      return;\n    }\n    if (\n      essentialData.allDisclosureParagraphDetails.find(\n        (p) => p.num === payload.claimNum\n      ) ||\n      allUpdateParagraph\n        .filter((p) => p.addedIdx !== addedIdx)\n        .find((p) => p.claimNum === payload.claimNum)\n    ) {\n      window.alert(`該段落編碼${payload.claimNum}已經被使用了。`);\n      return;\n    }\n    setAllUpdateParagraph((prev) =>\n      prev.map((p) => {\n        if (p.addedIdx === addedIdx) {\n          return {\n            ...p,\n            claimNum: payload.claimNum,\n            content: payload.content,\n            matches: null\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const deleteNewContent = (addedIdx) => {\n    setAllUpdateParagraph((prev) =>\n      prev.filter((p) => p.addedIdx !== addedIdx)\n    );\n  };\n\n  const setNewMatches = (paraIndex, newMatches) => {\n    setAllUpdateParagraph((prev) =>\n      prev.map((p, pIdx) => {\n        if (pIdx === paraIndex) {\n          // Test\n          // console.log({\n          //   ...p,\n          //   content: null,\n          //   claimNum: null,\n          //   matches: newMatches\n          // });\n          // debugger;\n          return {\n            ...p,\n            content: null,\n            claimNum: null,\n            matches: newMatches\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const openOrCollapseNewContent = (addedIdx) => {\n    setAllUpdateParagraph((prev) =>\n      prev.map((p) => {\n        if (p.addedIdx === addedIdx) {\n          return {\n            ...p,\n            isCollapse: !p.isCollapse\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const handleSaveAll = async() => {\n    if (!checkIfNumOK()) {\n      window.alert(`請求項的編號有跳號，請檢查後再按確認。`);\n      return;\n    }\n    // console.log(allUpdateParagraph);\n    // debugger;\n    await handleReInit(essentialData, setEssentialData, {\n      method: \"allClaimsDetails\",\n      data: allUpdateParagraph\n    });\n    setAllUpdateParagraph((prev) =>\n      prev.map(() => ({\n        claimNum: null,\n        content: null,\n        matches: null\n      }))\n    );\n  };\n\n  useEffect(() => {\n    setEssentialData((prev) => ({ ...prev, pathName: getPathName() }));\n  }, []);\n\n  useEffect(() => {\n    if (\n      !essentialData.isProcessing &&\n      essentialData.allClaimsDetails.length > 0 &&\n      allUpdateParagraph.length === 0\n    ) {\n      setAllUpdateParagraph(\n        essentialData.allClaimsDetails.map((_, idx) => ({\n          claimNum: null,\n          content: null,\n          matches: null\n        }))\n      );\n      setAddingZoneValue({ claimNum: \"\", content: \"\" });\n    }\n  }, [essentialData]);\n\n  const checkIfNumOK = () => {\n    if (allUpdateParagraph.filter((p) => p.isNewAdded).length === 0) {\n      return true;\n    }\n    const firstaddedClaimNum = essentialData.allClaimsDetails.length + 1;\n    const lastAddedClaimNum = allUpdateParagraph.length;\n    const allAddedClaimNum = [...allUpdateParagraph]\n      .filter((p) => p.isNewAdded)\n      .sort((a, b) => parseInt(a.claimNum) - parseInt(b.claimNum))\n      .map((m) => parseInt(m.claimNum));\n\n    return (\n      allAddedClaimNum.length ===\n        allUpdateParagraph.filter((p) => p.isNewAdded).length &&\n      allAddedClaimNum[0] === firstaddedClaimNum &&\n      allAddedClaimNum[allAddedClaimNum.length - 1] === lastAddedClaimNum\n    );\n  };\n\n  return (\n    <>\n      <section className=\"title-section sticky\">\n        <h1 style={{ color: \"transparent\" }}>申請專利範圍</h1>\n        {!essentialData.isProcessing &&\n          essentialData.allClaimsDetails.length > 0 && (\n            <div>\n              <button onClick={() => openOrCollapseAll(\"collapse\")}>\n                &#x292C; 全部收合\n              </button>\n              <button onClick={() => openOrCollapseAll(\"open\")}>\n                &#x271B; 全部展開\n              </button>\n              <button\n                onClick={(e) => {\n                  if (e.target.tagName !== \"B\") {\n                    toggleIsSearchPopupOpen(true);\n                  }\n                }}\n                className={searchString ? \"withStr\" : \"\"}\n              >\n                <img src={searchImg} alt=\"\" />\n                {searchString && (\n                  <>\n                    <span\n                      style={{\n                        flexGrow: 1,\n                        textAlign: \"start\",\n                        overflow: \"hidden\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\"\n                      }}\n                    >\n                      {searchString}\n                    </span>\n                    <b\n                      style={{ paddingRight: 6, fontSize: \"1.06em\" }}\n                      onClick={() => {\n                        toggleIsSearchPopupOpen(false);\n                        setSearchString(\"\");\n                      }}\n                    >\n                      ⤬\n                    </b>\n                  </>\n                )}\n              </button>\n\n              <div className=\"all-paragraph-section-save-btns\">\n                <button\n                  onClick={() => {\n                    if (!isOnAdding) {\n                      setAddingZoneValue((prev) => ({\n                        ...prev,\n                        claimNum: (allUpdateParagraph.length + 1).toString()\n                      }));\n                    }\n                    setIsOnAdding((prev) => !prev);\n                  }}\n                >\n                  {isOnAdding ? \"取消\" : \"新增\"}\n                </button>\n                {!allUpdateParagraph.every(\n                  (ct) =>\n                    ct.content === null &&\n                    ct.claimNum === null &&\n                    ct.matches === null\n                ) && (\n                  <>\n                    <button onClick={handleSaveAll}>全部儲存</button>\n                    <button\n                      onClick={() => {\n                        setAllUpdateParagraph((prev) =>\n                          prev\n                            .filter((p) => !p.isNewAdded)\n                            .map(() => ({\n                              claimNum: null,\n                              content: null,\n                              matches: null\n                            }))\n                        );\n                      }}\n                    >\n                      全部還原\n                    </button>\n                  </>\n                )}\n              </div>\n            </div>\n          )}\n      </section>\n      <section className=\"all-paragraph-section\">\n        {essentialData.isProcessing ? (\n          <div>\n            <h1>申請專利範圍</h1>\n            <h3>Processing...</h3>\n          </div>\n        ) : essentialData.allClaimsDetails.length === 0 ? (\n          <div>\n            <h1>申請專利範圍</h1>\n            <h3>No data passed in yet.</h3>\n          </div>\n        ) : (\n          <div>\n            <Popup\n              open={isSearchPopupOpen}\n              closeOnDocumentClick\n              onClose={() => toggleIsSearchPopupOpen(false)}\n            >\n              <SearchPopup\n                handleClose={toggleIsSearchPopupOpen}\n                searchString={searchString}\n                setSearchString={setSearchString}\n              />\n            </Popup>\n\n            <h1>申請專利範圍</h1>\n\n            {isOnAdding && (\n              <div className=\"add-new-paragraph\">\n                <p>新增段落</p>\n                <label>\n                  段落編號:{\" \"}\n                  <input\n                    value={AddingZoneValue.claimNum}\n                    onChange={(e) =>\n                      setAddingZoneValue((prev) => ({\n                        ...prev,\n                        claimNum: e.target.value\n                      }))\n                    }\n                    type=\"text\"\n                  />\n                </label>\n                {/* <textarea\n                  value={AddingZoneValue.content}\n                  onChange={(e) =>\n                    setAddingZoneValue((prev) => ({\n                      ...prev,\n                      content: e.target.value\n                    }))\n                  }\n                /> */}\n                <EditingNewClaimTextArea\n                  editingZoneValue={AddingZoneValue}\n                  setEditingZoneValue={setAddingZoneValue}\n                />\n                <div>\n                  {AddingZoneValue.claimNum !== \"\" &&\n                    AddingZoneValue.content !== \"\" && (\n                      <button\n                        onClick={() => {\n                          if (!parseInt(AddingZoneValue.claimNum)) {\n                            window.alert(\"段落編號格式錯誤。\");\n                            return;\n                          }\n                          if (\n                            essentialData.allDisclosureParagraphDetails.find(\n                              (p) => p.num === AddingZoneValue.claimNum\n                            ) ||\n                            allUpdateParagraph.find(\n                              (p) => p.claimNum === AddingZoneValue.claimNum\n                            )\n                          ) {\n                            window.alert(\n                              `該請求項編號${AddingZoneValue.claimNum}已經被使用了。`\n                            );\n                            return;\n                          }\n                          setAllUpdateParagraph((prev) => [\n                            ...prev,\n                            {\n                              addedIdx: Math.random().toString().slice(2, 8),\n                              claimNum: AddingZoneValue.claimNum,\n                              content: AddingZoneValue.content,\n                              isNewAdded: true,\n                              isCollapse: false\n                            }\n                          ]);\n                          setAddingZoneValue({ claimNum: \"\", content: \"\" });\n                          setIsOnAdding(false);\n                        }}\n                      >\n                        確認\n                      </button>\n                    )}\n                  <button onClick={() => setIsOnAdding(false)}>取消</button>\n                </div>\n              </div>\n            )}\n\n            {essentialData.allClaimsDetails.map(\n              (claimDetail, index) =>\n                allUpdateParagraph[index] && (\n                  <SingleClaim\n                    key={index}\n                    index={index}\n                    allClaimContent={essentialData.allClaimsDetails.map(\n                      ({ content }) => content\n                    )}\n                    num={claimDetail.num.toString()}\n                    type={claimDetail.type}\n                    attemptAttaches={claimDetail.attemptAttaches}\n                    attaches={claimDetail.attaches}\n                    content={claimDetail.content}\n                    modifiedClaim={claimDetail.modifiedClaim}\n                    claimSearchPath={claimDetail.claimSearchPath}\n                    matches={claimDetail.matches}\n                    usedElements={claimDetail.usedElements}\n                    nonMatches={claimDetail.nonMatches}\n                    preUsedElementsNonUsed={claimDetail.preUsedElementsNonUsed}\n                    errors={claimDetail.errors}\n                    elementColorMap={essentialData.elementColorMap}\n                    isCollapse={claimDetail.isCollapse}\n                    setIsCollapse={setIsCollapse}\n                    setNewContent={setNewContent}\n                    setOldContent={setOldContent}\n                    setNewMatches={setNewMatches}\n                    preSavedClaimNum={\n                      allUpdateParagraph[index] &&\n                      allUpdateParagraph[index].claimNum\n                    }\n                    preSavedContent={\n                      allUpdateParagraph[index] &&\n                      allUpdateParagraph[index].content\n                    }\n                    preSavedMatches={\n                      allUpdateParagraph[index] &&\n                      allUpdateParagraph[index].matches\n                    }\n                    handleSaveAll={handleSaveAll}\n                    searchString={searchString}\n                    globalHighlightOn={essentialData.globalHighlightOn}\n                    globalHighlightElement={\n                      essentialData.globalHighlightElement\n                    }\n                  />\n                )\n            )}\n\n            {allUpdateParagraph.filter((p) => p.isNewAdded).length > 0 &&\n              allUpdateParagraph\n                .filter((p) => p.isNewAdded)\n                .map((para) => (\n                  <AddedClaim\n                    key={para.addedIdx}\n                    addedIdx={para.addedIdx}\n                    claimNum={para.claimNum}\n                    content={para.content}\n                    updateNewContent={updateNewContent}\n                    deleteNewContent={deleteNewContent}\n                    isCollapse={para.isCollapse}\n                    openOrCollapseNewContent={openOrCollapseNewContent}\n                  />\n                ))}\n          </div>\n        )}\n      </section>\n    </>\n  );\n};\n\nexport default Claims;\n","export const triggerToggleBtnColor = (e, toggleBtnColor) => {\n  // console.log(e.target.classList);\n  const allClasses = e.target.classList;\n  let wantedClass;\n  for (let i = 0; i < allClasses.length; i++) {\n    if (allClasses[i].startsWith(\"c-\")) {\n      wantedClass = allClasses[i];\n      break;\n    }\n  }\n  if (wantedClass) toggleBtnColor(wantedClass.replace(\"c-\", \"\"));\n};\n\nexport const triggerToggleErrorBtnColor = (e, toggleErrorBtnColor) => {\n  console.log(e.target.classList);\n  const allClasses = e.target.classList;\n  let wantedClass;\n  for (let i = 0; i < allClasses.length; i++) {\n    if (allClasses[i].startsWith(\"e-\")) {\n      wantedClass = allClasses[i];\n      break;\n    }\n  }\n  if (wantedClass) toggleErrorBtnColor(wantedClass.replace(\"e-\", \"\"));\n};\n\nexport const triggerTogglePotentialErrorBtnColor = (\n  e,\n  togglePotentialErrorBtnColor\n) => {\n  // console.log(e.target.classList);\n  const allClasses = e.target.classList;\n  let wantedClass;\n  for (let i = 0; i < allClasses.length; i++) {\n    if (allClasses[i].startsWith(\"pe-\")) {\n      wantedClass = allClasses[i];\n      break;\n    }\n  }\n  // console.log(wantedClass);\n  if (wantedClass) togglePotentialErrorBtnColor(wantedClass.replace(\"pe-\", \"\"));\n};\n\nexport const triggerToggleWrongWordBtnColor = (e, toggleWrongWordBtnColor) => {\n  // console.log(e.target.classList);\n  const allClasses = e.target.classList;\n  let wantedClass;\n  for (let i = 0; i < allClasses.length; i++) {\n    if (allClasses[i].startsWith(\"ew-\")) {\n      wantedClass = allClasses[i];\n      break;\n    }\n  }\n  // console.log(wantedClass);\n  if (wantedClass) toggleWrongWordBtnColor(wantedClass.replace(\"ew-\", \"\"));\n};\n\nexport const triggerToggleAboriginalWordBtnColor = (\n  e,\n  toggleAboriginalWordBtnColor\n) => {\n  // console.log(e.target.classList);\n  const allClasses = e.target.classList;\n  let wantedClass;\n  for (let i = 0; i < allClasses.length; i++) {\n    if (allClasses[i].startsWith(\"ab-\")) {\n      wantedClass = allClasses[i];\n      break;\n    }\n  }\n  // console.log(wantedClass);\n  if (wantedClass) toggleAboriginalWordBtnColor(wantedClass.replace(\"ab-\", \"\"));\n};\n\nexport const triggerToggleFigureBtnColor = (e, toggleFigureBtnColor) => {\n  // console.log(e.target.classList);\n  const allClasses = e.target.classList;\n  let wantedClass;\n  for (let i = 0; i < allClasses.length; i++) {\n    if (allClasses[i].startsWith(\"f-\")) {\n      wantedClass = allClasses[i];\n      break;\n    }\n  }\n  // console.log(wantedClass);\n  if (wantedClass) toggleFigureBtnColor(wantedClass.replace(\"f-\", \"\"));\n};\n\nexport const triggerToggleWrongFigureBtnColor = (\n  e,\n  toggleWrongFigureBtnColor\n) => {\n  // console.log(e.target.classList);\n  const allClasses = e.target.classList;\n  let wantedClass;\n  for (let i = 0; i < allClasses.length; i++) {\n    if (allClasses[i].startsWith(\"ef-\")) {\n      wantedClass = allClasses[i];\n      break;\n    }\n  }\n  // console.log(wantedClass);\n  if (wantedClass) toggleWrongFigureBtnColor(wantedClass.replace(\"ef-\", \"\"));\n};\n","import React, { useRef, useState, useEffect, useContext } from \"react\";\nimport checkedImg from \"../assets/checked.png\";\nimport warningImg from \"../assets/warn.png\";\nimport errorImg from \"../assets/error.png\";\nimport switchImg from \"../assets/switch.png\";\nimport aboriginalImg from \"../assets/aboriginal.png\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport {\n  triggerToggleAboriginalWordBtnColor,\n  triggerToggleBtnColor,\n  triggerToggleErrorBtnColor,\n  triggerToggleFigureBtnColor,\n  triggerTogglePotentialErrorBtnColor,\n  triggerToggleWrongFigureBtnColor,\n  triggerToggleWrongWordBtnColor,\n} from \"../utils/trigger/paragraph\";\n\nconst SingleParagraph = ({\n  index,\n  isOK,\n  dataType,\n  applicationNum,\n  general,\n  content,\n  modifiedParagraph,\n  figureKeys,\n  wrongFigureKeys,\n  correctKeys,\n  wrongKeys,\n  potentialWrongKeys,\n  wrongWordKeys,\n  aboriginalWordKeys,\n  elementColorMap,\n  isCollapse,\n  setIsCollapse,\n  setNewContent,\n  setOldContent,\n  setDeleteContent,\n  preSavedContent,\n  preSavedGeneral,\n  searchString,\n  globalHighlightOn,\n  globalHighlightElement,\n}) => {\n  const divRef = useRef(null);\n  const searchStringPrev = useRef(searchString);\n  const [numOfFoundedStr, setNumOfFoundedStr] = useState(0);\n  const [myReduceFigureKeys, setMyReduceFigureKeys] = useState({});\n  const [myReduceWrongFigureKeys, setMyReduceWrongFigureKeys] = useState({});\n  const [myReduceCorrectKeys, setMyReduceCorrectKeys] = useState({});\n  const [myReduceWrongKeys, setMyReduceWrongKeys] = useState({});\n  const [myReducePotentialWrongKeys, setMyReducePotentialWrongKeys] = useState(\n    {}\n  );\n  const [myReduceWrongWordKeys, setMyReduceWrongWordKeys] = useState({});\n  const [myReduceAboriginalWordKeys, setMyReduceAboriginalWordKeys] = useState(\n    {}\n  );\n\n  const [copyOfSingleContent, setCopyOfSingleContent] = useState(\n    preSavedContent || content\n  );\n  const [copyOfSingleGeneral, setCopyOfSingleGeneral] = useState(\n    preSavedGeneral || general\n  );\n  const [onContentEditing, setOnContentEditing] = useState(false);\n  const [editingZoneValue, setEditingZoneValue] = useState(\n    preSavedContent || content\n  );\n  const [editingZoneGeneralValue, setEditingZoneGeneralValue] = useState(\n    preSavedGeneral || general\n  );\n  const [showControlBtns, setShowControlBtns] = useState(() => {\n    const obj = {};\n\n    obj[`paragraph-${index}-figure-btn`] = true;\n    obj[`paragraph-${index}-wrong-figure-btn`] = true;\n    obj[`paragraph-${index}-potentialErrors-btn`] = true;\n    obj[`paragraph-${index}-errors-btn`] = true;\n    obj[`paragraph-${index}-word-errors-btn`] = true;\n    obj[`paragraph-${index}-corrects-btn`] = true;\n    obj[`paragraph-${index}-aboriginals-btn`] = true;\n\n    return obj;\n  });\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n\n  const toggleBtnColor = (key) => {\n    if (essentialData.personalSettings.synchronizeHighlight) {\n      const prevGlobalHighlightElement = [\n        ...essentialData.globalHighlightElement,\n      ];\n\n      if (prevGlobalHighlightElement.find((el) => el === key)) {\n        setEssentialData((prev) => ({\n          ...prev,\n          globalHighlightOn: prevGlobalHighlightElement.length !== 1,\n          globalHighlightElement: prevGlobalHighlightElement.filter(\n            (g) => g !== key\n          ),\n        }));\n      } else {\n        setEssentialData((prev) => ({\n          ...prev,\n          globalHighlightOn: true,\n          globalHighlightElement: [...prevGlobalHighlightElement, key],\n        }));\n      }\n    } else {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.background = myReduceCorrectKeys[key].clicked\n          ? \"inherit\"\n          : elementColorMap[key].color;\n      });\n\n      setMyReduceCorrectKeys({\n        ...myReduceCorrectKeys,\n        [key]: {\n          ...myReduceCorrectKeys[key],\n          clicked: !myReduceCorrectKeys[key].clicked,\n        },\n      });\n    }\n  };\n\n  const toggleAllBtnColor = () => {\n    Object.keys(myReduceCorrectKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.background = myReduceCorrectKeys[key].clicked\n          ? \"inherit\"\n          : elementColorMap[key].color;\n      });\n    });\n    const arrOfMyReduceCorrectKeys = Object.keys(myReduceCorrectKeys).map(\n      (key) => [\n        key,\n        {\n          ...myReduceCorrectKeys[key],\n          clicked: !myReduceCorrectKeys[key].clicked,\n        },\n      ]\n    );\n    setMyReduceCorrectKeys(Object.fromEntries(arrOfMyReduceCorrectKeys));\n  };\n\n  const toggleErrorBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n      el.style.background = myReduceWrongKeys[key].clicked ? \"inherit\" : \"red\";\n    });\n\n    setMyReduceWrongKeys({\n      ...myReduceWrongKeys,\n      [key]: {\n        ...myReduceWrongKeys[key],\n        clicked: !myReduceWrongKeys[key].clicked,\n      },\n    });\n  };\n\n  const toggleAllErrorBtnColor = () => {\n    Object.keys(myReduceWrongKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n        el.style.background = myReduceWrongKeys[key].clicked\n          ? \"inherit\"\n          : \"red\";\n      });\n    });\n    const arrOfMyReduceWrongKeys = Object.keys(myReduceWrongKeys).map((key) => [\n      key,\n      {\n        ...myReduceWrongKeys[key],\n        clicked: !myReduceWrongKeys[key].clicked,\n      },\n    ]);\n    setMyReduceWrongKeys(Object.fromEntries(arrOfMyReduceWrongKeys));\n  };\n\n  const toggleWrongWordBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.ew-${key}`).forEach((el) => {\n      el.style.background = myReduceWrongWordKeys[key].clicked\n        ? \"inherit\"\n        : \"red\";\n    });\n\n    setMyReduceWrongWordKeys({\n      ...myReduceWrongWordKeys,\n      [key]: {\n        ...myReduceWrongWordKeys[key],\n        clicked: !myReduceWrongWordKeys[key].clicked,\n      },\n    });\n  };\n\n  const toggleAllWrongWordBtnColor = () => {\n    Object.keys(myReduceWrongWordKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ew-${key}`).forEach((el) => {\n        el.style.background = myReduceWrongWordKeys[key].clicked\n          ? \"inherit\"\n          : \"red\";\n      });\n    });\n    const arrOfMyReduceWrongWordKeys = Object.keys(myReduceWrongWordKeys).map(\n      (key) => [\n        key,\n        {\n          ...myReduceWrongWordKeys[key],\n          clicked: !myReduceWrongWordKeys[key].clicked,\n        },\n      ]\n    );\n    setMyReduceWrongWordKeys(Object.fromEntries(arrOfMyReduceWrongWordKeys));\n  };\n\n  const toggleFigureBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.f-${key}`).forEach((el) => {\n      el.style.background = myReduceFigureKeys[key].clicked\n        ? \"inherit\"\n        : \"#93ad64\";\n    });\n\n    setMyReduceFigureKeys({\n      ...myReduceFigureKeys,\n      [key]: {\n        ...myReduceFigureKeys[key],\n        clicked: !myReduceFigureKeys[key].clicked,\n      },\n    });\n  };\n\n  const toggleAllFigureBtnColor = () => {\n    Object.keys(myReduceFigureKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.f-${key}`).forEach((el) => {\n        el.style.background = myReduceFigureKeys[key].clicked\n          ? \"inherit\"\n          : \"#93ad64\";\n      });\n    });\n    const arrOfMyReduceFigureKeys = Object.keys(myReduceFigureKeys).map(\n      (key) => [\n        key,\n        {\n          ...myReduceFigureKeys[key],\n          clicked: !myReduceFigureKeys[key].clicked,\n        },\n      ]\n    );\n    setMyReduceFigureKeys(Object.fromEntries(arrOfMyReduceFigureKeys));\n  };\n\n  const toggleWrongFigureBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.ef-${key}`).forEach((el) => {\n      el.style.background = myReduceWrongFigureKeys[key].clicked\n        ? \"inherit\"\n        : \"red\";\n    });\n\n    setMyReduceWrongFigureKeys({\n      ...myReduceWrongFigureKeys,\n      [key]: {\n        ...myReduceWrongFigureKeys[key],\n        clicked: !myReduceWrongFigureKeys[key].clicked,\n      },\n    });\n  };\n\n  const toggleAllWrongFigureBtnColor = () => {\n    Object.keys(myReduceWrongFigureKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ef-${key}`).forEach((el) => {\n        el.style.background = myReduceWrongFigureKeys[key].clicked\n          ? \"inherit\"\n          : \"red\";\n      });\n    });\n    const arrOfMyReduceWrongFigureKeys = Object.keys(\n      myReduceWrongFigureKeys\n    ).map((key) => [\n      key,\n      {\n        ...myReduceWrongFigureKeys[key],\n        clicked: !myReduceWrongFigureKeys[key].clicked,\n      },\n    ]);\n    setMyReduceWrongFigureKeys(\n      Object.fromEntries(arrOfMyReduceWrongFigureKeys)\n    );\n  };\n\n  const toggleAboriginalWordBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.ab-${key}`).forEach((el) => {\n      el.style.background = myReduceAboriginalWordKeys[key].clicked\n        ? \"inherit\"\n        : \"rgb(188, 174, 174)\";\n    });\n\n    setMyReduceAboriginalWordKeys({\n      ...myReduceAboriginalWordKeys,\n      [key]: {\n        ...myReduceAboriginalWordKeys[key],\n        clicked: !myReduceAboriginalWordKeys[key].clicked,\n      },\n    });\n  };\n\n  const toggleAllAboriginalWordBtnColor = () => {\n    Object.keys(myReduceAboriginalWordKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ab-${key}`).forEach((el) => {\n        el.style.background = myReduceAboriginalWordKeys[key].clicked\n          ? \"inherit\"\n          : \"rgb(188, 174, 174)\";\n      });\n    });\n    const arrOfMyReduceAboriginalWordKeys = Object.keys(\n      myReduceAboriginalWordKeys\n    ).map((key) => [\n      key,\n      {\n        ...myReduceAboriginalWordKeys[key],\n        clicked: !myReduceAboriginalWordKeys[key].clicked,\n      },\n    ]);\n    setMyReduceAboriginalWordKeys(\n      Object.fromEntries(arrOfMyReduceAboriginalWordKeys)\n    );\n  };\n\n  const togglePotentialErrorBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.pe-${key}`).forEach((el) => {\n      el.style.background = myReducePotentialWrongKeys[key].clicked\n        ? \"inherit\"\n        : \"rgb(202 117 117)\";\n      el.style.fontStyle = myReducePotentialWrongKeys[key].clicked\n        ? \"normal\"\n        : \"italic\";\n    });\n\n    setMyReducePotentialWrongKeys({\n      ...myReducePotentialWrongKeys,\n      [key]: {\n        ...myReducePotentialWrongKeys[key],\n        clicked: !myReducePotentialWrongKeys[key].clicked,\n      },\n    });\n  };\n\n  const toggleAllPotentialErrorBtnColor = () => {\n    Object.keys(myReducePotentialWrongKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.pe-${key}`).forEach((el) => {\n        el.style.background = myReducePotentialWrongKeys[key].clicked\n          ? \"inherit\"\n          : \"rgb(202 117 117)\";\n        el.style.fontStyle = myReducePotentialWrongKeys[key].clicked\n          ? \"normal\"\n          : \"italic\";\n      });\n    });\n    const arrOfMyReducePotentialErrorKeys = Object.keys(\n      myReducePotentialWrongKeys\n    ).map((key) => [\n      key,\n      {\n        ...myReducePotentialWrongKeys[key],\n        clicked: !myReducePotentialWrongKeys[key].clicked,\n      },\n    ]);\n    setMyReducePotentialWrongKeys(\n      Object.fromEntries(arrOfMyReducePotentialErrorKeys)\n    );\n  };\n\n  const buildList = (modifiedParagraphWithSearchStr) => {\n    // Test\n    // if (general === \"0005\") {\n    //   console.log(\"rebuild list\");\n    //   console.log(globalHighlightElement);\n    // }\n\n    divRef.current.querySelector(\".content\").innerHTML = `【${general}】 ${\n      modifiedParagraphWithSearchStr || modifiedParagraph\n    }`;\n\n    let reduceFigureKeys = {};\n    figureKeys.forEach((figureKey) => {\n      if (!reduceFigureKeys[figureKey.group]) {\n        reduceFigureKeys[figureKey.group] = {\n          ...figureKey,\n          clicked: true,\n        };\n      }\n    });\n\n    let reduceWrongFigureKeys = {};\n    wrongFigureKeys.forEach((wrongFigureKey) => {\n      if (!reduceWrongFigureKeys[wrongFigureKey.group]) {\n        reduceWrongFigureKeys[wrongFigureKey.group] = {\n          ...wrongFigureKey,\n          clicked: true,\n        };\n      }\n    });\n\n    let reduceCorrectKeys = {};\n    correctKeys.forEach((correctKey) => {\n      if (reduceCorrectKeys[correctKey.group]) {\n        const currentKeys = correctKey.keys;\n        currentKeys.forEach((key) => {\n          if (!reduceCorrectKeys[correctKey.group].keys.includes(key)) {\n            reduceCorrectKeys[correctKey.group].keys.push(key);\n            reduceCorrectKeys[correctKey.group] = {\n              ...correctKey,\n              value:\n                correctKey.item +\n                reduceCorrectKeys[correctKey.group].keys\n                  .filter((k) => k !== \"\")\n                  .join(\"、\"),\n              keys: reduceCorrectKeys[correctKey.group].keys,\n              // clicked: true\n              clicked:\n                globalHighlightOn &&\n                (globalHighlightElement.length === 0 ||\n                  globalHighlightElement.find((g) => g === correctKey.group)),\n            };\n          }\n        });\n      } else {\n        reduceCorrectKeys[correctKey.group] = {\n          ...correctKey,\n          value:\n            correctKey.item +\n            correctKey.keys.filter((k) => k !== \"\").join(\"、\"),\n          // clicked: true\n          clicked:\n            globalHighlightOn &&\n            (globalHighlightElement.length === 0 ||\n              globalHighlightElement.find((g) => g === correctKey.group)),\n        };\n      }\n    });\n\n    let reduceWrongKeys = {};\n    wrongKeys.forEach((wrongKey) => {\n      if (reduceWrongKeys[wrongKey.group]) {\n        const currentKeys = wrongKey.wrongKeys;\n        currentKeys.forEach((key) => {\n          if (!reduceWrongKeys[wrongKey.group].wrongKeys.includes(key)) {\n            reduceWrongKeys[wrongKey.group].wrongKeys.push(key);\n            reduceWrongKeys[wrongKey.group] = {\n              ...wrongKey,\n              value:\n                wrongKey.item +\n                reduceWrongKeys[wrongKey.group].wrongKeys\n                  .filter((k) => k !== \"\")\n                  .join(\"、\"),\n              wrongKeys: reduceWrongKeys[wrongKey.group].wrongKeys,\n              clicked: true,\n            };\n          }\n        });\n      } else {\n        reduceWrongKeys[wrongKey.group] = {\n          ...wrongKey,\n          value:\n            wrongKey.item +\n            wrongKey.wrongKeys.filter((k) => k !== \"\").join(\"、\"),\n          clicked: true,\n        };\n      }\n    });\n\n    let reducePotentialWrongKeys = {};\n    potentialWrongKeys.forEach((potentialWrongKey) => {\n      if (reducePotentialWrongKeys[potentialWrongKey.group]) {\n        const currentKeys = potentialWrongKey.keys;\n        currentKeys.forEach((key) => {\n          if (\n            !reducePotentialWrongKeys[potentialWrongKey.group].keys.includes(\n              key\n            )\n          ) {\n            reducePotentialWrongKeys[potentialWrongKey.group].keys.push(key);\n            reducePotentialWrongKeys[potentialWrongKey.group] = {\n              ...potentialWrongKey,\n              value: potentialWrongKey.item /*+\n                reducePotentialWrongKeys[potentialWrongKey.group].keys\n                  .filter((k) => k !== \"\")\n                  .join(\"、\")*/,\n              keys: reducePotentialWrongKeys[potentialWrongKey.group].keys,\n              clicked: true,\n            };\n          }\n        });\n      } else {\n        reducePotentialWrongKeys[potentialWrongKey.group] = {\n          ...potentialWrongKey,\n          value: potentialWrongKey.item /*+\n            potentialWrongKey.keys.filter((k) => k !== \"\").join(\"、\")*/,\n          clicked: true,\n        };\n      }\n    });\n\n    let reduceWrongWordKeys = {};\n    wrongWordKeys.forEach((wrongWordKey) => {\n      if (!reduceWrongWordKeys[wrongWordKey.group]) {\n        reduceWrongWordKeys[wrongWordKey.group] = {\n          ...wrongWordKey,\n          clicked: true,\n        };\n      }\n    });\n\n    let reduceAboriginalWordKeys = {};\n    aboriginalWordKeys.forEach((aboriginalWordKey) => {\n      if (!reduceAboriginalWordKeys[aboriginalWordKey.group]) {\n        reduceAboriginalWordKeys[aboriginalWordKey.group] = {\n          ...aboriginalWordKey,\n          clicked: true,\n        };\n      }\n    });\n\n    setMyReduceCorrectKeys(reduceCorrectKeys);\n    setMyReduceWrongKeys(reduceWrongKeys);\n    setMyReducePotentialWrongKeys(reducePotentialWrongKeys);\n    setMyReduceWrongWordKeys(reduceWrongWordKeys);\n    setMyReduceAboriginalWordKeys(reduceAboriginalWordKeys);\n    setMyReduceFigureKeys(reduceFigureKeys);\n    setMyReduceWrongFigureKeys(reduceWrongFigureKeys);\n\n    Object.keys(reduceCorrectKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n        el.style.background = reduceCorrectKeys[key].clicked\n          ? elementColorMap[key].color\n          : \"inherit\";\n      });\n    });\n\n    Object.keys(reduceWrongKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n    Object.keys(reducePotentialWrongKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.pe-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n    Object.keys(reduceWrongWordKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ew-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n    Object.keys(reduceAboriginalWordKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ab-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n    Object.keys(reduceFigureKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.f-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n    Object.keys(reduceWrongFigureKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ef-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n  };\n  /*\n  useEffect(() => {\n    // console.log(\"useEffect~~~~\");\n\n    // divRef.current.querySelector(\"h2\").style.background =\n    //   \"rgb(147, 173, 100)\";\n    buildList(\"\");\n  }, [content, general]);\n  */\n\n  useEffect(() => {\n    // if (!modifiedParagraph || searchStringPrev.current === searchString) {\n    //   return;\n    // }\n\n    if (\n      searchString === \"\" /* && searchStringPrev.current !== searchString */\n    ) {\n      searchStringPrev.current = searchString;\n      return buildList(\"\");\n    }\n\n    searchStringPrev.current = searchString;\n    // console.log(\"rebuildlist\");\n    const htmlReg = RegExp(\"<(\\\"[^\\\"]*\\\"|'[^']*'|[^'\\\">])*>\", \"g\");\n    let nonModifiedParagraph = modifiedParagraph.replaceAll(htmlReg, \"@\");\n    let tagLists = [...modifiedParagraph.matchAll(htmlReg)];\n    tagLists.forEach((tagList, idx) => {\n      for (let i = idx + 1; i < tagLists.length; i++) {\n        tagLists[i].index -= tagList[0].length - 1;\n      }\n    });\n    let insertLists = tagLists.map((tagList) => ({\n      start: tagList.index,\n      content: tagList[0],\n    }));\n\n    const searchStringMatches = [\n      ...nonModifiedParagraph.matchAll(\n        RegExp(searchString.split(\"\").join(\"@?\"), \"g\")\n      ),\n    ];\n    setNumOfFoundedStr(searchStringMatches.length);\n\n    searchStringMatches.forEach((mt) => {\n      for (let j = mt.index; j < mt.index + mt[0].length; j++) {\n        if (nonModifiedParagraph[j] === \"@\") {\n          continue;\n        }\n        insertLists.push({\n          start: j,\n          content: `<strong class='search-highlight'>${nonModifiedParagraph[j]}</strong>`,\n        });\n      }\n    });\n\n    insertLists.sort((a, b) => a.start - b.start);\n\n    for (let i = insertLists.length - 1; i >= 0; i--) {\n      nonModifiedParagraph =\n        nonModifiedParagraph.slice(0, insertLists[i].start) +\n        insertLists[i].content +\n        nonModifiedParagraph.slice(insertLists[i].start + 1);\n    }\n    // Test\n    // if (index === 0) {\n    //   console.log(insertLists);\n    //   console.log(nonModifiedParagraph);\n    //   debugger;\n    // }\n    buildList(nonModifiedParagraph);\n  }, [\n    searchString,\n    content,\n    general,\n    globalHighlightOn,\n    globalHighlightElement,\n    essentialData.personalSettings.synchronizeHighlight,\n  ]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) => triggerToggleBtnColor(e, toggleBtnColor);\n\n    if (Object.keys(myReduceCorrectKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceCorrectKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.c-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceCorrectKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.c-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceCorrectKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) => triggerToggleErrorBtnColor(e, toggleErrorBtnColor);\n\n    if (Object.keys(myReduceWrongKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.e-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.e-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceWrongKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) =>\n      triggerTogglePotentialErrorBtnColor(e, togglePotentialErrorBtnColor);\n\n    if (Object.keys(myReducePotentialWrongKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReducePotentialWrongKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.pe-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReducePotentialWrongKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.pe-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReducePotentialWrongKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) =>\n      triggerToggleWrongWordBtnColor(e, toggleWrongWordBtnColor);\n\n    if (Object.keys(myReduceWrongWordKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongWordKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ew-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongWordKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ew-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceWrongWordKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) =>\n      triggerToggleAboriginalWordBtnColor(e, toggleAboriginalWordBtnColor);\n\n    if (Object.keys(myReduceAboriginalWordKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceAboriginalWordKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ab-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceAboriginalWordKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ab-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceAboriginalWordKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) => triggerToggleFigureBtnColor(e, toggleFigureBtnColor);\n\n    if (Object.keys(myReduceFigureKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceFigureKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.f-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceFigureKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.f-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceFigureKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) =>\n      triggerToggleWrongFigureBtnColor(e, toggleWrongFigureBtnColor);\n\n    if (Object.keys(myReduceWrongFigureKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongFigureKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ef-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongFigureKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ef-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceWrongFigureKeys]);\n\n  useEffect(() => {\n    if (preSavedContent === null && preSavedGeneral === null) {\n      setCopyOfSingleContent(content);\n      setCopyOfSingleGeneral(general);\n      setEditingZoneValue(content);\n      setEditingZoneGeneralValue(general);\n    }\n  }, [preSavedContent, preSavedGeneral]);\n\n  return (\n    <div className=\"paragraph-container not-claim\" ref={divRef}>\n      <h2\n        style={\n          copyOfSingleContent !== content || copyOfSingleGeneral !== general\n            ? { background: \"hotpink\" }\n            : {}\n        }\n        onClick={() => setIsCollapse(index)}\n      >\n        {Object.keys(myReduceWrongKeys).length === 0 &&\n          Object.keys(myReducePotentialWrongKeys).length === 0 &&\n          Object.keys(myReduceWrongWordKeys).length === 0 &&\n          Object.keys(myReduceWrongFigureKeys).length === 0 && (\n            <img src={checkedImg} alt=\"\" />\n          )}\n        {(Object.keys(myReduceWrongKeys).length > 0 ||\n          Object.keys(myReduceWrongWordKeys).length > 0 ||\n          Object.keys(myReduceWrongFigureKeys).length > 0) && (\n          <img src={errorImg} alt=\"\" />\n        )}\n        {Object.keys(myReducePotentialWrongKeys).length > 0 && (\n          <img src={warningImg} alt=\"\" />\n        )}\n        {Object.keys(myReduceAboriginalWordKeys).length > 0 && (\n          <img src={aboriginalImg} alt=\"\" />\n        )}\n        {dataType === \"disclosure\"\n          ? applicationNum[3] === \"1\"\n            ? \"發明內容\"\n            : \"新型內容\"\n          : \"實施方式\"}\n        【\n        {copyOfSingleContent !== content || copyOfSingleGeneral !== general\n          ? `${copyOfSingleGeneral}已修正`\n          : general}\n        】\n        {searchString && (\n          <>\n            {numOfFoundedStr === 0 ? (\n              <small>{\" \".repeat(6)}無結果</small>\n            ) : (\n              <small>\n                {\" \".repeat(6)}搜尋結果:{numOfFoundedStr}筆\n              </small>\n            )}\n          </>\n        )}\n        {!isCollapse ? (\n          <span>&#x292C;</span>\n        ) : (\n          <span style={{ height: \"1.38em\", lineHeight: \"1.25em\" }}>\n            &#x271B;\n          </span>\n        )}\n      </h2>\n      <section className={isCollapse ? \"collapse\" : \"\"}>\n        {Object.keys(myReduceCorrectKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id],\n                }))\n              }\n              id={`paragraph-${index}-corrects-btn`}\n              type=\"checkbox\"\n            />\n            <p className=\"disp\">\n              <img src={checkedImg} alt=\"\" />\n              元件名稱 & 符號正確:\n              <label htmlFor={`paragraph-${index}-corrects-btn`}>\n                {showControlBtns[`paragraph-${index}-corrects-btn`] ? \"⤬\" : \"✛\"}\n              </label>\n            </p>\n            {essentialData.personalSettings.synchronizeHighlight && (\n              <p\n                style={{\n                  color: \"rgb(68 112 69)\",\n                  fontWeight: \"bold\",\n                  marginLeft: \"2.5vw\",\n                }}\n              >\n                &#9733;說明書、申請專利範圍之所有構件皆同步highlight\n              </p>\n            )}\n          </>\n        )}\n        {Object.keys(myReduceCorrectKeys).length > 0 && (\n          <div\n            className=\"paragraph-corrects-btn\"\n            style={\n              showControlBtns[`paragraph-${index}-corrects-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n          >\n            {Object.keys(myReduceCorrectKeys).map((key) => (\n              <button\n                onClick={() => toggleBtnColor(key)}\n                style={{\n                  background: myReduceCorrectKeys[key].clicked\n                    ? elementColorMap[key].color\n                    : \"inherit\",\n                }}\n                key={key}\n                id={`para-${index}-${key}`}\n              >\n                {myReduceCorrectKeys[key].value}\n              </button>\n            ))}\n            {!essentialData.personalSettings.synchronizeHighlight && (\n              <button\n                style={{\n                  background: \"rgb(68, 112, 69)\",\n                  borderRadius: 1000000,\n                }}\n                onClick={toggleAllBtnColor}\n              >\n                <img\n                  src={switchImg}\n                  alt=\"\"\n                  style={{\n                    width: 25,\n                    height: 20,\n                    transform: \"translateY(3px)\",\n                  }}\n                />\n              </button>\n            )}\n            {essentialData.personalSettings.synchronizeHighlight &&\n              (!globalHighlightOn || globalHighlightElement.length > 0) && (\n                <button\n                  style={{\n                    background: \"rgb(182 100 71)\",\n                    color: \"#eee\",\n                    boxShadow: \"none\",\n                    fontSize: \"1.1em\",\n                    alignSelf: \"flex-end\",\n                    marginLeft: \"auto\",\n                    marginRight: \"3vw\",\n                  }}\n                  onClick={() =>\n                    setEssentialData((prev) => ({\n                      ...prev,\n                      globalHighlightOn: true,\n                      globalHighlightElement: [],\n                    }))\n                  }\n                >\n                  開啟標註\n                </button>\n              )}\n            {essentialData.personalSettings.synchronizeHighlight &&\n              globalHighlightOn &&\n              globalHighlightElement.length === 0 && (\n                <button\n                  style={{\n                    background: \"rgb(182 100 71)\",\n                    color: \"#eee\",\n                    boxShadow: \"none\",\n                    fontSize: \"1.1em\",\n                    alignSelf: \"flex-end\",\n                    marginLeft: \"auto\",\n                    marginRight: \"3vw\",\n                  }}\n                  onClick={() =>\n                    setEssentialData((prev) => ({\n                      ...prev,\n                      globalHighlightOn: false,\n                    }))\n                  }\n                >\n                  關閉標註\n                </button>\n              )}\n          </div>\n        )}\n        {Object.keys(myReduceWrongKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id],\n                }))\n              }\n              id={`paragraph-${index}-errors-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"rgb(188 30 30)\" }} className=\"disp\">\n              <img src={errorImg} alt=\"\" />\n              元件名稱 or 符號錯誤:\n              <label htmlFor={`paragraph-${index}-errors-btn`}>\n                {showControlBtns[`paragraph-${index}-errors-btn`] ? \"⤬\" : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceWrongKeys).length > 0 && (\n          <div\n            style={\n              showControlBtns[`paragraph-${index}-errors-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n            className=\"paragraph-errors-btn\"\n          >\n            {Object.keys(myReduceWrongKeys).map((key) => (\n              <button\n                onClick={() => toggleErrorBtnColor(key)}\n                style={{\n                  background: myReduceWrongKeys[key].clicked\n                    ? \"red\"\n                    : \"inherit\",\n                }}\n                key={key}\n              >\n                {myReduceWrongKeys[key].value}\n              </button>\n            ))}\n            <button\n              style={{\n                background: \"rgb(255, 0, 0)\",\n                borderRadius: 1000000,\n              }}\n              onClick={toggleAllErrorBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        {Object.keys(myReducePotentialWrongKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id],\n                }))\n              }\n              id={`paragraph-${index}-potentialErrors-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"rgb(237 172 55)\" }} className=\"disp\">\n              <img src={warningImg} alt=\"\" />\n              元件名稱 or 符號可能存在錯誤:\n              <label htmlFor={`paragraph-${index}-potentialErrors-btn`}>\n                {showControlBtns[`paragraph-${index}-potentialErrors-btn`]\n                  ? \"⤬\"\n                  : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReducePotentialWrongKeys).length > 0 && (\n          <div\n            style={\n              showControlBtns[`paragraph-${index}-potentialErrors-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n            className=\"paragraph-potentialErrors-btn\"\n          >\n            {Object.keys(myReducePotentialWrongKeys).map((key) => (\n              <button\n                onClick={() => togglePotentialErrorBtnColor(key)}\n                style={{\n                  background: myReducePotentialWrongKeys[key].clicked\n                    ? \"rgb(202 117 117)\"\n                    : \"inherit\",\n                }}\n                key={key}\n              >\n                {myReducePotentialWrongKeys[key].value}\n              </button>\n            ))}\n            <button\n              style={{\n                background: \"rgb(202 117 117)\",\n                borderRadius: 1000000,\n              }}\n              onClick={toggleAllPotentialErrorBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        {Object.keys(myReduceWrongWordKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id],\n                }))\n              }\n              id={`paragraph-${index}-word-errors-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"rgb(188 30 30)\" }} className=\"disp\">\n              <img src={errorImg} alt=\"\" />\n              用語錯誤:\n              <label htmlFor={`paragraph-${index}-word-errors-btn`}>\n                {showControlBtns[`paragraph-${index}-word-errors-btn`]\n                  ? \"⤬\"\n                  : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceWrongWordKeys).length > 0 && (\n          <div\n            style={\n              showControlBtns[`paragraph-${index}-word-errors-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n            className=\"paragraph-word-errors-btn\"\n          >\n            {Object.keys(myReduceWrongWordKeys).map((key) => (\n              <button\n                onClick={() => toggleWrongWordBtnColor(key)}\n                style={{\n                  background: myReduceWrongWordKeys[key].clicked\n                    ? \"red\"\n                    : \"inherit\",\n                }}\n                key={key}\n              >\n                {myReduceWrongWordKeys[key].value}\n              </button>\n            ))}\n            <button\n              style={{ background: \"red\", borderRadius: 1000000 }}\n              onClick={toggleAllWrongWordBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        {Object.keys(myReduceFigureKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id],\n                }))\n              }\n              id={`paragraph-${index}-figure-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"#447045\" }} className=\"disp\">\n              <img src={checkedImg} alt=\"\" />\n              引用正確之圖式:\n              <label htmlFor={`paragraph-${index}-figure-btn`}>\n                {showControlBtns[`paragraph-${index}-figure-btn`] ? \"⤬\" : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceFigureKeys).length > 0 && (\n          <div\n            style={\n              showControlBtns[`paragraph-${index}-figure-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n            className=\"paragraph-figure-btn\"\n          >\n            {Object.keys(myReduceFigureKeys).map((key) => (\n              <button\n                onClick={() => toggleFigureBtnColor(key)}\n                style={{\n                  background: myReduceFigureKeys[key].clicked\n                    ? \"#93ad64\"\n                    : \"inherit\",\n                }}\n                key={key}\n              >\n                {myReduceFigureKeys[key].fig}\n              </button>\n            ))}\n            <button\n              style={{ background: \"#93ad64\", borderRadius: 1000000 }}\n              onClick={toggleAllFigureBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        {Object.keys(myReduceWrongFigureKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id],\n                }))\n              }\n              id={`paragraph-${index}-wrong-figure-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"rgb(188, 30, 30)\" }} className=\"disp\">\n              <img src={errorImg} alt=\"\" />\n              引用錯誤之圖式:\n              <label htmlFor={`paragraph-${index}-wrong-figure-btn`}>\n                {showControlBtns[`paragraph-${index}-wrong-figure-btn`]\n                  ? \"⤬\"\n                  : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceWrongFigureKeys).length > 0 && (\n          <div\n            style={\n              showControlBtns[`paragraph-${index}-wrong-figure-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n            className=\"paragraph-wrong-figure-btn\"\n          >\n            {Object.keys(myReduceWrongFigureKeys).map((key) => (\n              <button\n                onClick={() => toggleWrongFigureBtnColor(key)}\n                style={{\n                  background: myReduceWrongFigureKeys[key].clicked\n                    ? \"red\"\n                    : \"inherit\",\n                }}\n                key={key}\n              >\n                {myReduceWrongFigureKeys[key].fig}\n              </button>\n            ))}\n            <button\n              style={{ background: \"red\", borderRadius: 1000000 }}\n              onClick={toggleAllWrongFigureBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        {Object.keys(myReduceAboriginalWordKeys).length > 0 && (\n          <>\n            <input\n              onChange={(e) =>\n                setShowControlBtns((prev) => ({\n                  ...prev,\n                  [e.target.id]: !prev[e.target.id],\n                }))\n              }\n              id={`paragraph-${index}-aboriginals-btn`}\n              type=\"checkbox\"\n            />\n            <p style={{ background: \"rgb(159 152 152)\" }} className=\"disp\">\n              <img src={aboriginalImg} alt=\"\" />\n              原住民之相關用語:\n              <label htmlFor={`paragraph-${index}-aboriginals-btn`}>\n                {showControlBtns[`paragraph-${index}-aboriginals-btn`]\n                  ? \"⤬\"\n                  : \"✛\"}\n              </label>\n            </p>\n          </>\n        )}\n        {Object.keys(myReduceAboriginalWordKeys).length > 0 && (\n          <div\n            style={\n              showControlBtns[`paragraph-${index}-aboriginals-btn`]\n                ? {}\n                : { display: \"none\" }\n            }\n            className=\"paragraph-aboriginals-btn\"\n          >\n            {Object.keys(myReduceAboriginalWordKeys).map((key) => (\n              <button\n                onClick={() => toggleAboriginalWordBtnColor(key)}\n                style={{\n                  background: myReduceAboriginalWordKeys[key].clicked\n                    ? \"rgb(188 174 174)\"\n                    : \"inherit\",\n                }}\n                key={key}\n              >\n                {myReduceAboriginalWordKeys[key].value}\n              </button>\n            ))}\n            <button\n              style={{ background: \"rgb(188 174 174)\", borderRadius: 1000000 }}\n              onClick={toggleAllAboriginalWordBtnColor}\n            >\n              <img\n                src={switchImg}\n                alt=\"\"\n                style={{ width: 25, height: 20, transform: \"translateY(3px)\" }}\n              />\n            </button>\n          </div>\n        )}\n        <p\n          style={\n            onContentEditing ||\n            copyOfSingleContent !== content ||\n            copyOfSingleGeneral !== general\n              ? { display: \"none\" }\n              : {}\n          }\n          className=\"content\"\n        >\n          Sorry! 無法分析本段落!!!\n        </p>\n        {!onContentEditing &&\n          (copyOfSingleContent !== content ||\n            copyOfSingleGeneral !== general) && (\n            <p className=\"content modify\">{`【${copyOfSingleGeneral}:已修正】 ${copyOfSingleContent}`}</p>\n          )}\n        {onContentEditing && (\n          <p className=\"content\">\n            <label\n              style={{\n                minWidth: 300,\n                display: \"block\",\n                marginBottom: \".3em\",\n              }}\n            >\n              段落編號:{\" \"}\n              <input\n                style={{\n                  fontSize: \"0.9em\",\n                  width: 100,\n                }}\n                type=\"text\"\n                value={editingZoneGeneralValue}\n                onChange={(e) => setEditingZoneGeneralValue(e.target.value)}\n              />\n            </label>\n            <textarea\n              style={{\n                width: \"100%\",\n                height: 150,\n                fontSize: \"1.1em\",\n              }}\n              value={editingZoneValue}\n              onChange={(e) => setEditingZoneValue(e.target.value)}\n            />\n          </p>\n        )}\n        <div className=\"paragraph-container-btns\">\n          {(copyOfSingleContent !== content ||\n            copyOfSingleGeneral !== general) && (\n            <button\n              onClick={() => {\n                setCopyOfSingleContent(content);\n                setCopyOfSingleGeneral(general);\n                setOldContent(index);\n                setOnContentEditing(false);\n              }}\n            >\n              還原\n            </button>\n          )}\n          {onContentEditing &&\n            (copyOfSingleContent !== editingZoneValue ||\n              copyOfSingleGeneral !== editingZoneGeneralValue) && (\n              <button\n                onClick={() => {\n                  if (\n                    editingZoneValue === content &&\n                    editingZoneGeneralValue === general\n                  ) {\n                    setOldContent(index);\n                  } else {\n                    try {\n                      setNewContent(\n                        index,\n                        editingZoneValue,\n                        editingZoneGeneralValue\n                      );\n                    } catch (error) {\n                      window.alert(error.message);\n                      return;\n                    }\n                  }\n                  setCopyOfSingleContent(editingZoneValue);\n                  setCopyOfSingleGeneral(editingZoneGeneralValue);\n                  setOnContentEditing(false);\n                }}\n              >\n                確認\n              </button>\n            )}\n          <button\n            onClick={() => {\n              if (!onContentEditing) {\n                setEditingZoneValue(copyOfSingleContent);\n                setEditingZoneGeneralValue(copyOfSingleGeneral);\n              }\n              setOnContentEditing((prev) => !prev);\n            }}\n          >\n            {onContentEditing ? `取消` : `修正`}\n          </button>\n          <button onClick={() => setDeleteContent(index)}>刪除</button>\n          <button\n            className=\"gotop-btn\"\n            onClick={() =>\n              document\n                .querySelector(\".main-body\")\n                .scrollTo({ top: 0, behavior: \"smooth\" })\n            }\n          >\n            Go Top\n          </button>\n          <button\n            className=\"copy-btn\"\n            onClick={() => {\n              if (navigator.clipboard && window.isSecureContext) {\n                navigator.clipboard.writeText(content);\n              } else {\n                // Use the 'out of viewport hidden text area' trick\n                const textArea = document.createElement(\"textarea\");\n                textArea.value = content;\n\n                // Move textarea out of the viewport so it's not visible\n                textArea.style.position = \"absolute\";\n                textArea.style.left = \"-999999px\";\n\n                document.body.prepend(textArea);\n                textArea.select();\n\n                try {\n                  document.execCommand(\"copy\");\n                } catch (error) {\n                  console.error(error);\n                } finally {\n                  textArea.remove();\n                }\n              }\n            }}\n          >\n            複製內容\n          </button>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default SingleParagraph;\n","import React, { useEffect, useState } from \"react\";\n\nconst AddedParagraph = ({\n  addedIdx,\n  content,\n  general,\n  updateNewContent,\n  deleteNewContent,\n  isCollapse,\n  openOrCollapseNewContent\n}) => {\n  const [addedContent, setAddedContent] = useState(content);\n  const [addedGeneral, setAddedGeneral] = useState(general);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editingZoneValue, setEditingZoneValue] = useState({\n    general: \"\",\n    content: \"\"\n  });\n\n  useEffect(() => {\n    setAddedGeneral(general);\n    setAddedContent(content);\n  }, [general, content]);\n\n  return (\n    <div className=\"paragraph-container\">\n      <h2\n        onClick={() => openOrCollapseNewContent(addedIdx)}\n        style={{ background: \"#e49494\", boxShadow: \"2px 2px 4px 2px #825555\" }}\n      >\n        {`新增段落 【${addedGeneral}】`}\n        {!isCollapse ? (\n          <span>&#x292C;</span>\n        ) : (\n          <span style={{ height: \"1.38em\", lineHeight: \"1.25em\" }}>\n            &#x271B;\n          </span>\n        )}\n      </h2>\n      <section style={isCollapse ? { display: \"none\" } : {}}>\n        <p style={{ backgroundColor: \"#f7e4e4\" }} className=\"content\">\n          {isEditing ? (\n            <>\n              <label\n                style={{\n                  minWidth: 300,\n                  display: \"block\",\n                  marginBottom: \".3em\"\n                }}\n              >\n                段落編號:{\" \"}\n                <input\n                  type=\"text\"\n                  style={{\n                    fontSize: \".9em\",\n                    width: 100\n                  }}\n                  value={editingZoneValue.general}\n                  onChange={(e) =>\n                    setEditingZoneValue((prev) => ({\n                      ...prev,\n                      general: e.target.value\n                    }))\n                  }\n                />\n              </label>\n              <textarea\n                style={{ width: \"100%\", height: 150, fontSize: \"1.1em\" }}\n                value={editingZoneValue.content}\n                onChange={(e) =>\n                  setEditingZoneValue((prev) => ({\n                    ...prev,\n                    content: e.target.value\n                  }))\n                }\n              />\n            </>\n          ) : (\n            <>{`【${addedGeneral}:已新增】${addedContent}`}</>\n          )}\n        </p>\n        <div className=\"paragraph-container-btns\">\n          {isEditing &&\n            (editingZoneValue.general !== addedGeneral ||\n              editingZoneValue.content !== addedContent) && (\n              <button\n                onClick={() => {\n                  try {\n                    updateNewContent(addedIdx, {\n                      general: editingZoneValue.general,\n                      content: editingZoneValue.content\n                    });\n                  } catch (error) {\n                    window.alert(error.message);\n                    return;\n                  }\n                  setIsEditing(false);\n                }}\n              >\n                確認\n              </button>\n            )}\n          <button\n            onClick={() => {\n              if (!isEditing) {\n                setEditingZoneValue({\n                  general: addedGeneral,\n                  content: addedContent\n                });\n              }\n              setIsEditing((prev) => !prev);\n            }}\n          >\n            {isEditing ? \"取消\" : \"修正\"}\n          </button>\n          <button onClick={() => deleteNewContent(addedIdx)}>刪除</button>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default AddedParagraph;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport SingleParagraph from \"../components/SingleParagraph\";\nimport AddedParagraph from \"../components/AddedParagraph\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport { UpdateParagraphContextProvider } from \"../contexts/UpdateParagraphContext\";\nimport { getPathName } from \"../utils/getPathName\";\nimport searchImg from \"../assets/search.png\";\nimport Popup from \"reactjs-popup\";\nimport SearchPopup from \"../components/SearchPopup\";\n\nconst Disclosure = ({ handleReInit }) => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const {\n    allUpdateDisclosureParagraph: allUpdateParagraph,\n    setAllUpdateDisclosureParagraph: setAllUpdateParagraph\n  } = useContext(UpdateParagraphContextProvider);\n\n  const [isOnAdding, setIsOnAdding] = useState(false);\n  const [AddingZoneValue, setAddingZoneValue] = useState({\n    general: \"\",\n    content: \"\"\n  });\n  const [isSearchPopupOpen, toggleIsSearchPopupOpen] = useState(false);\n  // const [searchString, setSearchString] = useState(\"\");\n  const searchString = essentialData.searchString;\n  const setSearchString = (str) =>\n    setEssentialData((prev) => ({ ...prev, searchString: str }));\n\n  const setIsCollapse = (index) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allDisclosureParagraphDetails: essentialData.allDisclosureParagraphDetails.map(\n        (paragraph, i) => {\n          if (index === i) {\n            return { ...paragraph, isCollapse: !paragraph.isCollapse };\n          }\n          return paragraph;\n        }\n      )\n    }));\n  };\n\n  const openOrCollapseAll = (method) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allDisclosureParagraphDetails: essentialData.allDisclosureParagraphDetails.map(\n        (paragraph) => ({\n          ...paragraph,\n          isCollapse: method === \"collapse\" ? true : false\n        })\n      )\n    }));\n    setAllUpdateParagraph((prev) =>\n      prev.map((p) => {\n        if (p.isNewAdded) {\n          return { ...p, isCollapse: method === \"collapse\" ? true : false };\n        }\n        return p;\n      })\n    );\n  };\n\n  const setNewContent = (paraIndex, newContent, newGeneral) => {\n    if (!parseInt(newGeneral)) {\n      throw Error(\"段落編號格式錯誤。\");\n    }\n    if (\n      essentialData.allDisclosureParagraphDetails\n        .filter((_, pIdx) => pIdx !== paraIndex)\n        .find((p) => p.general === newGeneral) ||\n      allUpdateParagraph.find((p) => p.general === newGeneral)\n    ) {\n      throw Error(`該段落編碼${newGeneral}已經被使用了。`);\n    }\n    setAllUpdateParagraph((prev) =>\n      prev.map((p, pIdx) => {\n        if (pIdx === paraIndex) {\n          return {\n            ...p,\n            content: newContent,\n            general: newGeneral\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const setOldContent = (paraIndex) => {\n    setAllUpdateParagraph((prev) =>\n      prev.map((p, pIdx) => {\n        if (pIdx === paraIndex) {\n          return {\n            ...p,\n            content: null,\n            general: null\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const setDeleteContent = (paraIndex) => {\n    setAllUpdateParagraph((prev) =>\n      prev.map((p, pIdx) => {\n        if (pIdx === paraIndex) {\n          return {\n            ...p,\n            isDelete: true\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const updateNewContent = (addedIdx, payload) => {\n    if (!parseInt(payload.general)) {\n      throw Error(\"段落編號格式錯誤。\");\n    }\n    if (\n      essentialData.allDisclosureParagraphDetails.find(\n        (p) => p.general === payload.general\n      ) ||\n      allUpdateParagraph\n        .filter((p) => p.addedIdx !== addedIdx)\n        .find((p) => p.general === payload.general)\n    ) {\n      throw Error(`該段落編碼${payload.general}已經被使用了。`);\n    }\n    setAllUpdateParagraph((prev) =>\n      prev.map((p) => {\n        if (p.addedIdx === addedIdx) {\n          return { ...p, general: payload.general, content: payload.content };\n        }\n        return p;\n      })\n    );\n  };\n\n  const deleteNewContent = (addedIdx) => {\n    setAllUpdateParagraph((prev) =>\n      prev.filter((p) => p.addedIdx !== addedIdx)\n    );\n  };\n\n  const openOrCollapseNewContent = (addedIdx) => {\n    setAllUpdateParagraph((prev) =>\n      prev.map((p) => {\n        if (p.addedIdx === addedIdx) {\n          return {\n            ...p,\n            isCollapse: !p.isCollapse\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  useEffect(() => {\n    setEssentialData((prev) => ({ ...prev, pathName: getPathName() }));\n  }, []);\n\n  useEffect(() => {\n    if (\n      !essentialData.isProcessing &&\n      essentialData.allDisclosureParagraphDetails.length > 0 &&\n      allUpdateParagraph.length === 0\n    ) {\n      setAllUpdateParagraph(\n        essentialData.allDisclosureParagraphDetails.map((_, idx) => ({\n          general: null,\n          content: null\n        }))\n      );\n      setAddingZoneValue({\n        general: \"\",\n        content: \"\"\n      });\n    }\n  }, [essentialData]);\n\n  const renderh3 = (textContent) => <h3>{textContent}</h3>;\n\n  return (\n    <>\n      <section className=\"title-section sticky\">\n        <h1 style={{ color: \"transparent\" }}>新型內容</h1>\n        {!essentialData.isProcessing &&\n          essentialData.allDisclosureParagraphDetails.length > 0 && (\n            <div>\n              <button onClick={() => openOrCollapseAll(\"collapse\")}>\n                &#x292C; 全部收合\n              </button>\n              <button onClick={() => openOrCollapseAll(\"open\")}>\n                &#x271B; 全部展開\n              </button>\n              <button\n                onClick={(e) => {\n                  if (e.target.tagName !== \"B\") {\n                    toggleIsSearchPopupOpen(true);\n                  }\n                }}\n                className={searchString ? \"withStr\" : \"\"}\n              >\n                <img src={searchImg} alt=\"\" />\n                {searchString && (\n                  <>\n                    <span\n                      style={{\n                        flexGrow: 1,\n                        textAlign: \"start\",\n                        overflow: \"hidden\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\"\n                      }}\n                    >\n                      {searchString}\n                    </span>\n                    <b\n                      style={{ paddingRight: 6, fontSize: \"1.06em\" }}\n                      onClick={() => {\n                        toggleIsSearchPopupOpen(false);\n                        setSearchString(\"\");\n                      }}\n                    >\n                      ⤬\n                    </b>\n                  </>\n                )}\n              </button>\n              <div className=\"all-paragraph-section-save-btns\">\n                <button\n                  onClick={() => {\n                    setIsOnAdding((prev) => !prev);\n                  }}\n                >\n                  {isOnAdding ? \"取消\" : \"新增\"}\n                </button>\n                {!allUpdateParagraph.every(\n                  (ct) =>\n                    ct.content === null && ct.general === null && !ct.isDelete\n                ) && (\n                  <>\n                    <button\n                      onClick={async () => {\n                        await handleReInit(essentialData, setEssentialData, {\n                          method: \"allDisclosureParagraphDetails\",\n                          data: allUpdateParagraph\n                        });\n                        setAllUpdateParagraph((prev) =>\n                          prev.map((p) => ({ content: null, general: null }))\n                        );\n                      }}\n                    >\n                      全部儲存\n                    </button>\n                    <button\n                      onClick={() => {\n                        setAllUpdateParagraph((prev) =>\n                          prev\n                            .filter((p) => !p.isNewAdded)\n                            .map((p) => ({ content: null, general: null }))\n                        );\n                      }}\n                    >\n                      全部還原\n                    </button>\n                  </>\n                )}\n              </div>\n            </div>\n          )}\n      </section>\n      <section className=\"all-paragraph-section\">\n        {essentialData.isProcessing ? (\n          <div>\n            <h1>\n              {essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}內容\n            </h1>\n            <h3>Processing...</h3>\n          </div>\n        ) : essentialData.allDisclosureParagraphDetails.length === 0 ? (\n          <div>\n            <h1>\n              {essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}內容\n            </h1>\n            <h3>No data passed in yet.</h3>\n          </div>\n        ) : (\n          <div>\n            <Popup\n              open={isSearchPopupOpen}\n              closeOnDocumentClick\n              onClose={() => toggleIsSearchPopupOpen(false)}\n            >\n              <SearchPopup\n                handleClose={toggleIsSearchPopupOpen}\n                searchString={searchString}\n                setSearchString={setSearchString}\n              />\n            </Popup>\n\n            <h1>\n              {essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}內容\n            </h1>\n\n            {isOnAdding && (\n              <div className=\"add-new-paragraph\">\n                <p>新增段落</p>\n                <label>\n                  段落編號:{\" \"}\n                  <input\n                    value={AddingZoneValue.general}\n                    onChange={(e) =>\n                      setAddingZoneValue((prev) => ({\n                        ...prev,\n                        general: e.target.value\n                      }))\n                    }\n                    type=\"text\"\n                  />\n                </label>\n                <textarea\n                  value={AddingZoneValue.content}\n                  onChange={(e) =>\n                    setAddingZoneValue((prev) => ({\n                      ...prev,\n                      content: e.target.value\n                    }))\n                  }\n                />\n                <div>\n                  {AddingZoneValue.general !== \"\" &&\n                    AddingZoneValue.content !== \"\" && (\n                      <button\n                        onClick={() => {\n                          if (!parseInt(AddingZoneValue.general)) {\n                            window.alert(\"段落編號格式錯誤。\");\n                            return;\n                          }\n                          if (\n                            essentialData.allDisclosureParagraphDetails.find(\n                              (p) => p.general === AddingZoneValue.general\n                            ) ||\n                            allUpdateParagraph.find(\n                              (p) => p.general === AddingZoneValue.general\n                            )\n                          ) {\n                            window.alert(\n                              `該段落編碼${AddingZoneValue.general}已經被使用了。`\n                            );\n                            return;\n                          }\n                          setAllUpdateParagraph((prev) => [\n                            ...prev,\n                            {\n                              addedIdx: Math.random().toString().slice(2, 8),\n                              general: AddingZoneValue.general,\n                              content: AddingZoneValue.content,\n                              isNewAdded: true,\n                              isCollapse: false\n                            }\n                          ]);\n                          setAddingZoneValue({ general: \"\", content: \"\" });\n                          setIsOnAdding(false);\n                        }}\n                      >\n                        確認\n                      </button>\n                    )}\n                  <button onClick={() => setIsOnAdding(false)}>取消</button>\n                </div>\n              </div>\n            )}\n\n            {allUpdateParagraph.filter((p) => p.isNewAdded).length > 0 &&\n              allUpdateParagraph\n                .filter((p) => p.isNewAdded)\n                .map((para) => (\n                  <AddedParagraph\n                    key={para.addedIdx}\n                    addedIdx={para.addedIdx}\n                    content={para.content}\n                    general={para.general}\n                    updateNewContent={updateNewContent}\n                    deleteNewContent={deleteNewContent}\n                    isCollapse={para.isCollapse}\n                    openOrCollapseNewContent={openOrCollapseNewContent}\n                  />\n                ))}\n\n            {essentialData.allDisclosureParagraphDetails.map(\n              (paragraphDetail, index) =>\n                allUpdateParagraph[index] &&\n                allUpdateParagraph[index].isDelete ? (\n                  <div key={index} className=\"paragraph-container\">\n                    <h2\n                      style={{\n                        background: \"red\",\n                        boxShadow: \"2px 2px 4px 2px #773333\"\n                      }}\n                    >\n                      段落[\n                      {allUpdateParagraph[index].general ||\n                        paragraphDetail.general}\n                      ]已刪除\n                      <span\n                        style={{\n                          width: \"auto\",\n                          padding: \"3px .2em\",\n                          fontSize: \".8em\"\n                        }}\n                        onClick={() =>\n                          setAllUpdateParagraph((prev) =>\n                            prev.map((p, pIdx) => {\n                              if (index === pIdx) {\n                                return { ...p, isDelete: false };\n                              }\n                              return p;\n                            })\n                          )\n                        }\n                      >\n                        還原\n                      </span>\n                    </h2>\n                  </div>\n                ) : (\n                  <SingleParagraph\n                    key={index}\n                    index={index}\n                    isOK={paragraphDetail.isOK}\n                    dataType={\"disclosure\"}\n                    applicationNum={essentialData.applicationNum}\n                    general={paragraphDetail.general}\n                    content={paragraphDetail.content}\n                    modifiedParagraph={paragraphDetail.modifiedParagraph}\n                    figureKeys={paragraphDetail.paragraphMatch.figures}\n                    wrongFigureKeys={\n                      paragraphDetail.paragraphMatch.figuresErrors\n                    }\n                    correctKeys={paragraphDetail.paragraphMatch.corrects}\n                    wrongKeys={paragraphDetail.paragraphMatch.wrongs}\n                    potentialWrongKeys={\n                      paragraphDetail.paragraphMatch.potentialErrors\n                    }\n                    wrongWordKeys={paragraphDetail.paragraphMatch.wrongWords}\n                    aboriginalWordKeys={\n                      paragraphDetail.paragraphMatch.aboriginalWords\n                    }\n                    elementColorMap={essentialData.elementColorMap}\n                    isCollapse={paragraphDetail.isCollapse}\n                    setIsCollapse={setIsCollapse}\n                    setNewContent={setNewContent}\n                    setOldContent={setOldContent}\n                    setDeleteContent={setDeleteContent}\n                    // resetRandomNum={resetRandomNum}\n                    preSavedContent={\n                      allUpdateParagraph[index] &&\n                      allUpdateParagraph[index].content\n                    }\n                    preSavedGeneral={\n                      allUpdateParagraph[index] &&\n                      allUpdateParagraph[index].general\n                    }\n                    searchString={searchString}\n                    globalHighlightOn={essentialData.globalHighlightOn}\n                    globalHighlightElement={\n                      essentialData.globalHighlightElement\n                    }\n                  />\n                )\n            )}\n          </div>\n        )}\n      </section>\n    </>\n  );\n};\n\nexport default Disclosure;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport SingleParagraph from \"../components/SingleParagraph\";\nimport AddedParagraph from \"../components/AddedParagraph\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport { UpdateParagraphContextProvider } from \"../contexts/UpdateParagraphContext\";\nimport { getPathName } from \"../utils/getPathName\";\nimport searchImg from \"../assets/search.png\";\nimport Popup from \"reactjs-popup\";\nimport SearchPopup from \"../components/SearchPopup\";\n\nconst ModeForEnvention = ({ handleReInit }) => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const {\n    allUpdateModeForInventionParagraph: allUpdateParagraph,\n    setAllUpdateModeForInventionParagraph: setAllUpdateParagraph\n  } = useContext(UpdateParagraphContextProvider);\n\n  const [isOnAdding, setIsOnAdding] = useState(false);\n  const [AddingZoneValue, setAddingZoneValue] = useState({\n    general: \"\",\n    content: \"\"\n  });\n  const [isSearchPopupOpen, toggleIsSearchPopupOpen] = useState(false);\n  //const [searchString, setSearchString] = useState(\"\");\n  const searchString = essentialData.searchString;\n  const setSearchString = (str) =>\n    setEssentialData((prev) => ({ ...prev, searchString: str }));\n\n  const setIsCollapse = (index) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allModeForInventionParagraphDetails: essentialData.allModeForInventionParagraphDetails.map(\n        (paragraph, i) => {\n          if (index === i) {\n            return { ...paragraph, isCollapse: !paragraph.isCollapse };\n          }\n          return paragraph;\n        }\n      )\n    }));\n  };\n\n  const openOrCollapseAll = (method) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allModeForInventionParagraphDetails: essentialData.allModeForInventionParagraphDetails.map(\n        (paragraph) => ({\n          ...paragraph,\n          isCollapse: method === \"collapse\" ? true : false\n        })\n      )\n    }));\n    setAllUpdateParagraph((prev) =>\n      prev.map((p) => {\n        if (p.isNewAdded) {\n          return { ...p, isCollapse: method === \"collapse\" ? true : false };\n        }\n        return p;\n      })\n    );\n  };\n\n  const setNewContent = (paraIndex, newContent, newGeneral) => {\n    if (!parseInt(newGeneral)) {\n      throw Error(\"段落編號格式錯誤。\");\n    }\n    if (\n      essentialData.allModeForInventionParagraphDetails\n        .filter((_, pIdx) => pIdx !== paraIndex)\n        .find((p) => p.general === newGeneral) ||\n      allUpdateParagraph.find((p) => p.general === newGeneral)\n    ) {\n      throw Error(`該段落編碼${newGeneral}已經被使用了。`);\n    }\n    setAllUpdateParagraph((prev) =>\n      prev.map((p, pIdx) => {\n        if (pIdx === paraIndex) {\n          return {\n            ...p,\n            content: newContent,\n            general: newGeneral\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const setOldContent = (paraIndex) => {\n    setAllUpdateParagraph((prev) =>\n      prev.map((p, pIdx) => {\n        if (pIdx === paraIndex) {\n          return {\n            ...p,\n            content: null,\n            general: null\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const setDeleteContent = (paraIndex) => {\n    setAllUpdateParagraph((prev) =>\n      prev.map((p, pIdx) => {\n        if (pIdx === paraIndex) {\n          return {\n            ...p,\n            isDelete: true\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  const updateNewContent = (addedIdx, payload) => {\n    if (!parseInt(payload.general)) {\n      throw Error(\"段落編號格式錯誤。\");\n    }\n    if (\n      essentialData.allModeForInventionParagraphDetails.find(\n        (p) => p.general === payload.general\n      ) ||\n      allUpdateParagraph\n        .filter((p) => p.addedIdx !== addedIdx)\n        .find((p) => p.general === payload.general)\n    ) {\n      throw Error(`該段落編碼${payload.general}已經被使用了。`);\n    }\n    setAllUpdateParagraph((prev) =>\n      prev.map((p) => {\n        if (p.addedIdx === addedIdx) {\n          return { ...p, general: payload.general, content: payload.content };\n        }\n        return p;\n      })\n    );\n  };\n\n  const deleteNewContent = (addedIdx) => {\n    setAllUpdateParagraph((prev) =>\n      prev.filter((p) => p.addedIdx !== addedIdx)\n    );\n  };\n\n  const openOrCollapseNewContent = (addedIdx) => {\n    setAllUpdateParagraph((prev) =>\n      prev.map((p) => {\n        if (p.addedIdx === addedIdx) {\n          return {\n            ...p,\n            isCollapse: !p.isCollapse\n          };\n        }\n        return p;\n      })\n    );\n  };\n\n  useEffect(() => {\n    setEssentialData((prev) => ({ ...prev, pathName: getPathName() }));\n  }, []);\n\n  useEffect(() => {\n    if (\n      !essentialData.isProcessing &&\n      essentialData.allModeForInventionParagraphDetails.length > 0 &&\n      allUpdateParagraph.length === 0\n    ) {\n      setAllUpdateParagraph(\n        essentialData.allModeForInventionParagraphDetails.map((_, idx) => ({\n          general: null,\n          content: null\n        }))\n      );\n      setAddingZoneValue({\n        general: \"\",\n        content: \"\"\n      });\n    }\n  }, [essentialData]);\n\n  return (\n    <>\n      <section className=\"title-section sticky\">\n        <h1 style={{ color: \"transparent\" }}>實施方式</h1>\n        {!essentialData.isProcessing &&\n          essentialData.allModeForInventionParagraphDetails.length > 0 && (\n            <div>\n              <button onClick={() => openOrCollapseAll(\"collapse\")}>\n                &#x292C; 全部收合\n              </button>\n              <button onClick={() => openOrCollapseAll(\"open\")}>\n                &#x271B; 全部展開\n              </button>\n              <button\n                onClick={(e) => {\n                  if (e.target.tagName !== \"B\") {\n                    toggleIsSearchPopupOpen(true);\n                  }\n                }}\n                className={searchString ? \"withStr\" : \"\"}\n              >\n                <img src={searchImg} alt=\"\" />\n                {searchString && (\n                  <>\n                    <span\n                      style={{\n                        flexGrow: 1,\n                        textAlign: \"start\",\n                        overflow: \"hidden\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\"\n                      }}\n                    >\n                      {searchString}\n                    </span>\n                    <b\n                      style={{ paddingRight: 6, fontSize: \"1.06em\" }}\n                      onClick={() => {\n                        toggleIsSearchPopupOpen(false);\n                        setSearchString(\"\");\n                      }}\n                    >\n                      ⤬\n                    </b>\n                  </>\n                )}\n              </button>\n\n              <div className=\"all-paragraph-section-save-btns\">\n                <button\n                  onClick={() => {\n                    setIsOnAdding((prev) => !prev);\n                  }}\n                >\n                  {isOnAdding ? \"取消\" : \"新增\"}\n                </button>\n                {!allUpdateParagraph.every(\n                  (ct) =>\n                    ct.content === null && ct.general === null && !ct.isDelete\n                ) && (\n                  <>\n                    <button\n                      onClick={async() => {\n                        await handleReInit(essentialData, setEssentialData, {\n                          method: \"allModeForInventionParagraphDetails\",\n                          data: allUpdateParagraph\n                        });\n                        setAllUpdateParagraph((prev) =>\n                          prev.map((p) => ({ content: null, general: null }))\n                        );\n                      }}\n                    >\n                      全部儲存\n                    </button>\n                    <button\n                      onClick={() => {\n                        setAllUpdateParagraph((prev) =>\n                          prev\n                            .filter((p) => !p.isNewAdded)\n                            .map((p) => ({ content: null, general: null }))\n                        );\n                      }}\n                    >\n                      全部還原\n                    </button>\n                  </>\n                )}\n              </div>\n            </div>\n          )}\n      </section>\n      <section className=\"all-paragraph-section\">\n        {essentialData.isProcessing ? (\n          <div>\n            <h1>實施方式</h1>\n            <h3>Processing...</h3>\n          </div>\n        ) : essentialData.allModeForInventionParagraphDetails.length === 0 ? (\n          <div>\n            <h1>實施方式</h1>\n            <h3>No data passed in yet.</h3>\n          </div>\n        ) : (\n          <div>\n            <Popup\n              open={isSearchPopupOpen}\n              closeOnDocumentClick\n              onClose={() => toggleIsSearchPopupOpen(false)}\n            >\n              <SearchPopup\n                handleClose={toggleIsSearchPopupOpen}\n                searchString={searchString}\n                setSearchString={setSearchString}\n              />\n            </Popup>\n\n            <h1>實施方式</h1>\n\n            {isOnAdding && (\n              <div className=\"add-new-paragraph\">\n                <p>新增段落</p>\n                <label>\n                  段落編號:{\" \"}\n                  <input\n                    value={AddingZoneValue.general}\n                    onChange={(e) =>\n                      setAddingZoneValue((prev) => ({\n                        ...prev,\n                        general: e.target.value\n                      }))\n                    }\n                    type=\"text\"\n                  />\n                </label>\n                <textarea\n                  value={AddingZoneValue.content}\n                  onChange={(e) =>\n                    setAddingZoneValue((prev) => ({\n                      ...prev,\n                      content: e.target.value\n                    }))\n                  }\n                />\n                <div>\n                  {AddingZoneValue.general !== \"\" &&\n                    AddingZoneValue.content !== \"\" && (\n                      <button\n                        onClick={() => {\n                          if (!parseInt(AddingZoneValue.general)) {\n                            window.alert(\"段落編號格式錯誤。\");\n                            return;\n                          }\n                          if (\n                            essentialData.allModeForInventionParagraphDetails.find(\n                              (p) => p.general === AddingZoneValue.general\n                            ) ||\n                            allUpdateParagraph.find(\n                              (p) => p.general === AddingZoneValue.general\n                            )\n                          ) {\n                            window.alert(\n                              `該段落編碼${AddingZoneValue.general}已經被使用了。`\n                            );\n                            return;\n                          }\n                          setAllUpdateParagraph((prev) => [\n                            ...prev,\n                            {\n                              addedIdx: Math.random().toString().slice(2, 8),\n                              general: AddingZoneValue.general,\n                              content: AddingZoneValue.content,\n                              isNewAdded: true,\n                              isCollapse: false\n                            }\n                          ]);\n                          setAddingZoneValue({ general: \"\", content: \"\" });\n                          setIsOnAdding(false);\n                        }}\n                      >\n                        確認\n                      </button>\n                    )}\n                  <button onClick={() => setIsOnAdding(false)}>取消</button>\n                </div>\n              </div>\n            )}\n\n            {allUpdateParagraph.filter((p) => p.isNewAdded).length > 0 &&\n              allUpdateParagraph\n                .filter((p) => p.isNewAdded)\n                .map((para) => (\n                  <AddedParagraph\n                    key={para.addedIdx}\n                    addedIdx={para.addedIdx}\n                    content={para.content}\n                    general={para.general}\n                    updateNewContent={updateNewContent}\n                    deleteNewContent={deleteNewContent}\n                    isCollapse={para.isCollapse}\n                    openOrCollapseNewContent={openOrCollapseNewContent}\n                  />\n                ))}\n\n            {essentialData.allModeForInventionParagraphDetails.map(\n              (paragraphDetail, index) =>\n                allUpdateParagraph[index] &&\n                allUpdateParagraph[index].isDelete ? (\n                  <div key={index} className=\"paragraph-container\">\n                    <h2\n                      style={{\n                        background: \"red\",\n                        boxShadow: \"2px 2px 4px 2px #773333\"\n                      }}\n                    >\n                      段落[\n                      {allUpdateParagraph[index].general ||\n                        paragraphDetail.general}\n                      ]已刪除\n                      <span\n                        style={{\n                          width: \"auto\",\n                          padding: \"3px .2em\",\n                          fontSize: \".8em\"\n                        }}\n                        onClick={() =>\n                          setAllUpdateParagraph((prev) =>\n                            prev.map((p, pIdx) => {\n                              if (index === pIdx) {\n                                return { ...p, isDelete: false };\n                              }\n                              return p;\n                            })\n                          )\n                        }\n                      >\n                        還原\n                      </span>\n                    </h2>\n                  </div>\n                ) : (\n                  <SingleParagraph\n                    key={index}\n                    index={index}\n                    isOK={paragraphDetail.isOK}\n                    dataType={\"madeForInvention\"}\n                    general={paragraphDetail.general}\n                    content={paragraphDetail.content}\n                    modifiedParagraph={paragraphDetail.modifiedParagraph}\n                    figureKeys={paragraphDetail.paragraphMatch.figures}\n                    wrongFigureKeys={\n                      paragraphDetail.paragraphMatch.figuresErrors\n                    }\n                    correctKeys={paragraphDetail.paragraphMatch.corrects}\n                    wrongKeys={paragraphDetail.paragraphMatch.wrongs}\n                    potentialWrongKeys={\n                      paragraphDetail.paragraphMatch.potentialErrors\n                    }\n                    wrongWordKeys={paragraphDetail.paragraphMatch.wrongWords}\n                    aboriginalWordKeys={\n                      paragraphDetail.paragraphMatch.aboriginalWords\n                    }\n                    elementColorMap={essentialData.elementColorMap}\n                    isCollapse={paragraphDetail.isCollapse}\n                    setIsCollapse={setIsCollapse}\n                    setNewContent={setNewContent}\n                    setOldContent={setOldContent}\n                    setDeleteContent={setDeleteContent}\n                    // resetRandomNum={resetRandomNum}\n                    preSavedContent={\n                      allUpdateParagraph[index] &&\n                      allUpdateParagraph[index].content\n                    }\n                    preSavedGeneral={\n                      allUpdateParagraph[index] &&\n                      allUpdateParagraph[index].general\n                    }\n                    searchString={searchString}\n                    globalHighlightOn={essentialData.globalHighlightOn}\n                    globalHighlightElement={\n                      essentialData.globalHighlightElement\n                    }\n                  />\n                )\n            )}\n          </div>\n        )}\n      </section>\n    </>\n  );\n};\n\nexport default ModeForEnvention;\n","import React, { useRef, useState, useEffect, useContext } from \"react\";\nimport checkedImg from \"../assets/checked.png\";\nimport errorImg from \"../assets/error.png\";\nimport ReactTooltip from \"react-tooltip\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\n\nconst highlightButtonStyle = {\n  background: \"rgb(182, 100, 71)\",\n  color: \"rgb(238, 238, 238)\",\n  border: \"none\",\n  outline: \"none\",\n  cursor: \"pointer\",\n  fontSize: \"0.9em\",\n  padding: \"2px 0.3em\",\n  borderRadius: \"0.4em\",\n  margin: \"0 1.5vw 0 auto\",\n  alignSelf: \"center\",\n  whiteSpace: \"nowrap\"\n};\n\nconst SingleClaimSimple = ({\n  index,\n  num,\n  type,\n  allClaimContent,\n  content,\n  modifiedClaim,\n  claimSearchPath,\n  matches,\n  usedElements,\n  nonMatches,\n  errors,\n  elementColorMap,\n  isCollapse,\n  setIsCollapse,\n  searchString,\n  globalHighlightOn,\n  globalHighlightElement\n}) => {\n  const divRef = useRef(null);\n  const searchStringPrev = useRef(searchString);\n  const [numOfFoundedStr, setNumOfFoundedStr] = useState(0);\n  const [myReduceMatches, setMyReduceMatches] = useState({});\n  const [myReduceUsedElements, setMyReduceUsedElements] = useState({});\n  const [myReduceNonMatches, setMyReduceNonMatches] = useState({});\n  const [myReduceModifiedMatches, setMyReduceModifiedMatches] = useState({});\n\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n\n  const toggleBtnColor = (key) => {\n    if (essentialData.personalSettings.synchronizeHighlight) {\n      const prevGlobalHighlightElement = [\n        ...essentialData.globalHighlightElement\n      ];\n\n      if (prevGlobalHighlightElement.find((el) => el === key)) {\n        setEssentialData((prev) => ({\n          ...prev,\n          globalHighlightOn: prevGlobalHighlightElement.length !== 1,\n          globalHighlightElement: prevGlobalHighlightElement.filter(\n            (g) => g !== key\n          )\n        }));\n      } else {\n        setEssentialData((prev) => ({\n          ...prev,\n          globalHighlightOn: true,\n          globalHighlightElement: [...prevGlobalHighlightElement, key]\n        }));\n      }\n    } else {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.background = myReduceMatches[key].clicked\n          ? \"inherit\"\n          : (elementColorMap[key] && elementColorMap[key].color) ||\n            \"transparent\";\n      });\n\n      divRef.current.querySelectorAll(`.u-${key}`).forEach((el) => {\n        if (myReduceMatches[key]) {\n          el.style.background = myReduceMatches[key].clicked\n            ? \"inherit\"\n            : (elementColorMap[key] && elementColorMap[key].color) ||\n              \"transparent\";\n        } else if (myReduceUsedElements[key]) {\n          el.style.background = myReduceUsedElements[key].clicked\n            ? \"inherit\"\n            : (elementColorMap[key] && elementColorMap[key].color) ||\n              \"transparent\";\n        }\n      });\n\n      if (myReduceMatches[key]) {\n        setMyReduceMatches({\n          ...myReduceMatches,\n          [key]: {\n            ...myReduceMatches[key],\n            clicked: !myReduceMatches[key].clicked\n          }\n        });\n      }\n      if (myReduceUsedElements[key]) {\n        setMyReduceUsedElements({\n          ...myReduceUsedElements,\n          [key]: {\n            ...myReduceUsedElements[key],\n            clicked: !myReduceUsedElements[key].clicked\n          }\n        });\n      }\n    }\n  };\n\n  const toggleErrorBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n      el.style.background = myReduceNonMatches[key].clicked\n        ? \"inherit\"\n        : \"rgb(255,0,0)\";\n    });\n\n    setMyReduceNonMatches({\n      ...myReduceNonMatches,\n      [key]: {\n        ...myReduceNonMatches[key],\n        clicked: !myReduceNonMatches[key].clicked\n      }\n    });\n  };\n\n  const toggleModifiedBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.m-${key}`).forEach((el) => {\n      el.style.background = myReduceModifiedMatches[key].clicked\n        ? \"inherit\"\n        : \"hotpink\";\n    });\n\n    setMyReduceModifiedMatches({\n      ...myReduceModifiedMatches,\n      [key]: {\n        ...myReduceModifiedMatches[key],\n        clicked: !myReduceModifiedMatches[key].clicked\n      }\n    });\n  };\n\n  const buildList = (_modifiedClaim, _modifiedClaimWithSearchStr) => {\n    divRef.current.querySelector(\".content\").innerHTML =\n      `【請求項${num}】 ` +\n      (_modifiedClaimWithSearchStr || _modifiedClaim)\n        .split(`@##@`)\n        .map((sentence, _iidd) => {\n          if (_iidd !== 0) {\n            return \"&nbsp;\".repeat(6) + sentence;\n          }\n          return sentence;\n        })\n        .join(`<br/>`);\n\n    if (type === \"unknown\") {\n      return;\n    }\n\n    let reduceMatches = {};\n    matches.forEach(({ group, value, item, isOK, keys, keyFromGroup }) => {\n      if (!isOK) return;\n      if (!reduceMatches[group]) {\n        reduceMatches[group] = {\n          group,\n          keyFromGroup,\n          value,\n          item,\n          // clicked: true,\n          clicked:\n            globalHighlightOn &&\n            (globalHighlightElement.length === 0 ||\n              globalHighlightElement.find((g) => g === group)),\n          isOK,\n          keys: keys ? keys : []\n        };\n      } else if (keys) {\n        let newKeys = reduceMatches[group].keys.slice();\n        keys.forEach((k) => {\n          if (!newKeys.includes(k)) {\n            newKeys.push(k);\n          }\n        });\n        reduceMatches[group].keys = newKeys;\n      }\n    });\n\n    let reduceUsedElements = {};\n    usedElements.forEach(({ group, value, item, keys, keyFromGroup }) => {\n      if (!reduceUsedElements[group]) {\n        reduceUsedElements[group] = {\n          group,\n          keyFromGroup,\n          value,\n          item,\n          // clicked: true,\n          clicked:\n            globalHighlightOn &&\n            (globalHighlightElement.length === 0 ||\n              globalHighlightElement.find((g) => g === group)),\n          keys: keys ? keys : []\n        };\n      } else if (keys) {\n        let newKeys = reduceUsedElements[group].keys.slice();\n        keys.forEach((k) => {\n          if (!newKeys.includes(k)) {\n            newKeys.push(k);\n          }\n        });\n        reduceUsedElements[group].keys = newKeys;\n      }\n    });\n\n    let reduceNonMatches = {};\n    nonMatches.forEach(({ group, item, value, keys, keyFromGroup }) => {\n      if (!reduceNonMatches[group]) {\n        reduceNonMatches[group] = {\n          group,\n          keyFromGroup,\n          item,\n          value,\n          clicked: true,\n          keys: keys ? keys : []\n        };\n      } else if (keys) {\n        let newKeys = reduceNonMatches[group].keys.slice();\n        keys.forEach((k) => {\n          if (!newKeys.includes(k)) {\n            newKeys.push(k);\n          }\n        });\n        reduceNonMatches[group].keys = newKeys;\n      }\n    });\n\n    let reduceModifiedMatches = {};\n\n    setMyReduceModifiedMatches(reduceModifiedMatches);\n    setMyReduceMatches(reduceMatches);\n    setMyReduceUsedElements(reduceUsedElements);\n    setMyReduceNonMatches(reduceNonMatches);\n\n    Object.keys(reduceMatches).forEach((key) => {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n        el.style.background = reduceMatches[key].clicked\n          ? (elementColorMap[key] && elementColorMap[key].color) ||\n            \"transparent\"\n          : \"transparent\";\n\n        if (\n          essentialData.personalSettings.showClaimElementKey &&\n          reduceMatches[key].keyFromGroup &&\n          reduceMatches[key].keys.length === 0 &&\n          !el.innerHTML.includes(\"<small>\")\n        ) {\n          el.innerHTML += `<small>${reduceMatches[key].keyFromGroup}</small>`;\n        } else if (\n          !essentialData.personalSettings.showClaimElementKey &&\n          el.innerHTML.includes(\"<small>\")\n        ) {\n          el.innerHTML = el.innerHTML.split(\"<small>\")[0];\n        }\n      });\n    });\n\n    Object.keys(reduceUsedElements).forEach((key) => {\n      divRef.current.querySelectorAll(`.u-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n        el.style.background = reduceUsedElements[key].clicked\n          ? (elementColorMap[key] && elementColorMap[key].color) ||\n            \"transparent\"\n          : \"transparent\";\n\n        if (\n          essentialData.personalSettings.showClaimElementKey &&\n          reduceUsedElements[key].keyFromGroup &&\n          reduceUsedElements[key].keys.length === 0 &&\n          !el.innerHTML.includes(\"<small>\")\n        ) {\n          el.innerHTML += `<small>${reduceUsedElements[key].keyFromGroup}</small>`;\n        } else if (\n          !essentialData.personalSettings.showClaimElementKey &&\n          el.innerHTML.includes(\"<small>\")\n        ) {\n          el.innerHTML = el.innerHTML.split(\"<small>\")[0];\n        }\n      });\n    });\n\n    Object.keys(reduceNonMatches).forEach((key) => {\n      divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n        el.style.background = reduceNonMatches[key].clicked ? \"red\" : \"inherit\";\n\n        if (\n          reduceNonMatches[key].keyFromGroup &&\n          reduceNonMatches[key].keys.length === 0 &&\n          !el.innerHTML.includes(\"<small>\")\n        )\n          el.innerHTML += `<small>${reduceNonMatches[key].keyFromGroup}</small>`;\n      });\n    });\n\n    Object.keys(reduceModifiedMatches).forEach((key) => {\n      divRef.current.querySelectorAll(`.m-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n        el.style.background = reduceModifiedMatches[key].clicked\n          ? \"hotpink\"\n          : \"inherit\";\n      });\n    });\n  };\n\n  /*\n  useEffect(() => {\n    // divRef.current.querySelector(\"h2\").style.background = \"rgb(147, 173, 100)\";\n    buildList(copyOfModifiedClaim, \"\");\n    ReactTooltip.rebuild();\n  }, [content, num, matches, copyOfModifiedClaim]);\n  */\n\n  useEffect(() => {\n    // if (!modifiedClaim || searchStringPrev.current === searchString) {\n    //   return;\n    // }\n\n    if (essentialData.personalSettings.readingModePureText) {\n      divRef.current.querySelector(\".content\").innerHTML = content\n        .split(`@##@`)\n        .map((sentence, _iidd) => {\n          if (_iidd !== 0) {\n            return \"&nbsp;\".repeat(6) + sentence;\n          }\n          return sentence;\n        })\n        .join(`<br/>`);\n\n      return;\n    }\n\n    if (searchString === \"\" /* && searchStringPrev.current !== searchString*/) {\n      searchStringPrev.current = searchString;\n      buildList(modifiedClaim, \"\");\n      // console.log(\"No need to rebuild tooltip\")\n      ReactTooltip.rebuild();\n      return;\n    }\n\n    searchStringPrev.current = searchString;\n    // console.log(\"rebuildlist\");\n    const htmlReg = RegExp(\"<(\\\"[^\\\"]*\\\"|'[^']*'|[^'\\\">])*>\", \"g\");\n    let nonModifiedClaim = modifiedClaim.replaceAll(htmlReg, \"@\");\n    let tagLists = [...modifiedClaim.matchAll(htmlReg)];\n\n    tagLists.forEach((tagList, idx) => {\n      for (let i = idx + 1; i < tagLists.length; i++) {\n        tagLists[i].index -= tagList[0].length - 1;\n      }\n    });\n    let insertLists = tagLists.map((tagList) => ({\n      start: tagList.index,\n      content: tagList[0]\n    }));\n\n    const searchStringMatches = [\n      ...nonModifiedClaim.matchAll(\n        RegExp(searchString.split(\"\").join(\"@?\"), \"g\")\n      )\n    ];\n    setNumOfFoundedStr(searchStringMatches.length);\n\n    searchStringMatches.forEach((mt) => {\n      for (let j = mt.index; j < mt.index + mt[0].length; j++) {\n        if (nonModifiedClaim[j] === \"@\") {\n          continue;\n        }\n        insertLists.push({\n          start: j,\n          content: `<strong class='search-highlight'>${nonModifiedClaim[j]}</strong>`\n        });\n      }\n    });\n\n    insertLists.sort((a, b) => a.start - b.start);\n\n    for (let i = insertLists.length - 1; i >= 0; i--) {\n      nonModifiedClaim =\n        nonModifiedClaim.slice(0, insertLists[i].start) +\n        insertLists[i].content +\n        nonModifiedClaim.slice(insertLists[i].start + 1);\n    }\n    //Test\n    // if (index === 1) {\n    //   console.log(insertLists);\n    //   console.log nonModifiedClaim);\n    //   debugger;\n    // }\n    buildList(modifiedClaim, nonModifiedClaim);\n    ReactTooltip.rebuild();\n  }, [\n    searchString,\n    content,\n    num,\n    matches,\n    globalHighlightOn,\n    globalHighlightElement,\n    essentialData.personalSettings.showClaimElementKey,\n    essentialData.personalSettings.synchronizeHighlight,\n    essentialData.personalSettings.readingModePureText\n  ]);\n\n  const triggerToggleBtnColor = (e) => {\n    // console.log(e.target.classList);\n    const allClasses = e.target.classList;\n    let wantedClass;\n    for (let i = 0; i < allClasses.length; i++) {\n      if (allClasses[i].startsWith(\"c-\") || allClasses[i].startsWith(\"u-\")) {\n        wantedClass = allClasses[i];\n        break;\n      }\n    }\n    // console.log(wantedClass);\n    toggleBtnColor(wantedClass.replace(/[cu]-/, \"\"));\n  };\n\n  const triggerToggleErrorBtnColor = (e) => {\n    // console.log(e.target.classList);\n    const allClasses = e.target.classList;\n    let wantedClass;\n    for (let i = 0; i < allClasses.length; i++) {\n      if (allClasses[i].startsWith(\"e-\")) {\n        wantedClass = allClasses[i];\n        break;\n      }\n    }\n    // console.log(wantedClass);\n    toggleErrorBtnColor(wantedClass.replace(\"e-\", \"\"));\n  };\n\n  const triggerToggleModifiedBtnColor = (e) => {\n    // console.log(e.target.classList);\n    const allClasses = e.target.classList;\n    let wantedClass;\n    for (let i = 0; i < allClasses.length; i++) {\n      if (allClasses[i].startsWith(\"m-\")) {\n        wantedClass = allClasses[i];\n        break;\n      }\n    }\n    // console.log(wantedClass);\n    toggleModifiedBtnColor(wantedClass.replace(\"m-\", \"\"));\n  };\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    if (Object.keys(myReduceMatches).length > 0) {\n      // console.log(\"add myReduceMatches eventListener...\");\n      Object.keys(myReduceMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.c-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", triggerToggleBtnColor);\n          /*\n          if (\n            essentialData.personalSettings.showClaimElementKey &&\n            myReduceMatches[key].keyFromGroup &&\n            myReduceMatches[key].keys.length === 0 &&\n            !el.innerHTML.includes(\"<small>\")\n          ) {\n            el.innerHTML += `<small>${myReduceMatches[key].keyFromGroup}</small>`;\n          } else if (\n            !essentialData.personalSettings.showClaimElementKey &&\n            el.innerHTML.includes(\"<small>\")\n          ) {\n            el.innerHTML = el.innerHTML.split(\"<small>\")[0];\n          }\n          */\n        });\n      });\n      /* Object.keys(myReduceMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.u-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", triggerToggleBtnColor);\n          if (myReduceMatches[key].keyFromGroup)\n            el.innerHTML += `<small>${myReduceMatches[key].keyFromGroup}</small>`;\n        });\n      }); */\n    }\n\n    return () => {\n      // console.log(\"remove myReduceMatches eventListener...\");\n      Object.keys(myReduceMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.c-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", triggerToggleBtnColor);\n        });\n      });\n    };\n  }, [myReduceMatches, essentialData.personalSettings.showClaimElementKey]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    if (Object.keys(myReduceUsedElements).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceUsedElements).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.u-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", triggerToggleBtnColor);\n          /*\n          if (\n            essentialData.personalSettings.showClaimElementKey &&\n            myReduceUsedElements[key].keyFromGroup &&\n            myReduceUsedElements[key].keys.length === 0 &&\n            !el.innerHTML.includes(\"<small>\")\n          ) {\n            el.innerHTML += `<small>${myReduceUsedElements[key].keyFromGroup}</small>`;\n          } else if (\n            !essentialData.personalSettings.showClaimElementKey &&\n            el.innerHTML.includes(\"<small>\")\n          ) {\n            el.innerHTML = el.innerHTML.split(\"<small>\")[0];\n          }\n          */\n        });\n      });\n    }\n\n    return () => {\n      Object.keys(myReduceUsedElements).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.u-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", triggerToggleBtnColor);\n        });\n      });\n    };\n  }, [\n    myReduceUsedElements,\n    essentialData.personalSettings.showClaimElementKey\n  ]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    if (Object.keys(myReduceNonMatches).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceNonMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.e-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", triggerToggleErrorBtnColor);\n          /*\n          if (\n            myReduceNonMatches[key].keyFromGroup &&\n            myReduceNonMatches[key].keys.length === 0 &&\n            !el.innerHTML.includes(\"<small>\")\n          )\n            el.innerHTML += `<small>${myReduceNonMatches[key].keyFromGroup}</small>`; */\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceNonMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.e-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", triggerToggleErrorBtnColor);\n        });\n      });\n    };\n  }, [myReduceNonMatches]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    if (Object.keys(myReduceModifiedMatches).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceModifiedMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.m-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", triggerToggleModifiedBtnColor);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceModifiedMatches).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.m-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", triggerToggleModifiedBtnColor);\n        });\n      });\n    };\n  }, [myReduceModifiedMatches]);\n\n  const getTooltipContent = (_idx) => {\n    if (!claimSearchPath) return \"\";\n\n    const idx = parseInt(_idx);\n\n    if (idx === 0 && type === \"independent\") {\n      return \"沒有對應的先前元件\";\n    }\n\n    const showPartPrevContent = (pCtx, pStart, pEnd) => {\n      const strOffset = 16;\n      let frontStr, endStr;\n\n      if (\n        pCtx.slice(0, pStart).replaceAll(` `, \"\").replaceAll(`@##@`, ` `)\n          .length <\n        strOffset + 1\n      ) {\n        frontStr = pCtx.slice(0, pStart).replaceAll(`@##@`, ` `);\n      } else {\n        frontStr = pCtx\n          .slice(0, pStart)\n          .replaceAll(` `, \"\")\n          .replaceAll(`@##@`, ` `);\n        frontStr = \"...\" + frontStr.slice(-1 * strOffset);\n      }\n\n      if (\n        pCtx.slice(pEnd).replaceAll(` `, \"\").replaceAll(`@##@`, ` `).length <\n        strOffset + 1\n      ) {\n        endStr = pCtx.slice(pEnd).replaceAll(` `, \"\").replaceAll(`@##@`, ` `);\n      } else {\n        endStr = pCtx.slice(pEnd).replaceAll(` `, \"\").replaceAll(`@##@`, ` `);\n        endStr = endStr.slice(0, strOffset) + \"...\";\n      }\n\n      return (\n        frontStr +\n        \"<span style='color: lime; background: transparent; font-weight: 900'>\" +\n        pCtx.slice(pStart, pEnd) +\n        \"</span>\" +\n        endStr\n      );\n    };\n\n    return claimSearchPath\n      .map((path) => `搜尋路徑: ${[num, ...path].join(\" -> \")}`)\n      .map((ctx, pathIdx) => {\n        const prevMatch = matches[idx]?.prevMatchPerPath[pathIdx];\n\n        return `\n        <p style=\"font-size: 1em; padding: 3px 0; margin: 0\">\n          ${ctx}<br/>\n          先前元件所在請求項: ${prevMatch?.claimNum || \"無\"}<br/>\n          先前元件: ${prevMatch?.value || \"無\"}<br/>\n          先前內容: ${\n            prevMatch?.claimNum && prevMatch?.start && prevMatch?.end\n              ? showPartPrevContent(\n                  allClaimContent[prevMatch.claimNum - 1],\n                  prevMatch.start,\n                  prevMatch.end\n                )\n              : \"無\"\n          }<br/>\n          <b style=\"color: orange;\">★點擊兩下以修改構件名稱</b>           \n        </p>`;\n      })\n      .join(``);\n  };\n\n  return (\n    <div className=\"paragraph-container claim-container\" ref={divRef}>\n      <h2 onClick={() => setIsCollapse(index)}>\n        {errors.length === 0 && <img src={checkedImg} alt=\"\" />}\n        {errors.length > 0 && <img src={errorImg} alt=\"\" />}\n        {`【請求項${num}】`}\n        {type === \"independent\"\n          ? \"獨立項\"\n          : type === \"additional\"\n          ? \"附屬項\"\n          : \"無法分析\"}\n        {searchString && (\n          <>\n            {numOfFoundedStr === 0 ? (\n              <small>{\" \".repeat(6)}無結果</small>\n            ) : (\n              <small>\n                {\" \".repeat(6)}搜尋結果:{numOfFoundedStr}筆\n              </small>\n            )}\n          </>\n        )}\n        {!isCollapse ? (\n          <span>&#x292C;</span>\n        ) : (\n          <span style={{ height: \"1.38em\", lineHeight: \"1.25em\" }}>\n            &#x271B;\n          </span>\n        )}\n      </h2>\n      <section className={isCollapse ? \"collapse\" : \"\"}>\n        {!essentialData.personalSettings.readingModePureText &&\n          essentialData.personalSettings.synchronizeHighlight && (\n            <p\n              style={{\n                color: \"rgb(68 112 69)\",\n                fontWeight: \"bold\",\n                marginLeft: \"2.5vw\",\n                display: \"flex\"\n              }}\n            >\n              <i style={{ fontStyle: \"normal\" }}>\n                &#9733;說明書、申請專利範圍之所有構件皆同步highlight\n              </i>\n              {(!globalHighlightOn || globalHighlightElement.length > 0) && (\n                <button\n                  style={highlightButtonStyle}\n                  onClick={() =>\n                    setEssentialData((prev) => ({\n                      ...prev,\n                      globalHighlightOn: true,\n                      globalHighlightElement: []\n                    }))\n                  }\n                >\n                  開啟標註\n                </button>\n              )}\n              {globalHighlightOn && globalHighlightElement.length === 0 && (\n                <button\n                  style={highlightButtonStyle}\n                  onClick={() =>\n                    setEssentialData((prev) => ({\n                      ...prev,\n                      globalHighlightOn: false\n                    }))\n                  }\n                >\n                  關閉標註\n                </button>\n              )}\n            </p>\n          )}\n        {essentialData.personalSettings.readingModePureText && (\n          <p\n            style={{\n              color: \"rgb(186 48 48)\",\n              fontWeight: \"bold\",\n              marginLeft: \"2.5vw\"\n            }}\n          >\n            &#9733;閱讀模式為純文字模式\n          </p>\n        )}\n        <p className=\"content\">分析內容中，請稍後......</p>\n        {type !== \"unknown\" && (\n          <ReactTooltip\n            disable={!essentialData.personalSettings.openTooltip}\n            id={`claim-${num}-prematch-tooltip`}\n            delayShow={1000}\n            html={true}\n            getContent={(msg) => {\n              if (msg === \"yes\")\n                return `<p style=\"font-size: 1em;\">本元件為主要構件</p>`;\n              return getTooltipContent(msg);\n            }}\n          />\n        )}\n        <div className=\"paragraph-container-btns\">\n          <button\n            className=\"gotop-btn\"\n            style={{ position: \"relative\" }}\n            onClick={() =>\n              document\n                .querySelector(\".main-body .main-body-grid-item:nth-of-type(2)\")\n                .scrollTo({ top: 0, behavior: \"smooth\" })\n            }\n          >\n            Go Top\n          </button>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default SingleClaimSimple;\n","import React, { useContext, useState } from \"react\";\nimport SingleClaimSimple from \"../components/SingleClaimSimple\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport searchImg from \"../assets/search.png\";\nimport Popup from \"reactjs-popup\";\nimport SearchPopup from \"../components/SearchPopup\";\n\nconst SimpleClaims = () => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const [isSearchPopupOpen, toggleIsSearchPopupOpen] = useState(false);\n  // const [searchString, setSearchString] = useState(\"\");\n  const searchString = essentialData.searchString;\n  const setSearchString = (str) =>\n    setEssentialData((prev) => ({ ...prev, searchString: str }));\n\n  const setIsCollapse = (index) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allClaimsDetails: essentialData.allClaimsDetails.map((claim, i) => {\n        if (index === i) {\n          return { ...claim, isCollapse: !claim.isCollapse };\n        }\n        return claim;\n      })\n    }));\n  };\n\n  const openOrCollapseAll = (method) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allClaimsDetails: essentialData.allClaimsDetails.map((claim) => ({\n        ...claim,\n        isCollapse: method === \"collapse\" ? true : false\n      }))\n    }));\n  };\n\n  return (\n    <>\n      <section className=\"title-section sticky\">\n        <h1 style={{ color: \"transparent\" }}>申請專利範圍</h1>\n        {!essentialData.isProcessing &&\n          essentialData.allClaimsDetails.length > 0 && (\n            <div>\n              <button onClick={() => openOrCollapseAll(\"collapse\")}>\n                &#x292C; 全部收合\n              </button>\n              <button onClick={() => openOrCollapseAll(\"open\")}>\n                &#x271B; 全部展開\n              </button>\n              <button\n                onClick={(e) => {\n                  if (e.target.tagName !== \"B\") {\n                    toggleIsSearchPopupOpen(true);\n                  }\n                }}\n                className={searchString ? \"withStr\" : \"\"}\n              >\n                <img src={searchImg} alt=\"\" />\n                {searchString && (\n                  <>\n                    <span\n                      style={{\n                        flexGrow: 1,\n                        textAlign: \"start\",\n                        overflow: \"hidden\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\"\n                      }}\n                    >\n                      {searchString}\n                    </span>\n                    <b\n                      style={{ paddingRight: 6, fontSize: \"1.06em\" }}\n                      onClick={() => {\n                        toggleIsSearchPopupOpen(false);\n                        setSearchString(\"\");\n                      }}\n                    >\n                      ⤬\n                    </b>\n                  </>\n                )}\n              </button>\n            </div>\n          )}\n      </section>\n      <section className=\"all-paragraph-section\">\n        {essentialData.isProcessing ? (\n          <div>\n            <h1>申請專利範圍</h1>\n            <h3>Processing...</h3>\n          </div>\n        ) : essentialData.allClaimsDetails.length === 0 ? (\n          <div>\n            <h1>申請專利範圍</h1>\n            <h3>No data passed in yet.</h3>\n          </div>\n        ) : (\n          <div>\n            <Popup\n              open={isSearchPopupOpen}\n              closeOnDocumentClick\n              onClose={() => toggleIsSearchPopupOpen(false)}\n            >\n              <SearchPopup\n                handleClose={toggleIsSearchPopupOpen}\n                searchString={searchString}\n                setSearchString={setSearchString}\n              />\n            </Popup>\n\n            <h1 style={{ left: \"2vw\", transform: \"unset\" }}>申請專利範圍</h1>\n\n            {essentialData.allClaimsDetails.map((claimDetail, index) => (\n              <SingleClaimSimple\n                key={index}\n                index={index}\n                num={claimDetail.num.toString()}\n                type={claimDetail.type}\n                allClaimContent={essentialData.allClaimsDetails.map(\n                  ({ content }) => content\n                )}\n                content={claimDetail.content}\n                modifiedClaim={claimDetail.modifiedClaim}\n                claimSearchPath={claimDetail.claimSearchPath}\n                matches={claimDetail.matches}\n                usedElements={claimDetail.usedElements}\n                nonMatches={claimDetail.nonMatches}\n                errors={claimDetail.errors}\n                elementColorMap={essentialData.elementColorMap}\n                isCollapse={claimDetail.isCollapse}\n                setIsCollapse={setIsCollapse}\n                searchString={searchString}\n                globalHighlightOn={essentialData.globalHighlightOn}\n                globalHighlightElement={essentialData.globalHighlightElement}\n              />\n            ))}\n          </div>\n        )}\n      </section>\n    </>\n  );\n};\n\nexport default SimpleClaims;\n","import React, { useRef, useState, useEffect, useContext } from \"react\";\nimport checkedImg from \"../assets/checked.png\";\nimport warningImg from \"../assets/warn.png\";\nimport errorImg from \"../assets/error.png\";\nimport aboriginalImg from \"../assets/aboriginal.png\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport {\n  triggerToggleAboriginalWordBtnColor,\n  triggerToggleBtnColor,\n  triggerToggleErrorBtnColor,\n  triggerToggleFigureBtnColor,\n  triggerTogglePotentialErrorBtnColor,\n  triggerToggleWrongFigureBtnColor,\n  triggerToggleWrongWordBtnColor\n} from \"../utils/trigger/paragraph\";\n\nconst highlightButtonStyle = {\n  background: \"rgb(182, 100, 71)\",\n  color: \"rgb(238, 238, 238)\",\n  border: \"none\",\n  outline: \"none\",\n  cursor: \"pointer\",\n  fontSize: \"0.9em\",\n  padding: \"2px 0.3em\",\n  borderRadius: \"0.4em\",\n  margin: \"0 1.5vw 0 auto\",\n  alignSelf: \"center\",\n  whiteSpace: \"nowrap\"\n};\n\nconst SingleParagraphSimple = ({\n  index,\n  dataType,\n  applicationNum,\n  general,\n  content,\n  modifiedParagraph,\n  figureKeys,\n  wrongFigureKeys,\n  correctKeys,\n  wrongKeys,\n  potentialWrongKeys,\n  wrongWordKeys,\n  aboriginalWordKeys,\n  elementColorMap,\n  isCollapse,\n  setIsCollapse,\n  searchString,\n  globalHighlightOn,\n  globalHighlightElement\n}) => {\n  const divRef = useRef(null);\n  const searchStringPrev = useRef(searchString);\n  const [numOfFoundedStr, setNumOfFoundedStr] = useState(0);\n  const [myReduceFigureKeys, setMyReduceFigureKeys] = useState({});\n  const [myReduceWrongFigureKeys, setMyReduceWrongFigureKeys] = useState({});\n  const [myReduceCorrectKeys, setMyReduceCorrectKeys] = useState({});\n  const [myReduceWrongKeys, setMyReduceWrongKeys] = useState({});\n  const [myReducePotentialWrongKeys, setMyReducePotentialWrongKeys] = useState(\n    {}\n  );\n  const [myReduceWrongWordKeys, setMyReduceWrongWordKeys] = useState({});\n  const [myReduceAboriginalWordKeys, setMyReduceAboriginalWordKeys] = useState(\n    {}\n  );\n\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n\n  const toggleBtnColor = (key) => {\n    if (essentialData.personalSettings.synchronizeHighlight) {\n      const prevGlobalHighlightElement = [\n        ...essentialData.globalHighlightElement\n      ];\n\n      if (prevGlobalHighlightElement.find((el) => el === key)) {\n        setEssentialData((prev) => ({\n          ...prev,\n          globalHighlightOn: prevGlobalHighlightElement.length !== 1,\n          globalHighlightElement: prevGlobalHighlightElement.filter(\n            (g) => g !== key\n          )\n        }));\n      } else {\n        setEssentialData((prev) => ({\n          ...prev,\n          globalHighlightOn: true,\n          globalHighlightElement: [...prevGlobalHighlightElement, key]\n        }));\n      }\n    } else {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.background = myReduceCorrectKeys[key].clicked\n          ? \"inherit\"\n          : elementColorMap[key].color;\n      });\n\n      setMyReduceCorrectKeys({\n        ...myReduceCorrectKeys,\n        [key]: {\n          ...myReduceCorrectKeys[key],\n          clicked: !myReduceCorrectKeys[key].clicked\n        }\n      });\n    }\n  };\n\n  const toggleErrorBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n      el.style.background = myReduceWrongKeys[key].clicked ? \"inherit\" : \"red\";\n    });\n\n    setMyReduceWrongKeys({\n      ...myReduceWrongKeys,\n      [key]: {\n        ...myReduceWrongKeys[key],\n        clicked: !myReduceWrongKeys[key].clicked\n      }\n    });\n  };\n\n  const toggleWrongWordBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.ew-${key}`).forEach((el) => {\n      el.style.background = myReduceWrongWordKeys[key].clicked\n        ? \"inherit\"\n        : \"red\";\n    });\n\n    setMyReduceWrongWordKeys({\n      ...myReduceWrongWordKeys,\n      [key]: {\n        ...myReduceWrongWordKeys[key],\n        clicked: !myReduceWrongWordKeys[key].clicked\n      }\n    });\n  };\n\n  const toggleFigureBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.f-${key}`).forEach((el) => {\n      el.style.background = myReduceFigureKeys[key].clicked\n        ? \"inherit\"\n        : \"#93ad64\";\n    });\n\n    setMyReduceFigureKeys({\n      ...myReduceFigureKeys,\n      [key]: {\n        ...myReduceFigureKeys[key],\n        clicked: !myReduceFigureKeys[key].clicked\n      }\n    });\n  };\n\n  const toggleWrongFigureBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.ef-${key}`).forEach((el) => {\n      el.style.background = myReduceWrongFigureKeys[key].clicked\n        ? \"inherit\"\n        : \"red\";\n    });\n\n    setMyReduceWrongFigureKeys({\n      ...myReduceWrongFigureKeys,\n      [key]: {\n        ...myReduceWrongFigureKeys[key],\n        clicked: !myReduceWrongFigureKeys[key].clicked\n      }\n    });\n  };\n\n  const toggleAboriginalWordBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.ab-${key}`).forEach((el) => {\n      el.style.background = myReduceAboriginalWordKeys[key].clicked\n        ? \"inherit\"\n        : \"rgb(188, 174, 174)\";\n    });\n\n    setMyReduceAboriginalWordKeys({\n      ...myReduceAboriginalWordKeys,\n      [key]: {\n        ...myReduceAboriginalWordKeys[key],\n        clicked: !myReduceAboriginalWordKeys[key].clicked\n      }\n    });\n  };\n\n  const togglePotentialErrorBtnColor = (key) => {\n    divRef.current.querySelectorAll(`.pe-${key}`).forEach((el) => {\n      el.style.background = myReducePotentialWrongKeys[key].clicked\n        ? \"inherit\"\n        : \"rgb(202 117 117)\";\n      el.style.fontStyle = myReducePotentialWrongKeys[key].clicked\n        ? \"normal\"\n        : \"italic\";\n    });\n\n    setMyReducePotentialWrongKeys({\n      ...myReducePotentialWrongKeys,\n      [key]: {\n        ...myReducePotentialWrongKeys[key],\n        clicked: !myReducePotentialWrongKeys[key].clicked\n      }\n    });\n  };\n\n  const buildList = (modifiedParagraphWithSearchStr) => {\n    // Test\n    // if (general === \"0005\") {\n    //   console.log(\"rebuild list\");\n    //   console.log(globalHighlightElement);\n    // }\n\n    divRef.current.querySelector(\".content\").innerHTML = `【${general}】 ${\n      modifiedParagraphWithSearchStr || modifiedParagraph\n    }`;\n\n    let reduceFigureKeys = {};\n    figureKeys.forEach((figureKey) => {\n      if (!reduceFigureKeys[figureKey.group]) {\n        reduceFigureKeys[figureKey.group] = {\n          ...figureKey,\n          clicked: true\n        };\n      }\n    });\n\n    let reduceWrongFigureKeys = {};\n    wrongFigureKeys.forEach((wrongFigureKey) => {\n      if (!reduceWrongFigureKeys[wrongFigureKey.group]) {\n        reduceWrongFigureKeys[wrongFigureKey.group] = {\n          ...wrongFigureKey,\n          clicked: true\n        };\n      }\n    });\n\n    let reduceCorrectKeys = {};\n    correctKeys.forEach((correctKey) => {\n      if (reduceCorrectKeys[correctKey.group]) {\n        const currentKeys = correctKey.keys;\n        currentKeys.forEach((key) => {\n          if (!reduceCorrectKeys[correctKey.group].keys.includes(key)) {\n            reduceCorrectKeys[correctKey.group].keys.push(key);\n            reduceCorrectKeys[correctKey.group] = {\n              ...correctKey,\n              value:\n                correctKey.item +\n                reduceCorrectKeys[correctKey.group].keys\n                  .filter((k) => k !== \"\")\n                  .join(\"、\"),\n              keys: reduceCorrectKeys[correctKey.group].keys,\n              // clicked: true\n              clicked:\n                globalHighlightOn &&\n                (globalHighlightElement.length === 0 ||\n                  globalHighlightElement.find((g) => g === correctKey.group))\n            };\n          }\n        });\n      } else {\n        reduceCorrectKeys[correctKey.group] = {\n          ...correctKey,\n          value:\n            correctKey.item +\n            correctKey.keys.filter((k) => k !== \"\").join(\"、\"),\n          // clicked: true\n          clicked:\n            globalHighlightOn &&\n            (globalHighlightElement.length === 0 ||\n              globalHighlightElement.find((g) => g === correctKey.group))\n        };\n      }\n    });\n\n    let reduceWrongKeys = {};\n    wrongKeys.forEach((wrongKey) => {\n      if (reduceWrongKeys[wrongKey.group]) {\n        const currentKeys = wrongKey.wrongKeys;\n        currentKeys.forEach((key) => {\n          if (!reduceWrongKeys[wrongKey.group].wrongKeys.includes(key)) {\n            reduceWrongKeys[wrongKey.group].wrongKeys.push(key);\n            reduceWrongKeys[wrongKey.group] = {\n              ...wrongKey,\n              value:\n                wrongKey.item +\n                reduceWrongKeys[wrongKey.group].wrongKeys\n                  .filter((k) => k !== \"\")\n                  .join(\"、\"),\n              wrongKeys: reduceWrongKeys[wrongKey.group].wrongKeys,\n              clicked: true\n            };\n          }\n        });\n      } else {\n        reduceWrongKeys[wrongKey.group] = {\n          ...wrongKey,\n          value:\n            wrongKey.item +\n            wrongKey.wrongKeys.filter((k) => k !== \"\").join(\"、\"),\n          clicked: true\n        };\n      }\n    });\n\n    let reducePotentialWrongKeys = {};\n    potentialWrongKeys.forEach((potentialWrongKey) => {\n      if (reducePotentialWrongKeys[potentialWrongKey.group]) {\n        const currentKeys = potentialWrongKey.keys;\n        currentKeys.forEach((key) => {\n          if (\n            !reducePotentialWrongKeys[potentialWrongKey.group].keys.includes(\n              key\n            )\n          ) {\n            reducePotentialWrongKeys[potentialWrongKey.group].keys.push(key);\n            reducePotentialWrongKeys[potentialWrongKey.group] = {\n              ...potentialWrongKey,\n              value:\n                potentialWrongKey.item /*+\n                reducePotentialWrongKeys[potentialWrongKey.group].keys\n                  .filter((k) => k !== \"\")\n                  .join(\"、\")*/,\n              keys: reducePotentialWrongKeys[potentialWrongKey.group].keys,\n              clicked: true\n            };\n          }\n        });\n      } else {\n        reducePotentialWrongKeys[potentialWrongKey.group] = {\n          ...potentialWrongKey,\n          value:\n            potentialWrongKey.item /*+\n            potentialWrongKey.keys.filter((k) => k !== \"\").join(\"、\")*/,\n          clicked: true\n        };\n      }\n    });\n\n    let reduceWrongWordKeys = {};\n    wrongWordKeys.forEach((wrongWordKey) => {\n      if (!reduceWrongWordKeys[wrongWordKey.group]) {\n        reduceWrongWordKeys[wrongWordKey.group] = {\n          ...wrongWordKey,\n          clicked: true\n        };\n      }\n    });\n\n    let reduceAboriginalWordKeys = {};\n    aboriginalWordKeys.forEach((aboriginalWordKey) => {\n      if (!reduceAboriginalWordKeys[aboriginalWordKey.group]) {\n        reduceAboriginalWordKeys[aboriginalWordKey.group] = {\n          ...aboriginalWordKey,\n          clicked: true\n        };\n      }\n    });\n\n    setMyReduceCorrectKeys(reduceCorrectKeys);\n    setMyReduceWrongKeys(reduceWrongKeys);\n    setMyReducePotentialWrongKeys(reducePotentialWrongKeys);\n    setMyReduceWrongWordKeys(reduceWrongWordKeys);\n    setMyReduceAboriginalWordKeys(reduceAboriginalWordKeys);\n    setMyReduceFigureKeys(reduceFigureKeys);\n    setMyReduceWrongFigureKeys(reduceWrongFigureKeys);\n\n    Object.keys(reduceCorrectKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.c-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n        el.style.background = reduceCorrectKeys[key].clicked\n          ? elementColorMap[key].color\n          : \"inherit\";\n      });\n    });\n\n    Object.keys(reduceWrongKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.e-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n    Object.keys(reducePotentialWrongKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.pe-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n    Object.keys(reduceWrongWordKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ew-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n    Object.keys(reduceAboriginalWordKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ab-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n    Object.keys(reduceFigureKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.f-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n    Object.keys(reduceWrongFigureKeys).forEach((key) => {\n      divRef.current.querySelectorAll(`.ef-${key}`).forEach((el) => {\n        el.style.cursor = \"pointer\";\n      });\n    });\n  };\n  /*\n  useEffect(() => {\n    // console.log(\"useEffect~~~~\");\n\n    // divRef.current.querySelector(\"h2\").style.background =\n    //   \"rgb(147, 173, 100)\";\n    buildList(\"\");\n  }, [content, general]);\n  */\n\n  useEffect(() => {\n    // if (!modifiedParagraph || searchStringPrev.current === searchString) {\n    //   return;\n    // }\n\n    if (essentialData.personalSettings.readingModePureText) {\n      divRef.current.querySelector(\".content\").innerHTML = content;\n      return;\n    }\n\n    if (\n      searchString === \"\" /* && searchStringPrev.current !== searchString */\n    ) {\n      searchStringPrev.current = searchString;\n      return buildList(\"\");\n    }\n\n    searchStringPrev.current = searchString;\n    // console.log(\"rebuildlist\");\n    const htmlReg = RegExp(\"<(\\\"[^\\\"]*\\\"|'[^']*'|[^'\\\">])*>\", \"g\");\n    let nonModifiedParagraph = modifiedParagraph.replaceAll(htmlReg, \"@\");\n    let tagLists = [...modifiedParagraph.matchAll(htmlReg)];\n    tagLists.forEach((tagList, idx) => {\n      for (let i = idx + 1; i < tagLists.length; i++) {\n        tagLists[i].index -= tagList[0].length - 1;\n      }\n    });\n    let insertLists = tagLists.map((tagList) => ({\n      start: tagList.index,\n      content: tagList[0]\n    }));\n\n    const searchStringMatches = [\n      ...nonModifiedParagraph.matchAll(\n        RegExp(searchString.split(\"\").join(\"@?\"), \"g\")\n      )\n    ];\n    setNumOfFoundedStr(searchStringMatches.length);\n\n    searchStringMatches.forEach((mt) => {\n      for (let j = mt.index; j < mt.index + mt[0].length; j++) {\n        if (nonModifiedParagraph[j] === \"@\") {\n          continue;\n        }\n        insertLists.push({\n          start: j,\n          content: `<strong class='search-highlight'>${nonModifiedParagraph[j]}</strong>`\n        });\n      }\n    });\n\n    insertLists.sort((a, b) => a.start - b.start);\n\n    for (let i = insertLists.length - 1; i >= 0; i--) {\n      nonModifiedParagraph =\n        nonModifiedParagraph.slice(0, insertLists[i].start) +\n        insertLists[i].content +\n        nonModifiedParagraph.slice(insertLists[i].start + 1);\n    }\n    // Test\n    // if (index === 0) {\n    //   console.log(insertLists);\n    //   console.log(nonModifiedParagraph);\n    //   debugger;\n    // }\n    buildList(nonModifiedParagraph);\n  }, [\n    searchString,\n    content,\n    general,\n    globalHighlightOn,\n    globalHighlightElement,\n    essentialData.personalSettings.synchronizeHighlight,\n    essentialData.personalSettings.readingModePureText\n  ]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) => triggerToggleBtnColor(e, toggleBtnColor);\n\n    if (Object.keys(myReduceCorrectKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceCorrectKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.c-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceCorrectKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.c-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceCorrectKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) => triggerToggleErrorBtnColor(e, toggleErrorBtnColor);\n\n    if (Object.keys(myReduceWrongKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.e-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.e-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceWrongKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) =>\n      triggerTogglePotentialErrorBtnColor(e, togglePotentialErrorBtnColor);\n\n    if (Object.keys(myReducePotentialWrongKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReducePotentialWrongKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.pe-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReducePotentialWrongKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.pe-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReducePotentialWrongKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) =>\n      triggerToggleWrongWordBtnColor(e, toggleWrongWordBtnColor);\n\n    if (Object.keys(myReduceWrongWordKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongWordKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ew-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongWordKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ew-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceWrongWordKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) =>\n      triggerToggleAboriginalWordBtnColor(e, toggleAboriginalWordBtnColor);\n\n    if (Object.keys(myReduceAboriginalWordKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceAboriginalWordKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ab-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceAboriginalWordKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ab-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceAboriginalWordKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) => triggerToggleFigureBtnColor(e, toggleFigureBtnColor);\n\n    if (Object.keys(myReduceFigureKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceFigureKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.f-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceFigureKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.f-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceFigureKeys]);\n\n  useEffect(() => {\n    const divRefCurrent = divRef.current;\n\n    const handler = (e) =>\n      triggerToggleWrongFigureBtnColor(e, toggleWrongFigureBtnColor);\n\n    if (Object.keys(myReduceWrongFigureKeys).length > 0) {\n      // console.log(\"add myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongFigureKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ef-${key}`).forEach((el) => {\n          el.addEventListener(\"click\", handler);\n        });\n      });\n    }\n\n    return () => {\n      // console.log(\"remove myReduceNonMatches eventListener...\");\n      Object.keys(myReduceWrongFigureKeys).forEach((key) => {\n        divRefCurrent.querySelectorAll(`.ef-${key}`).forEach((el) => {\n          el.removeEventListener(\"click\", handler);\n        });\n      });\n    };\n  }, [myReduceWrongFigureKeys]);\n\n  return (\n    <div className=\"paragraph-container not-claim\" ref={divRef}>\n      <h2 onClick={() => setIsCollapse(index, dataType)}>\n        {Object.keys(myReduceWrongKeys).length === 0 &&\n          Object.keys(myReducePotentialWrongKeys).length === 0 &&\n          Object.keys(myReduceWrongWordKeys).length === 0 &&\n          Object.keys(myReduceWrongFigureKeys).length === 0 && (\n            <img src={checkedImg} alt=\"\" />\n          )}\n        {(Object.keys(myReduceWrongKeys).length > 0 ||\n          Object.keys(myReduceWrongWordKeys).length > 0 ||\n          Object.keys(myReduceWrongFigureKeys).length > 0) && (\n          <img src={errorImg} alt=\"\" />\n        )}\n        {Object.keys(myReducePotentialWrongKeys).length > 0 && (\n          <img src={warningImg} alt=\"\" />\n        )}\n        {Object.keys(myReduceAboriginalWordKeys).length > 0 && (\n          <img src={aboriginalImg} alt=\"\" />\n        )}\n        {dataType === \"disclosure\"\n          ? applicationNum[3] === \"1\"\n            ? \"發明內容\"\n            : \"新型內容\"\n          : \"實施方式\"}\n        【{general}】\n        {searchString && (\n          <>\n            {numOfFoundedStr === 0 ? (\n              <small>{\" \".repeat(6)}無結果</small>\n            ) : (\n              <small>\n                {\" \".repeat(6)}搜尋結果:{numOfFoundedStr}筆\n              </small>\n            )}\n          </>\n        )}\n        {!isCollapse ? (\n          <span>&#x292C;</span>\n        ) : (\n          <span style={{ height: \"1.38em\", lineHeight: \"1.25em\" }}>\n            &#x271B;\n          </span>\n        )}\n      </h2>\n      <section className={isCollapse ? \"collapse\" : \"\"}>\n        {!essentialData.personalSettings.readingModePureText &&\n          essentialData.personalSettings.synchronizeHighlight && (\n            <p\n              style={{\n                color: \"rgb(68 112 69)\",\n                fontWeight: \"bold\",\n                marginLeft: \"2.5vw\",\n                display: \"flex\"\n              }}\n            >\n              <span>&#9733;說明書、申請專利範圍之所有構件皆同步highlight</span>\n              {(!globalHighlightOn || globalHighlightElement.length > 0) && (\n                <button\n                  style={highlightButtonStyle}\n                  onClick={() =>\n                    setEssentialData((prev) => ({\n                      ...prev,\n                      globalHighlightOn: true,\n                      globalHighlightElement: []\n                    }))\n                  }\n                >\n                  開啟標註\n                </button>\n              )}\n              {globalHighlightOn && globalHighlightElement.length === 0 && (\n                <button\n                  style={highlightButtonStyle}\n                  onClick={() =>\n                    setEssentialData((prev) => ({\n                      ...prev,\n                      globalHighlightOn: false\n                    }))\n                  }\n                >\n                  關閉標註\n                </button>\n              )}\n            </p>\n          )}\n        {essentialData.personalSettings.readingModePureText && (\n          <p\n            style={{\n              color: \"rgb(186 48 48)\",\n              fontWeight: \"bold\",\n              marginLeft: \"2.5vw\"\n            }}\n          >\n            &#9733;閱讀模式為純文字模式\n          </p>\n        )}\n        <p className=\"content\">Sorry! 無法分析本段落!!!</p>\n        <div className=\"paragraph-container-btns\">\n          <button\n            className=\"gotop-btn\"\n            style={{ position: \"relative\" }}\n            onClick={() =>\n              document\n                .querySelector(\".main-body .main-body-grid-item:nth-of-type(1)\")\n                .scrollTo({ top: 0, behavior: \"smooth\" })\n            }\n          >\n            Go Top\n          </button>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default SingleParagraphSimple;\n","import React, { useContext, useState } from \"react\";\nimport SingleParagraphSimple from \"../components/SingleParagraphSimple\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport searchImg from \"../assets/search.png\";\nimport Popup from \"reactjs-popup\";\nimport SearchPopup from \"../components/SearchPopup\";\n\nconst SimpleDescription = () => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const [isSearchPopupOpen, toggleIsSearchPopupOpen] = useState(false);\n  const [showParagraphes, setShowParagraphes] = useState(\"disclosure\");\n  const searchString = essentialData.searchString;\n  const setSearchString = (str) =>\n    setEssentialData((prev) => ({ ...prev, searchString: str }));\n\n  const setIsCollapse = (index, dataType) => {\n    if (dataType === \"disclosure\") {\n      setEssentialData((prev) => ({\n        ...prev,\n        allDisclosureParagraphDetails: essentialData.allDisclosureParagraphDetails.map(\n          (paragraph, i) => {\n            if (index === i) {\n              return { ...paragraph, isCollapse: !paragraph.isCollapse };\n            }\n            return paragraph;\n          }\n        )\n      }));\n    } else {\n      setEssentialData((prev) => ({\n        ...prev,\n        allModeForInventionParagraphDetails: essentialData.allModeForInventionParagraphDetails.map(\n          (paragraph, i) => {\n            if (index === i) {\n              return { ...paragraph, isCollapse: !paragraph.isCollapse };\n            }\n            return paragraph;\n          }\n        )\n      }));\n    }\n  };\n\n  const openOrCollapseAll = (method) => {\n    setEssentialData((prev) => ({\n      ...prev,\n      allDisclosureParagraphDetails: essentialData.allDisclosureParagraphDetails.map(\n        (paragraph) => ({\n          ...paragraph,\n          isCollapse: method === \"collapse\" ? true : false\n        })\n      ),\n      allModeForInventionParagraphDetails: essentialData.allModeForInventionParagraphDetails.map(\n        (claim) => ({\n          ...claim,\n          isCollapse: method === \"collapse\" ? true : false\n        })\n      )\n    }));\n  };\n\n  return (\n    <>\n      <section className=\"title-section sticky\">\n        <h1 style={{ color: \"transparent\" }}>\n          {essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}說明書\n        </h1>\n        {!essentialData.isProcessing &&\n          (essentialData.allDisclosureParagraphDetails.length > 0 ||\n            essentialData.allModeForInventionParagraphDetails.length > 0) && (\n            <>\n              <h6>\n                <button\n                  onClick={() => setShowParagraphes(\"disclosure\")}\n                  className={showParagraphes === \"disclosure\" ? \"active\" : \"\"}\n                >\n                  {essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}\n                  內容\n                </button>\n                <button\n                  onClick={() => setShowParagraphes(\"mode-for-invention\")}\n                  className={\n                    showParagraphes === \"mode-for-invention\" ? \"active\" : \"\"\n                  }\n                >\n                  實施方式\n                </button>\n                <button\n                  onClick={() => setShowParagraphes(\"all\")}\n                  className={showParagraphes === \"all\" ? \"active\" : \"\"}\n                >\n                  整份說明書\n                </button>\n              </h6>\n              <div>\n                <button onClick={() => openOrCollapseAll(\"collapse\")}>\n                  &#x292C; 全部收合\n                </button>\n                <button onClick={() => openOrCollapseAll(\"open\")}>\n                  &#x271B; 全部展開\n                </button>\n                <button\n                  onClick={(e) => {\n                    if (e.target.tagName !== \"B\") {\n                      toggleIsSearchPopupOpen(true);\n                    }\n                  }}\n                  className={searchString ? \"withStr\" : \"\"}\n                >\n                  <img src={searchImg} alt=\"\" />\n                  {searchString && (\n                    <>\n                      <span\n                        style={{\n                          flexGrow: 1,\n                          textAlign: \"start\",\n                          overflow: \"hidden\",\n                          textOverflow: \"ellipsis\",\n                          whiteSpace: \"nowrap\"\n                        }}\n                      >\n                        {searchString}\n                      </span>\n                      <b\n                        style={{ paddingRight: 6, fontSize: \"1.06em\" }}\n                        onClick={() => {\n                          toggleIsSearchPopupOpen(false);\n                          setSearchString(\"\");\n                        }}\n                      >\n                        ⤬\n                      </b>\n                    </>\n                  )}\n                </button>\n              </div>\n            </>\n          )}\n      </section>\n      <section className=\"all-paragraph-section\">\n        {essentialData.isProcessing ? (\n          <div>\n            <h1>\n              {essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}說明書\n            </h1>\n            <h3>Processing...</h3>\n          </div>\n        ) : essentialData.allDisclosureParagraphDetails.length === 0 &&\n          essentialData.allModeForInventionParagraphDetails.length === 0 ? (\n          <div>\n            <h1>\n              {essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}說明書\n            </h1>\n            <h3>No data passed in yet.</h3>\n          </div>\n        ) : (\n          <div>\n            <Popup\n              open={isSearchPopupOpen}\n              closeOnDocumentClick\n              onClose={() => toggleIsSearchPopupOpen(false)}\n            >\n              <SearchPopup\n                handleClose={toggleIsSearchPopupOpen}\n                searchString={searchString}\n                setSearchString={setSearchString}\n              />\n            </Popup>\n\n            <h1\n              style={{\n                left: \"2vw\",\n                transform: \"translateY(-40px)\",\n                paddingBlock: 0\n              }}\n            >\n              {essentialData.applicationNum[3] === \"1\" ? \"發明\" : \"新型\"}說明書\n            </h1>\n\n            {(showParagraphes === \"disclosure\" || showParagraphes === \"all\") &&\n              essentialData.allDisclosureParagraphDetails.map(\n                (paragraphDetail, index) => (\n                  <SingleParagraphSimple\n                    key={index}\n                    index={index}\n                    dataType={\"disclosure\"}\n                    applicationNum={essentialData.applicationNum}\n                    general={paragraphDetail.general}\n                    content={paragraphDetail.content}\n                    modifiedParagraph={paragraphDetail.modifiedParagraph}\n                    figureKeys={paragraphDetail.paragraphMatch.figures}\n                    wrongFigureKeys={\n                      paragraphDetail.paragraphMatch.figuresErrors\n                    }\n                    correctKeys={paragraphDetail.paragraphMatch.corrects}\n                    wrongKeys={paragraphDetail.paragraphMatch.wrongs}\n                    potentialWrongKeys={\n                      paragraphDetail.paragraphMatch.potentialErrors\n                    }\n                    wrongWordKeys={paragraphDetail.paragraphMatch.wrongWords}\n                    aboriginalWordKeys={\n                      paragraphDetail.paragraphMatch.aboriginalWords\n                    }\n                    elementColorMap={essentialData.elementColorMap}\n                    isCollapse={paragraphDetail.isCollapse}\n                    setIsCollapse={setIsCollapse}\n                    searchString={searchString}\n                    globalHighlightOn={essentialData.globalHighlightOn}\n                    globalHighlightElement={\n                      essentialData.globalHighlightElement\n                    }\n                  />\n                )\n              )}\n            {(showParagraphes === \"mode-for-invention\" ||\n              showParagraphes === \"all\") &&\n              essentialData.allModeForInventionParagraphDetails.map(\n                (paragraphDetail, index) => (\n                  <SingleParagraphSimple\n                    key={index}\n                    index={index}\n                    dataType={\"mode-for-invention\"}\n                    applicationNum={essentialData.applicationNum}\n                    general={paragraphDetail.general}\n                    content={paragraphDetail.content}\n                    modifiedParagraph={paragraphDetail.modifiedParagraph}\n                    figureKeys={paragraphDetail.paragraphMatch.figures}\n                    wrongFigureKeys={\n                      paragraphDetail.paragraphMatch.figuresErrors\n                    }\n                    correctKeys={paragraphDetail.paragraphMatch.corrects}\n                    wrongKeys={paragraphDetail.paragraphMatch.wrongs}\n                    potentialWrongKeys={\n                      paragraphDetail.paragraphMatch.potentialErrors\n                    }\n                    wrongWordKeys={paragraphDetail.paragraphMatch.wrongWords}\n                    aboriginalWordKeys={\n                      paragraphDetail.paragraphMatch.aboriginalWords\n                    }\n                    elementColorMap={essentialData.elementColorMap}\n                    isCollapse={paragraphDetail.isCollapse}\n                    setIsCollapse={setIsCollapse}\n                    searchString={searchString}\n                    globalHighlightOn={essentialData.globalHighlightOn}\n                    globalHighlightElement={\n                      essentialData.globalHighlightElement\n                    }\n                  />\n                )\n              )}\n          </div>\n        )}\n      </section>\n    </>\n  );\n};\n\nexport default SimpleDescription;\n","import React, { useContext, useEffect } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport { getPathName } from \"../utils/getPathName\";\n\nconst Readme = () => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n\n  useEffect(() => {\n    setEssentialData((prev) => ({\n      ...prev,\n      pathName: getPathName(),\n    }));\n  }, []);\n\n  /*\n    readMeOptions: {\n      showUsage: false,\n      showDetectableErrors: false,\n    }\n  */\n\n  const methods = [\n    \"點選「儀表板」，有兩種匯入資料的方法：分別為「選取XML檔案」和「貼上XML檔案」。使用「選取XML檔案」時，可以將預先存好的XML檔案拖到中間的方形區域；使用「貼上XML檔案」時，可以將該XML檔的內容貼到編輯區中，再按下「送出」即可。\",\n    \"承上，如果XML的內容齊備，螢幕會顯示「你的檔案已成功上傳」等訊息；如果你的XML內容缺少部分內容，系統會跳出警告訊息告知你缺少的部分，此時系統不會分析該XML檔案除非你提供的XML檔案具備完整的內容。\",\n    \"承上，若你的XML檔案被系統接受，螢幕左方會顯示該新型專利的「符號說明」及「代表圖之符號簡單說明」，此時你可以點選上方淺藍色選單「摘要&技術」、「新型內容」、「實施方式」、「申請專利範圍」及「分析結果」依序觀看系統對於該新型專利案件的分析結果。\",\n    \"主畫面最上面的標題「自動化專利審查系統」左方有個「設定」按鈕，點選後可進行個人喜好設定。其中「請求項開啟tooltip」若勾選，在「申請專利範圍」頁面中滑鼠移至所述構件上方時會顯示該構件先前的位置與所在的請求項。\",\n    \"螢幕左方之「符號說明」及「代表圖之符號簡單說明」會顯示本案所列出的構件，如有無法判別的構件，會跳出警告訊息並顯示在「無法判別的符號說明」或「無法判別的代表圖之符號簡單說明」列表中。\",\n    \"「符號說明」及「代表圖之符號簡單說明」列表的下方有個「新增」按鈕，點選後輸入新的符號及元件名稱後按下「確定」，全部輸入完作後點選「儲存」，系統便會重新分析包含這些新構件的資料。\",\n    \"主選單中的「儀表板」可以讓你重新選取XML檔案或貼上XML檔案，選取好檔案後或者貼上檔案後按下送出即可重新分析該XML檔案。\",\n    \"主選單中的「摘要&技術」可以讓你瀏覽本新型案件的「摘要」、「技術領域」及「先前技術」。\",\n    \"主選單中的「新型內容」及「實施方式」會以「段落編號」來區分每個段落的內容。每個段落由上而下會顯示其正確的元件名稱及符號、錯誤的元件名稱及符號、可能存在錯誤的元件名稱及符號。最後是該段落的文字內容，內容中所述的構件會以不同顏色highlight方便使用者區別，錯誤的元件名稱或符號則以紅字提醒。\",\n    \"「新型內容」及「實施方式」頁面的最上方有個「新增」按鈕，用來新增新的段落。每個「段落編號」最下方有「修正」及「刪除」按鈕，可以針對單一段落進行修正與刪除，全部編輯完後頁面最上方有個「全部儲存」按鈕，點選後系統會以更新後的資料重新分析。\",\n    \"主選單中的「申請專利範圍」會以「請求項」來區分每個請求項的內容。每個請求項由上而下分別為「請求項種類」、「所依附請求項」、「錯誤資訊」、「元件見於本請求項先前內容或所依附的請求項」及「元件未見於本請求項先前內容或所依附的請求項」。最後是該請求項的文字內容，內容中的構件會以不同顏色highlight方便使用者區別，錯誤的元件名稱或符號則以紅字提醒。\",\n    \"承上，「該」或「所述」開頭的構件會以「方形」外框呈現，被「該」或「所述」的構件所對應的前述構件會以「楕圓形」外框呈現，出現在「符號說明」或「代表圖之符號簡單說明」的構件且非前述兩者情形者以對應的構件顏色呈現。\",\n    \"「申請專利範圍」頁面的最上方有個「新增」按鈕，用來新增新的請求項。每個「請求項」最下方有「修正」按鈕，可以針對單一請求項進行修正，全部編輯完後頁面最上方有個「全部儲存」按鈕，點選後系統會以更新後的資料重新分析。\",\n    \"在「請求項文字內容」中將滑鼠移至「該」或「所述」開頭的構件上方時，會出現tooltip告知該構件先前的位置與所在的請求項，點擊該構件一下可取消(開啟)同樣名稱構件的highlight，點擊該構件兩下可修正該構件名稱。\",\n    \"承上，操作「修正元件名稱」面板時，以「可選擇的文字」頭尾的按鈕調整選取範圍，下方的「選取的文字」即為目前的選取範圍，若該元件名稱為簡寫(e.g. 系統，其全名應為通訊系統)，則於「對應的元件名稱」欄輸入該元件名稱的全名。最後，如果只想修改單一元件名稱，最下面的「套用至全部元件」無須打勾，若想一次修改全部的元件名稱，最下面的「套用至全部元件」要打勾。\",\n    \"「新型內容」、「實施方式」及「申請專範圍」頁面的右上角有個「搜尋」按鈕，點選後可輸入欲搜尋的文字，按下「送出」後該些被搜尋到的文字會被highlight。\",\n    \"主選單中的「分析結果」會將整件案子的錯誤統整並製成法條，以供專利審查人員參考。\",\n  ];\n\n  const types = [\n    \"「符號說明」與「代表圖之符號簡單說明」的構件其符號是否重複。\",\n    \"「代表圖之符號簡單說明」的構件是否出現在「符號說明」中。\",\n    \"「代表圖之符號簡單說明」的構件是否與「符號說明」中的構件名稱不一致。\",\n    \"「新型內容」及「實施方式」是否使用「本發明」、「此發明」等非屬新型之用語。\",\n    \"「新型內容」及「實施方式」內容中所述的構件是否與「符號說明」或「代表圖之符號簡單說明」的構件其名稱用語或符號不一致。\",\n    \"「申請專利範圍」之附屬項是否僅得依附在前之獨立項或附屬項。\",\n    \"「申請專利範圍」之附屬項所依附之請求項為是否為多項附屬項直接(間接)依附多項附屬項。\",\n    \"「申請專利範圍」之附屬項否使用「權利要求」而非「申請專利範圍」或「請求項」等用語開頭。\",\n    \"「申請專利範圍」之附屬項為多項附屬項時，是否未以選擇式為之。\",\n    \"「申請專利範圍」之獨立項或附屬項之文字敘述是否以單句為之。\",\n    \"「申請專利範圍」內容中所述的構件其符號是否全部置於括號內。\",\n    \"「申請專利範圍」之附屬項的標的名稱是否與其直接或間接依附之請求項的標的名稱用語不一致。\",\n    \"「申請專利範圍」之獨立項所述之構件，是否於該構件前之文字敘述未揭露該構件。\",\n    \"「申請專利範圍」之附屬項所述之構件，是否於該構件前之文字敘述或所依附的請求項中未揭露該構件。(不當依附)\",\n    \"「申請專利範圍」內容中所述的構件與「符號說明」或「代表圖之符號簡單說明」的構件其名稱用語或符號不一致。\",\n    \"「申請專利範圍」之獨立項之主要構件是否未記載與其他構件之連結或其對應關係。\",\n    \"「新型名稱」是否與「申請專利範圍」之請求項的標的名稱其名稱用語不相符。\",\n    \"檢查本案「新型內容」及「實施方式」中是否有「原住民之相關用語」。\",\n    \"檢查本案是否有「系統無法判別」之「符號說明」與「代表圖之符號簡單說明」所述之元件名稱及符號。\",\n    \"檢查本案是否有「系統無法判別」之「申請專利範圍」之請求項內容。\",\n  ];\n\n  return (\n    <>\n      <section className=\"title-section\">\n        <h1>使用指南</h1>\n      </section>\n      <section className=\"readme-content\">\n        <p>\n          【軟體名稱】{\" \"}\n          {process.env.REACT_APP_SYSTEM_TYPE === \"tipo\"\n            ? \"自動化專利審查系統\"\n            : \"專利申請文件輔助偵錯系統\"}\n        </p>\n        <p>\n          【軟體目的】\n          <br />\n          <span style={{ display: \"block\", paddingLeft: \".7em\" }}>\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 協助專利\n            {process.env.REACT_APP_SYSTEM_TYPE === \"tipo\"\n              ? \"審查人員加速審理新型/發明專利案件\"\n              : \"申請人檢查新型專利案件\"}\n            ，本軟體可以檢查「符號說明」及「代表圖之符號簡單明」元件、符號是否錯誤或重複，以及「新型內容」，「實施方式」之元件和符號是否與「符號說明」不一致，並且檢查「申請專利範圍」之元件是否有未出現在先前內容的情況。\n          </span>\n        </p>\n        <div>\n          <p style={{ display: \"flex\", marginBottom: \".1em\" }}>\n            【軟體使用方法】\n            <span\n              onClick={() =>\n                setEssentialData((prev) => ({\n                  ...prev,\n                  readMeOptions: {\n                    ...prev.readMeOptions,\n                    showUsage: !prev.readMeOptions.showUsage,\n                  },\n                }))\n              }\n            >\n              {essentialData.readMeOptions.showUsage\n                ? \"收合內容  ⤬\"\n                : \"展開內容  ✛\"}\n            </span>\n          </p>\n          {essentialData.readMeOptions.showUsage &&\n            methods.map((method, idx) => (\n              <p\n                className={`readme-content-paragraph${\n                  idx === methods.length - 1 ? \" last\" : \"\"\n                }`}\n                data-idx={idx + 1}\n                key={idx}\n              >\n                {method}\n              </p>\n            ))}\n          <p style={{ display: \"flex\", marginBottom: \".1em\" }}>\n            【軟體可檢查之項目】\n            <span\n              onClick={() =>\n                setEssentialData((prev) => ({\n                  ...prev,\n                  readMeOptions: {\n                    ...prev.readMeOptions,\n                    showDetectableErrors:\n                      !prev.readMeOptions.showDetectableErrors,\n                  },\n                }))\n              }\n            >\n              {essentialData.readMeOptions.showDetectableErrors\n                ? \"收合內容  ⤬\"\n                : \"展開內容  ✛\"}\n            </span>\n          </p>\n          {essentialData.readMeOptions.showDetectableErrors &&\n            types.map((method, idx) => (\n              <p\n                className={`readme-content-paragraph${\n                  idx === types.length - 1 ? \" last\" : \"\"\n                }`}\n                data-idx={idx + 1}\n                key={idx}\n              >\n                {method}\n              </p>\n            ))}\n        </div>\n        <p>【軟體開發人員】 專利一組四科 助理審查官 劉克群</p>\n        <p>【諮詢電話】 簡先生 02-23767276  林科長 02-23767254</p>\n      </section>\n    </>\n  );\n};\n\nexport default Readme;\n","import React from \"react\";\n\nconst ToggleDisp = ({\n  children,\n  isSelecting = false,\n  icon,\n  iconColor = \"black\",\n  iconStyle = {},\n}) => {\n  const isIconNumber = icon && /^[0-9]/.test(icon);\n\n  if (isSelecting) {\n    return (\n      <label\n        style={{\n          display: \"block\",\n          fontSize: \"1.2em\",\n          textAlign: \"justify\",\n          position: \"relative\",\n          paddingLeft: 25,\n        }}\n      >\n        {children}\n        <input\n          style={{\n            position: \"absolute\",\n            top: 5,\n            left: 0,\n            width: 20,\n            height: 20,\n          }}\n          type=\"checkbox\"\n          defaultChecked\n        />\n      </label>\n    );\n  }\n\n  return (\n    <p\n      style={{\n        position: \"relative\",\n        paddingLeft: icon ? 25 : 0,\n      }}\n    >\n      {children}\n      {icon && (\n        <b\n          className=\"unselectable\"\n          style={{\n            position: \"absolute\",\n            left: 0,\n            top: isIconNumber ? 3 : 0,\n            fontSize: isIconNumber ? \"1em\" : \"1.2em\",\n            fontWeight: isIconNumber ? \"normal\" : \"bolder\",\n            color: iconColor,\n            ...iconStyle,\n          }}\n        >\n          {isIconNumber ? icon + \".\" : icon}\n        </b>\n      )}\n    </p>\n  );\n};\n\nexport default ToggleDisp;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { EssentialDataContextProvider } from \"../contexts/EssentialDataContext\";\nimport { getPathName } from \"../utils/getPathName\";\nimport ToggleDisp from \"../components/ToggleDisp\";\n\nconst Result = () => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n  const [resultContent, setResultContent] = useState(undefined);\n  const [isCopying, toggleIsCopying] = useState({\n    system_fail: false,\n    no_law: false,\n    law_104: false,\n    law_112_3: false,\n    law_112_5: false,\n  });\n\n  useEffect(() => {\n    setEssentialData((prev) => ({\n      ...prev,\n      pathName: getPathName(),\n    }));\n  }, []);\n\n  const handleCopy = (e) => {\n    let lawGroupEl = e.target;\n    while (!lawGroupEl.className.includes(\"law-group\"))\n      lawGroupEl = lawGroupEl.parentElement;\n    // console.log(lawGroupEl);\n    const copyContent = [];\n    for (let labelEl of lawGroupEl.querySelectorAll(\"label\")) {\n      if (labelEl.querySelector(\"input[type=checkbox]:checked\")) {\n        copyContent.push(labelEl.textContent);\n      }\n    }\n    //navigator.clipboard.writeText(copyContent.join(\"\\n\"));\n\n    // Navigator clipboard api needs a secure context (https)\n    if (navigator.clipboard && window.isSecureContext) {\n      navigator.clipboard.writeText(copyContent.join(\"\\n\"));\n    } else {\n      // Use the 'out of viewport hidden text area' trick\n      const textArea = document.createElement(\"textarea\");\n      textArea.value = copyContent.join(\"\\n\");\n\n      // Move textarea out of the viewport so it's not visible\n      textArea.style.position = \"absolute\";\n      textArea.style.left = \"-999999px\";\n\n      document.body.prepend(textArea);\n      textArea.select();\n\n      try {\n        document.execCommand(\"copy\");\n      } catch (error) {\n        console.error(error);\n      } finally {\n        textArea.remove();\n      }\n    }\n  };\n\n  /*\n            system_fail: [],\n          no_law: [],\n          law_104: [],\n          law_112_3: [],\n          law_112_5: [],\n          structuredResult: {},\n  */\n\n  useEffect(() => {\n    if (\n      !essentialData.isProcessing &&\n      essentialData.abstractContent.length !== 0\n    ) {\n      if (\n        essentialData.resultDispType === \"old\" &&\n        (essentialData.allErrors.title.length !== 0 ||\n          essentialData.allErrors.descriptionOfElementMap.length !== 0 ||\n          essentialData.allErrors.figureOfDrawingsMap.length !== 0 ||\n          essentialData.allErrors.allDisclosureParagraphDetails.length !== 0 ||\n          essentialData.allErrors.allModeForInventionParagraphDetails.length !==\n            0 ||\n          essentialData.allErrors.allClaimsDetails.length !== 0 ||\n          essentialData.allErrors.system.length !== 0)\n      ) {\n        setResultContent(\n          <div>\n            <strong\n              style={{\n                display: \"block\",\n                textAlign: \"center\",\n                marginBottom: 10,\n                fontSize: \"1.2em\",\n                fontWeight: 700,\n                color: \"red\",\n              }}\n            >\n              &#9888;本分析結果僅供參考，審查官引用時應再次確認每項所對應的內容是否正確\n            </strong>\n            {/** title */}\n            {essentialData.allErrors.title.length !== 0 && (\n              <>\n                <p className=\"p-title\">【新型名稱】</p>\n                {essentialData.allErrors.title.map(({ message }, idx) => (\n                  <p\n                    key={idx}\n                    className=\"result-content-paragraph\"\n                    data-idx={idx + 1}\n                  >\n                    {message}\n                  </p>\n                ))}\n              </>\n            )}\n\n            {/** descriptionOfElementMap */}\n            {essentialData.allErrors.descriptionOfElementMap.length !== 0 && (\n              <>\n                <p className=\"p-title\">【符號說明】</p>\n                {essentialData.allErrors.descriptionOfElementMap.map(\n                  ({ message }, idx) => (\n                    <p\n                      key={idx}\n                      className=\"result-content-paragraph\"\n                      data-idx={idx + 1}\n                    >\n                      {message}\n                    </p>\n                  )\n                )}\n              </>\n            )}\n            {/** figureOfDrawingsMap */}\n            {essentialData.allErrors.figureOfDrawingsMap.length !== 0 && (\n              <>\n                <p className=\"p-title\">【代表圖之符號簡單說明】</p>\n                {essentialData.allErrors.figureOfDrawingsMap.map(\n                  ({ message }, idx) => (\n                    <p\n                      key={idx}\n                      className=\"result-content-paragraph\"\n                      data-idx={idx + 1}\n                    >\n                      {message}\n                    </p>\n                  )\n                )}\n              </>\n            )}\n            {/** allDisclosureParagraphDetails */}\n            {essentialData.allErrors.allDisclosureParagraphDetails.length !==\n              0 && (\n              <>\n                <p className=\"p-title\">【新型內容】</p>\n                {essentialData.allErrors.allDisclosureParagraphDetails.map(\n                  ({ message }, idx) => (\n                    <p\n                      key={idx}\n                      className=\"result-content-paragraph\"\n                      data-idx={idx + 1}\n                    >\n                      {message}\n                    </p>\n                  )\n                )}\n              </>\n            )}\n            {/** allModeForInventionParagraphDetails */}\n            {essentialData.allErrors.allModeForInventionParagraphDetails\n              .length !== 0 && (\n              <>\n                <p className=\"p-title\">【實施方式】</p>\n                {essentialData.allErrors.allModeForInventionParagraphDetails.map(\n                  ({ message }, idx) => (\n                    <p\n                      key={idx}\n                      className=\"result-content-paragraph\"\n                      data-idx={idx + 1}\n                    >\n                      {message}\n                    </p>\n                  )\n                )}\n              </>\n            )}\n            {/** allClaimsDetails */}\n            {essentialData.allErrors.allClaimsDetails.length !== 0 && (\n              <>\n                <p className=\"p-title\">【申請專利範圍】</p>\n                {essentialData.allErrors.allClaimsDetails.map(\n                  ({ message }, idx) => (\n                    <p\n                      key={idx}\n                      className=\"result-content-paragraph\"\n                      data-idx={idx + 1}\n                    >\n                      {message}\n                    </p>\n                  )\n                )}\n              </>\n            )}\n            {/** system */}\n            {essentialData.allErrors.system.length !== 0 && (\n              <>\n                <p className=\"p-title\">【系統無法判別之錯誤】</p>\n                {essentialData.allErrors.system.map(({ message }, idx) => (\n                  <p\n                    key={idx}\n                    className=\"result-content-paragraph\"\n                    data-idx={idx + 1}\n                  >\n                    {message}\n                  </p>\n                ))}\n              </>\n            )}\n          </div>\n        );\n      } else if (\n        essentialData.resultDispType === \"new\" &&\n        (essentialData.allErrors_v2.structuredResult.system_fail.length > 0 ||\n          essentialData.allErrors_v2.structuredResult.no_law.length > 0 ||\n          essentialData.allErrors_v2.structuredResult.law_104.length > 0 ||\n          essentialData.allErrors_v2.structuredResult.law_112_3.children\n            .length > 0 ||\n          essentialData.allErrors_v2.structuredResult.law_112_5.children\n            .length > 0)\n      ) {\n        setResultContent(\n          <div>\n            <strong\n              style={{\n                display: \"block\",\n                textAlign: \"center\",\n                marginBottom: 10,\n                fontSize: \"1.2em\",\n                fontWeight: 700,\n                color: \"red\",\n              }}\n            >\n              &#9888;本分析結果僅供參考，審查官引用時應再次確認每項所對應的內容是否正確\n            </strong>\n            {essentialData.allErrors_v2.structuredResult.law_104.length > 0 && (\n              <div className=\"law-group\">\n                <h4 className=\"result-v2-title\">\n                  專利法第104條\n                  {isCopying.law_104 ? (\n                    <div className=\"result-v2-title-btns\">\n                      <button className=\"with-active\" onClick={handleCopy}>\n                        確定\n                      </button>\n                      <button\n                        onClick={() =>\n                          toggleIsCopying((prev) => ({\n                            ...prev,\n                            law_104: false,\n                          }))\n                        }\n                      >\n                        取消\n                      </button>\n                    </div>\n                  ) : (\n                    <div className=\"result-v2-title-btns\">\n                      <button\n                        onClick={() =>\n                          toggleIsCopying((prev) => ({\n                            ...prev,\n                            law_104: true,\n                          }))\n                        }\n                      >\n                        複製內容\n                      </button>\n                    </div>\n                  )}\n                </h4>\n                <ul className=\"result-v2-ul\">\n                  {essentialData.allErrors_v2.structuredResult.law_104.map(\n                    (message, idx) => (\n                      <li className=\"result-v2-li\" key={idx}>\n                        <ToggleDisp\n                          isSelecting={isCopying.law_104}\n                          icon={\n                            essentialData.allErrors_v2.structuredResult.law_104\n                              .length === 1\n                              ? \"\"\n                              : idx + 1\n                          }\n                        >\n                          {message}\n                        </ToggleDisp>\n                      </li>\n                    )\n                  )}\n                </ul>\n              </div>\n            )}\n            {essentialData.allErrors_v2.structuredResult.law_112_3.children\n              .length > 0 && (\n              <div className=\"law-group\">\n                <h4 className=\"result-v2-title\">\n                  專利法第112條第3款{\" \"}\n                  {isCopying.law_112_3 ? (\n                    <div className=\"result-v2-title-btns\">\n                      <button className=\"with-active\" onClick={handleCopy}>\n                        確定\n                      </button>\n                      <button\n                        onClick={() =>\n                          toggleIsCopying((prev) => ({\n                            ...prev,\n                            law_112_3: false,\n                          }))\n                        }\n                      >\n                        取消\n                      </button>\n                    </div>\n                  ) : (\n                    <div className=\"result-v2-title-btns\">\n                      <button\n                        onClick={() =>\n                          toggleIsCopying((prev) => ({\n                            ...prev,\n                            law_112_3: true,\n                          }))\n                        }\n                      >\n                        複製內容\n                      </button>\n                    </div>\n                  )}\n                </h4>\n                {essentialData.allErrors_v2.structuredResult.law_112_3.children\n                  .length === 1 &&\n                essentialData.allErrors_v2.structuredResult.law_112_3\n                  .children[0].children.length === 1 ? (\n                  <div className=\"result-v2-only-child\">\n                    <ToggleDisp isSelecting={isCopying.law_112_3}>\n                      <span className=\"bg-green\">\n                        {\n                          essentialData.allErrors_v2.structuredResult.law_112_3\n                            .children[0].prefix\n                        }\n                      </span>\n                      <span className=\"bg-blue\">\n                        {\n                          essentialData.allErrors_v2.structuredResult.law_112_3\n                            .children[0].children[0]\n                        }\n                      </span>\n                      <span>\n                        {\n                          essentialData.allErrors_v2.structuredResult.law_112_3\n                            .lawBodyEnd\n                        }\n                      </span>\n                    </ToggleDisp>\n                  </div>\n                ) : (\n                  <>\n                    <div className=\"result-v2-lawbody\">\n                      <ToggleDisp isSelecting={isCopying.law_112_3} icon=\"◎\">\n                        <span>\n                          {\n                            essentialData.allErrors_v2.structuredResult\n                              .law_112_3.lawBody\n                          }\n                        </span>\n                      </ToggleDisp>\n                    </div>\n                    {essentialData.allErrors_v2.structuredResult.law_112_3.children.map(\n                      ({ prefix, children }, cIdx) => (\n                        <React.Fragment key={cIdx}>\n                          {prefix && (\n                            <div className=\"result-v2-prefix\">\n                              <ToggleDisp\n                                isSelecting={isCopying.law_112_3}\n                                icon=\"&#9724;\"\n                                iconColor=\"green\"\n                              >\n                                <span className=\"bg-green\">{prefix}</span>\n                              </ToggleDisp>\n                            </div>\n                          )}\n                          {children.map((message, mIdx) => (\n                            <div\n                              key={mIdx}\n                              style={{ paddingInline: \"20px 8px\" }}\n                            >\n                              <ToggleDisp\n                                isSelecting={isCopying.law_112_3}\n                                icon=\"&#9724;\"\n                                iconColor=\"blue\"\n                                iconStyle={{ transform: \"rotate(45deg)\" }}\n                              >\n                                <span className=\"bg-blue\">{message}</span>\n                              </ToggleDisp>\n                            </div>\n                          ))}\n                        </React.Fragment>\n                      )\n                    )}\n                  </>\n                )}\n              </div>\n            )}\n            {essentialData.allErrors_v2.structuredResult.law_112_5.children\n              .length > 0 && (\n              <div className=\"law-group\">\n                <h4 className=\"result-v2-title\">\n                  專利法第112條第5款\n                  {isCopying.law_112_5 ? (\n                    <div className=\"result-v2-title-btns\">\n                      <button className=\"with-active\" onClick={handleCopy}>\n                        確定\n                      </button>\n                      <button\n                        onClick={() =>\n                          toggleIsCopying((prev) => ({\n                            ...prev,\n                            law_112_5: false,\n                          }))\n                        }\n                      >\n                        取消\n                      </button>\n                    </div>\n                  ) : (\n                    <div className=\"result-v2-title-btns\">\n                      <button\n                        onClick={() =>\n                          toggleIsCopying((prev) => ({\n                            ...prev,\n                            law_112_5: true,\n                          }))\n                        }\n                      >\n                        複製內容\n                      </button>\n                    </div>\n                  )}\n                </h4>\n                {essentialData.allErrors_v2.structuredResult.law_112_5.children\n                  .length === 1 &&\n                essentialData.allErrors_v2.structuredResult.law_112_5\n                  .children[0].children.length === 1 ? (\n                  <div className=\"result-v2-only-child\">\n                    <ToggleDisp isSelecting={isCopying.law_112_5}>\n                      <span className=\"bg-green\">\n                        {\n                          essentialData.allErrors_v2.structuredResult.law_112_5\n                            .children[0].prefix\n                        }\n                      </span>\n                      <span className=\"bg-blue\">\n                        {\n                          essentialData.allErrors_v2.structuredResult.law_112_5\n                            .children[0].children[0]\n                        }\n                      </span>\n                      <span>\n                        {\n                          essentialData.allErrors_v2.structuredResult.law_112_5\n                            .lawBodyEnd\n                        }\n                      </span>\n                    </ToggleDisp>\n                  </div>\n                ) : (\n                  <>\n                    <div className=\"result-v2-lawbody\">\n                      <ToggleDisp isSelecting={isCopying.law_112_5} icon=\"◎\">\n                        <span>\n                          {\n                            essentialData.allErrors_v2.structuredResult\n                              .law_112_5.lawBody\n                          }\n                        </span>\n                      </ToggleDisp>\n                    </div>\n                    {essentialData.allErrors_v2.structuredResult.law_112_5.children.map(\n                      ({ prefix, children }, cIdx) => (\n                        <React.Fragment key={cIdx}>\n                          {prefix && (\n                            <div className=\"result-v2-prefix\">\n                              <ToggleDisp\n                                isSelecting={isCopying.law_112_5}\n                                icon=\"&#9632;\"\n                                iconColor=\"green\"\n                              >\n                                <span className=\"bg-green\">{prefix}</span>\n                              </ToggleDisp>\n                            </div>\n                          )}\n                          {children.map((message, mIdx) => (\n                            <div\n                              key={mIdx}\n                              style={{ paddingInline: \"20px 8px\" }}\n                            >\n                              <ToggleDisp\n                                isSelecting={isCopying.law_112_5}\n                                icon=\"&#9724;\"\n                                iconColor=\"blue\"\n                                iconStyle={{ transform: \"rotate(45deg)\" }}\n                              >\n                                <span className=\"bg-blue\">{message}</span>\n                              </ToggleDisp>\n                            </div>\n                          ))}\n                        </React.Fragment>\n                      )\n                    )}\n                  </>\n                )}\n              </div>\n            )}\n            {essentialData.allErrors_v2.structuredResult.no_law.length > 0 && (\n              <div className=\"law-group\">\n                <h4 className=\"result-v2-title\">\n                  未帶法條（其他）\n                  {isCopying.no_law ? (\n                    <div className=\"result-v2-title-btns\">\n                      <button className=\"with-active\" onClick={handleCopy}>\n                        確定\n                      </button>\n                      <button\n                        onClick={() =>\n                          toggleIsCopying((prev) => ({\n                            ...prev,\n                            no_law: false,\n                          }))\n                        }\n                      >\n                        取消\n                      </button>\n                    </div>\n                  ) : (\n                    <div className=\"result-v2-title-btns\">\n                      <button\n                        onClick={() =>\n                          toggleIsCopying((prev) => ({\n                            ...prev,\n                            no_law: true,\n                          }))\n                        }\n                      >\n                        複製內容\n                      </button>\n                    </div>\n                  )}\n                </h4>\n                <ul className=\"result-v2-ul\">\n                  {essentialData.allErrors_v2.structuredResult.no_law.map(\n                    (message, idx) => (\n                      <li className=\"result-v2-li\" key={idx}>\n                        <ToggleDisp\n                          isSelecting={isCopying.no_law}\n                          icon={\n                            essentialData.allErrors_v2.structuredResult.no_law\n                              .length === 1\n                              ? \"\"\n                              : idx + 1\n                          }\n                        >\n                          {message}\n                        </ToggleDisp>\n                      </li>\n                    )\n                  )}\n                </ul>\n              </div>\n            )}\n            {essentialData.allErrors_v2.structuredResult.system_fail.length >\n              0 && (\n              <div className=\"law-group\">\n                <h4 className=\"result-v2-title\">\n                  系統無法判別之錯誤\n                  {isCopying.system_fail ? (\n                    <div className=\"result-v2-title-btns\">\n                      <button className=\"with-active\" onClick={handleCopy}>\n                        確定\n                      </button>\n                      <button\n                        onClick={() =>\n                          toggleIsCopying((prev) => ({\n                            ...prev,\n                            system_fail: false,\n                          }))\n                        }\n                      >\n                        取消\n                      </button>\n                    </div>\n                  ) : (\n                    <div className=\"result-v2-title-btns\">\n                      <button\n                        onClick={() =>\n                          toggleIsCopying((prev) => ({\n                            ...prev,\n                            system_fail: true,\n                          }))\n                        }\n                      >\n                        複製內容\n                      </button>\n                    </div>\n                  )}\n                </h4>\n                <ul className=\"result-v2-ul\">\n                  {essentialData.allErrors_v2.structuredResult.system_fail.map(\n                    (message, idx) => (\n                      <li className=\"result-v2-li\" key={idx}>\n                        <ToggleDisp\n                          isSelecting={isCopying.system_fail}\n                          icon={\n                            essentialData.allErrors_v2.structuredResult\n                              .system_fail.length === 1\n                              ? \"\"\n                              : idx + 1\n                          }\n                        >\n                          {message}\n                        </ToggleDisp>\n                      </li>\n                    )\n                  )}\n                </ul>\n              </div>\n            )}\n          </div>\n        );\n      } else {\n        setResultContent(\n          <div>\n            <h3>本案未檢查到任何錯誤</h3>\n          </div>\n        );\n      }\n    }\n  }, [essentialData, isCopying]);\n\n  return (\n    <>\n      <section className=\"title-section\">\n        <h1>分析結果</h1>\n      </section>\n      {!essentialData.isProcessing &&\n        essentialData.abstractContent.length !== 0 && (\n          <div className=\"title-btns\">\n            <button\n              className={essentialData.resultDispType === \"new\" ? \"active\" : \"\"}\n              onClick={() => {\n                if (essentialData.resultDispType === \"old\")\n                  setEssentialData((prev) => ({\n                    ...prev,\n                    resultDispType: \"new\",\n                  }));\n              }}\n            >\n              新版\n            </button>\n            <button\n              className={essentialData.resultDispType === \"old\" ? \"active\" : \"\"}\n              onClick={() => {\n                if (essentialData.resultDispType === \"new\")\n                  setEssentialData((prev) => ({\n                    ...prev,\n                    resultDispType: \"old\",\n                  }));\n              }}\n            >\n              舊版\n            </button>\n          </div>\n        )}\n      <section className=\"result-content\">\n        {!resultContent && (\n          <h3>\n            {essentialData.isProcessing\n              ? \"Processing...\"\n              : \"No data passed in yet.\"}\n          </h3>\n        )}\n        {resultContent}\n      </section>\n    </>\n  );\n};\n\nexport default Result;\n\n/*\n    <>\n      <h1>分析結果</h1>\n      <section className=\"result-content\">\n        <div>\n          <p>【符號說明】</p>\n          <p className=\"result-content-paragraph\" data-idx=\"1\">\n            依專利法施行細則第45條準用第22條第1項之規定：「說明書、申請專利範圍及摘要中之技術用語及符號應一致。」本案「說明書」內容之記載未依前開規定之格式撰寫（段落編號【　】第　、　行\n            ／ 第　頁第　、　行之構件「　（　）」，與「符號說明」 ／\n            及「代表圖之符號簡單說明」所述之構件「　（　）」，其名稱用語 ／\n            符號不一致），應予修正。查違反專利法第120條準用第26條第4項之規定。【摘要、說明書及圖式其餘部分請一併確認及修正】\n          </p>\n          <p>【申請專利範圍】</p>\n          <p className=\"result-content-paragraph\" data-idx=\"1\">\n            依專利法施行細則第45條準用第18條第6項之規定：「獨立項或附屬項之文字敘述，應以單句為之。」本案「申請專利範圍」第　項內容之記載未依前開規定之格式撰寫（文字敘述未以單句為之\n            ／\n            ，於句中出現句點為不當之處），應予修正。查違反專利法第120條準用第26條第4項之規定。\n          </p>\n          <p className=\"result-content-paragraph\" data-idx=\"2\">\n            依專利法施行細則第45條準用第18條第1項之規定：「…。獨立項、附屬項，應以其依附關係，依序以阿拉伯數字編號排列。」本案「申請專利範圍」第　項內容之記載未依前開規定之格式撰寫（該項第　行所述之技術特徵「　」，於所依附申請專利範圍第　項中未揭示此技術特徵，係不當依附），應予修正。查違反專利法第120條準用第26條第4項之規定。【摘要、說明書其餘部分請一併確認及修正】\n          </p>\n        </div>\n      </section>\n    </>\n*/\n\n/*\n  useEffect(() => {\n    if (\n      !essentialData.isProcessing &&\n      essentialData.abstractContent.length !== 0\n    ) {\n      let htmlContent = \"\";\n\n      // title\n      if (essentialData.allErrors.title.length !== 0) {\n        htmlContent += `<p class=\"p-title\">【新型名稱】</p>`;\n        htmlContent += essentialData.allErrors.title\n          .map(\n            ({ message }, idx) =>\n              `<p class=\"result-content-paragraph\" data-idx=\"${\n                idx + 1\n              }\">${message}</p>`\n          )\n          .join(\"\");\n      }\n\n      // descriptionOfElementMap\n      if (essentialData.allErrors.descriptionOfElementMap.length !== 0) {\n        htmlContent += `<p class=\"p-title\">【符號說明】</p>`;\n        htmlContent += essentialData.allErrors.descriptionOfElementMap\n          .map(\n            ({ message }, idx) =>\n              `<p class=\"result-content-paragraph\" data-idx=\"${\n                idx + 1\n              }\">${message}</p>`\n          )\n          .join(\"\");\n      }\n\n      // figureOfDrawingsMap\n      if (essentialData.allErrors.figureOfDrawingsMap.length !== 0) {\n        htmlContent += `<p class=\"p-title\">【代表圖之符號簡單說明】</p>`;\n        htmlContent += essentialData.allErrors.figureOfDrawingsMap\n          .map(\n            ({ message }, idx) =>\n              `<p class=\"result-content-paragraph\" data-idx=\"${\n                idx + 1\n              }\">${message}</p>`\n          )\n          .join(\"\");\n      }\n\n      // allDisclosureParagraphDetails\n      if (essentialData.allErrors.allDisclosureParagraphDetails.length !== 0) {\n        htmlContent += `<p class=\"p-title\">【新型內容】</p>`;\n        htmlContent += essentialData.allErrors.allDisclosureParagraphDetails\n          .map(\n            ({ message }, idx) =>\n              `<p class=\"result-content-paragraph\" data-idx=\"${\n                idx + 1\n              }\">${message}</p>`\n          )\n          .join(\"\");\n      }\n\n      // allModeForInventionParagraphDetails\n      if (\n        essentialData.allErrors.allModeForInventionParagraphDetails.length !== 0\n      ) {\n        htmlContent += `<p class=\"p-title\">【實施方式】</p>`;\n        htmlContent +=\n          essentialData.allErrors.allModeForInventionParagraphDetails\n            .map(\n              ({ message }, idx) =>\n                `<p class=\"result-content-paragraph\" data-idx=\"${\n                  idx + 1\n                }\">${message}</p>`\n            )\n            .join(\"\");\n      }\n\n      // allClaimsDetails\n      if (essentialData.allErrors.allClaimsDetails.length !== 0) {\n        htmlContent += `<p class=\"p-title\">【申請專利範圍】</p>`;\n        htmlContent += essentialData.allErrors.allClaimsDetails\n          .map(\n            ({ message }, idx) =>\n              `<p class=\"result-content-paragraph\" data-idx=\"${\n                idx + 1\n              }\">${message}</p>`\n          )\n          .join(\"\");\n      }\n\n      // system\n      if (essentialData.allErrors.system.length !== 0) {\n        htmlContent += `<p class=\"p-title\">【系統無法判別之錯誤】</p>`;\n        htmlContent += essentialData.allErrors.system\n          .map(\n            ({ message }, idx) =>\n              `<p class=\"result-content-paragraph\" data-idx=\"${\n                idx + 1\n              }\">${message}</p>`\n          )\n          .join(\"\");\n      }\n\n      if (htmlContent) {\n        resultContentRef.current.innerHTML =\n          \"<div>\" +\n          `<strong style=\"\n              display: block; \n              text-align: center; \n              margin-bottom: 10px;\n              font-size: 1.2em;\n              font-weight: 700;\n              color: red;\n          \">&#9888;本分析結果僅供參考，審查官引用時應再次確認每項所對應的內容是否正確</strong>` +\n          htmlContent +\n          \"</div>\";\n      } else {\n        resultContentRef.current.innerHTML = `<div><h3>本案未檢查到任何錯誤</h3></div>`;\n      }\n    }\n  }, [essentialData]);\n*/\n","import React, { useContext, useEffect, useState } from \"react\";\nimport Dashboard from \"./pages/Dashboard\";\nimport \"./styles.css\";\nimport { Link, Route, HashRouter as Router, Switch } from \"react-router-dom\";\nimport Popup from \"reactjs-popup\";\nimport DBResultPopup from \"./components/DbResultPopup\";\nimport DescriptionOfDrawings from \"./components/DescriptionOfDrawings\";\nimport DescriptionOfElement from \"./components/DescriptionOfElement\";\nimport FailedElements from \"./components/FailedElements\";\nimport FigureOfDrawings from \"./components/FigureOfDrawings\";\nimport MainTitle from \"./components/MainTitle\";\nimport SettingsPopup from \"./components/SettingsPopup\";\nimport SidebarLayout from \"./components/SidebarLayout\";\nimport { EssentialDataContextProvider } from \"./contexts/EssentialDataContext\";\nimport { UpdateParagraphContextProvider } from \"./contexts/UpdateParagraphContext\";\nimport { XMLContextProvider } from \"./contexts/XMLContext\";\nimport { useInit } from \"./hooks/init\";\nimport { useLoadXML } from \"./hooks/loadXML\";\nimport { reInit } from \"./hooks/reInit\";\nimport Abstract from \"./pages/Abstract_v2\";\nimport Claims from \"./pages/Claims\";\nimport Disclosure from \"./pages/Disclosure\";\nimport ModeForInvention from \"./pages/ModeForInvention\";\nimport SimpleClaims from \"./pages/SimpleClaims\";\nimport SimpleDescription from \"./pages/SimpleDescription\";\nimport Readme from \"./pages/readme\";\nimport Result from \"./pages/result\";\nimport { getPathName } from \"./utils/getPathName\";\n\nexport default function App({ setLocalStorageValue }) {\n  const [XMLData, setXMLData] = useContext(XMLContextProvider);\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n\n  const {\n    setAllUpdateDisclosureParagraph,\n    setAllUpdateModeForInventionParagraph,\n    setAllUpdateClaimParagraph,\n  } = useContext(UpdateParagraphContextProvider);\n\n  const [isSettingPopupOpen, toggleIsSettingPopupOpen] = useState(false);\n  const [isDBResultPopupOpen, toggleIsDBResultPopupOpen] = useState(false);\n\n  const handleReInit = async (_essentialData, _setEssentialData, _payload) => {\n    setAllUpdateDisclosureParagraph([]);\n    setAllUpdateModeForInventionParagraph([]);\n    setAllUpdateClaimParagraph([]);\n    await reInit(_essentialData, _setEssentialData, _payload);\n  };\n\n  useLoadXML(XMLData.fileName, XMLData.fileContent, setXMLData);\n  // console.log(\"Call init\");\n  useInit(\n    XMLData,\n    setXMLData,\n    essentialData,\n    setEssentialData,\n    setAllUpdateDisclosureParagraph,\n    setAllUpdateModeForInventionParagraph,\n    setAllUpdateClaimParagraph,\n    setLocalStorageValue\n  );\n\n  return (\n    <div\n      className=\"App\"\n      style={\n        essentialData.pathName === \"read-mode\"\n          ? {\n              width: \"150%\",\n              marginLeft: \"-50%\",\n            }\n          : {}\n      }\n    >\n      <SidebarLayout>\n        <DescriptionOfElement handleReInit={handleReInit} />\n        <FigureOfDrawings handleReInit={handleReInit} />\n        <DescriptionOfDrawings />\n        <FailedElements handleReInit={handleReInit} />\n      </SidebarLayout>\n      <main\n        className={`main ${\n          essentialData.personalSettings.isDarkMode ? \"dark\" : \"\"\n        }`}\n      >\n        <div>\n          <Router>\n            <MainTitle\n              toggleIsDBResultPopupOpen={toggleIsDBResultPopupOpen}\n              toggleIsSettingPopupOpen={toggleIsSettingPopupOpen}\n            />\n            <Popup\n              open={isSettingPopupOpen}\n              closeOnDocumentClick\n              onClose={() => toggleIsSettingPopupOpen(false)}\n            >\n              <SettingsPopup\n                setLocalStorageValue={setLocalStorageValue}\n                handleClose={toggleIsSettingPopupOpen}\n              />\n            </Popup>\n            <Popup\n              open={isDBResultPopupOpen}\n              closeOnDocumentClick\n              onClose={() => toggleIsDBResultPopupOpen(false)}\n            >\n              <DBResultPopup handleClose={toggleIsDBResultPopupOpen} />\n            </Popup>\n            <section\n              className=\"links-section\"\n              style={\n                essentialData.pathName === \"read-mode\"\n                  ? { display: \"none\" }\n                  : {}\n              }\n            >\n              <div></div>\n              <ul>\n                <li>\n                  <Link\n                    className={essentialData.pathName === \"\" ? \"active\" : \"\"}\n                    to=\"/\"\n                  >\n                    儀表板\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    className={\n                      essentialData.pathName === \"abstract\" ? \"active\" : \"\"\n                    }\n                    to=\"/abstract\"\n                  >\n                    摘要&技術\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    className={\n                      essentialData.pathName === \"disclosure\" ? \"active\" : \"\"\n                    }\n                    to=\"/disclosure\"\n                  >\n                    {essentialData.applicationNum === \"\"\n                      ? process.env.REACT_APP_SYSTEM_TYPE === \"tipo\" &&\n                        process.env.REACT_APP_PATENT_TYPE?.includes(\"invention\")\n                        ? \"發明/新型\"\n                        : \"新型\"\n                      : essentialData.applicationNum[3] === \"1\"\n                      ? \"發明\"\n                      : \"新型\"}\n                    內容\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    className={\n                      essentialData.pathName === \"mode-for-invention\"\n                        ? \"active\"\n                        : \"\"\n                    }\n                    to=\"/mode-for-invention\"\n                  >\n                    實施方式\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    className={\n                      essentialData.pathName === \"claim\" ? \"active\" : \"\"\n                    }\n                    to=\"/claim\"\n                  >\n                    申請專利範圍\n                  </Link>\n                </li>\n              </ul>\n              <div className=\"analysis-result\">\n                {process.env.REACT_APP_SYSTEM_TYPE === \"tipo\" && (\n                  <span>\n                    <Link to=\"/result\">分析結果</Link>\n                  </span>\n                )}\n              </div>\n            </section>\n            <div\n              className=\"main-body\"\n              style={\n                essentialData.pathName === \"read-mode\"\n                  ? { paddingBottom: 0 }\n                  : {}\n              }\n            >\n              <Switch>\n                <Route exact path=\"/\" component={Dashboard} />\n                <Route path=\"/abstract\" component={Abstract} />\n                <Route\n                  path=\"/disclosure\"\n                  render={() => <Disclosure handleReInit={handleReInit} />}\n                />\n                <Route\n                  path=\"/mode-for-invention\"\n                  render={() => (\n                    <ModeForInvention handleReInit={handleReInit} />\n                  )}\n                />\n                <Route\n                  path=\"/claim\"\n                  render={() => <Claims handleReInit={handleReInit} />}\n                />\n                <Route path=\"/readme\" render={() => <Readme />} />\n                <Route path=\"/result\" render={() => <Result />} />\n                <Route path=\"/read-mode\" render={() => <ReadeMode />} />\n              </Switch>\n            </div>\n          </Router>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nconst ReadeMode = () => {\n  const [essentialData, setEssentialData] = useContext(\n    EssentialDataContextProvider\n  );\n\n  useEffect(() => {\n    setEssentialData((prev) => ({ ...prev, pathName: getPathName() }));\n  }, []);\n\n  return (\n    <div className=\"main-body-grid\">\n      <div className=\"main-body-grid-item \">\n        <SimpleDescription />\n      </div>\n      <div className=\"main-body-grid-item \">\n        <SimpleClaims />\n      </div>\n    </div>\n  );\n};\n","import { useEffect } from \"react\";\n\nimport XmlReader from \"xml-reader\";\n// import fs from \"fs\";\n// import path from \"path\";\nimport { getPatentTitle } from \"../utils/getPatentTitle\";\n// import { XMLContextProvider } from \"../contexts/XMLContext\";\n\nexport const useLoadXML = (XMLFileName, XMLFileContent, setXMLData) => {\n  // const [_, setXMLData] = useContext(XMLContextProvider);\n\n  useEffect(() => {\n    if (XMLFileName !== \"\") {\n      console.log(\n        `Start loading xml ${XMLFileName} ${new Date()\n          .toString()\n          .slice(16, 24)}`\n      );\n      setXMLData((prev) => ({\n        ...prev,\n        isLoading: true,\n        utilityModelTitleData: \"\",\n        utilityModelTitleDataEn: \"\",\n        applicationNum: \"\",\n        technicalFieldData: {},\n        backgroundArtData: {},\n        abstractData: {},\n        abstractDataEn: {},\n        descriptionOfElementData: {},\n        figureDrawingsData: {},\n        disclosureData: {},\n        modeForInventionData: {},\n        claimsData: {},\n        drawingsData: {},\n        figureLabels: \"\",\n      }));\n\n      try {\n        const reader = XmlReader.create();\n        // const xml = fs.readFileSync(path.join(__dirname, \"test6.xml\"), 'utf8');\n        const xml = XMLFileContent;\n        // XMLFileContent ||\n        // fs.readFileSync(\n        //   path.join(__dirname, `../patents/${XMLFileName.slice(6)}`),\n        //   \"utf8\"\n        // );\n        // invention-specification\n\n        // 發明: tag:invention-specification\n        // 新型改成 tag:utility-model-specification\n        reader.on(\"tag:invention-specification\", (data) => {\n          setXMLData((prev) => ({\n            ...prev,\n            applicationNum:\n              (data && data.attributes && data.attributes[\"application-num\"]) ||\n              \"\",\n          }));\n        });\n        reader.on(\"tag:utility-model-specification\", (data) => {\n          setXMLData((prev) => ({\n            ...prev,\n            applicationNum:\n              (data && data.attributes && data.attributes[\"application-num\"]) ||\n              \"\",\n          }));\n        });\n\n        // 發明: tag:invention-title\n        // 新型改成 tag:utility-model-title\n        reader.on(\"tag:invention-title\", (data) => {\n          console.log(\"get invention-title\");\n          getPatentTitle(data, setXMLData);\n        });\n        reader.on(\"tag:utility-model-title\", (data) => {\n          console.log(\"get utility-title\");\n          getPatentTitle(data, setXMLData);\n        });\n\n        reader.on(\"tag:abstract\", (data) => {\n          if (data.attributes.lang === \"tw\") {\n            setXMLData((prev) => ({ ...prev, abstractData: data }));\n          }\n          if (data.attributes.lang === \"en\") {\n            setXMLData((prev) => ({ ...prev, abstractDataEn: data }));\n          }\n        });\n        reader.on(\"tag:technical-field\", (data) => {\n          setXMLData((prev) => ({ ...prev, technicalFieldData: data }));\n        });\n        reader.on(\"tag:background-art\", (data) => {\n          setXMLData((prev) => ({ ...prev, backgroundArtData: data }));\n        });\n        reader.on(\"tag:description-of-element\", (data) => {\n          setXMLData((prev) => ({ ...prev, descriptionOfElementData: data }));\n        }); //符號說明\n        reader.on(\"tag:figure-drawings\", (data) =>\n          setXMLData((prev) => ({\n            ...prev,\n            figureDrawingsData: data,\n            figureLabels: data.attributes?.[\"figure-labels\"] ?? \"\",\n          }))\n        ); // 指定代表圖符號\n\n        reader.on(\"tag:drawings\", (data) =>\n          setXMLData((prev) => ({ ...prev, drawingsData: data }))\n        ); // 圖式\n\n        reader.on(\"tag:description-of-drawings\", (data) =>\n          setXMLData((prev) => ({ ...prev, drawingsDescriptionData: data }))\n        ); // 圖式簡單說明明\n\n        reader.on(\"tag:disclosure\", (data) =>\n          setXMLData((prev) => ({ ...prev, disclosureData: data }))\n        ); // 發明內容\n        reader.on(\"tag:mode-for-invention\", (data) =>\n          setXMLData((prev) => ({ ...prev, modeForInventionData: data }))\n        ); // 實施方式\n        reader.on(\"tag:claims\", (data) =>\n          setXMLData((prev) => ({ ...prev, claimsData: data }))\n        ); // 申請專利範圍\n\n        reader.parse(xml);\n\n        reader.reset();\n\n        setXMLData((prev) => ({\n          ...prev,\n          isLoading: false,\n          isXMLFormatOK: true,\n        }));\n      } catch (error) {\n        console.log(error);\n        setXMLData((prev) => ({\n          ...prev,\n          isLoading: false,\n          isXMLFormatOK: false,\n        }));\n        window.alert(\"該XML檔的格式有誤無法讀取，請檢查格式是否正確。\");\n      }\n    }\n\n    return () => {};\n  }, [XMLFileName, XMLFileContent, setXMLData]);\n\n  return null;\n};\n","import { useState, useEffect } from \"react\";\n\nconst KEY = \"automatic-patent-examiner\";\n\nconst isValidLocalStorage = (jsonValue) => {\n  try {\n    if (\n      typeof jsonValue.isDarkMode !== \"boolean\" ||\n      typeof jsonValue.fontSize !== \"number\" ||\n      typeof jsonValue.openTooltip !== \"boolean\" ||\n      typeof jsonValue.showClaimElementKey !== \"boolean\" ||\n      typeof jsonValue.synchronizeHighlight !== \"boolean\" ||\n      typeof jsonValue.readingModePureText !== \"boolean\" ||\n      typeof jsonValue.useDatabase !== \"boolean\" ||\n      typeof jsonValue.savedApplications !== \"object\"\n    )\n      return false;\n\n    for (let key of Object.keys(jsonValue.savedApplications)) {\n      for (let item of jsonValue.savedApplications[key]) {\n        if (\n          typeof item.appId !== \"string\" ||\n          typeof item.appTitle !== \"string\" ||\n          typeof item.latestTS !== \"number\"\n        )\n          return false;\n      }\n    }\n\n    return true;\n  } catch (error) {\n    console.log(\"Fail to parse localStorate\");\n    return false;\n  }\n};\n\nconst useLocalStorage = (initialValue) => {\n  const getLocalStorage = () => {\n    try {\n      return localStorage.getItem(KEY);\n    } catch (e) {\n      console.log(`Unable to get localstorage: ${e.message}`);\n      return null;\n    }\n  };\n\n  const setLocalStorage = (value) => {\n    try {\n      localStorage.setItem(KEY, JSON.stringify(value));\n    } catch (e) {\n      console.log(`Unable to set localstorage: ${e.message}`);\n    }\n  };\n\n  const [value, setValue] = useState(() => {\n    const jsonValue = getLocalStorage();\n    let oldValue = JSON.parse(jsonValue || \"{}\");\n    if (isValidLocalStorage(oldValue)) {\n      oldValue = {\n        ...initialValue,\n        ...oldValue,\n        useDatabase:\n          process.env.REACT_APP_SYSTEM_TYPE === \"tipo\"\n            ? oldValue.useDatabase\n            : false,\n      };\n\n      if (\n        oldValue.savedApplications &&\n        Object.keys(oldValue.savedApplications).length > 0\n      ) {\n        const currentTS = +new Date();\n        for (let savedDate in oldValue.savedApplications) {\n          try {\n            if (currentTS - +new Date(savedDate) > 60 * 60 * 24 * 31 * 1000) {\n              delete oldValue.savedApplications[savedDate];\n            }\n          } catch (e) {\n            delete oldValue.savedApplications[savedDate];\n          }\n        }\n      }\n      return oldValue;\n    }\n    if (typeof initialValue === \"function\") {\n      return initialValue();\n    } else {\n      return initialValue;\n    }\n  });\n\n  useEffect(() => {\n    setLocalStorage(value);\n  }, [value, setValue]);\n\n  return [value, setValue];\n};\n\nexport default useLocalStorage;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport EssentialDataContext from \"./contexts/EssentialDataContext\";\nimport XMLContext from \"./contexts/XMLContext\";\nimport UpdateParagraphContext from \"./contexts/UpdateParagraphContext\";\nimport useLocalStorage from \"./hooks/useLocalStorage\";\nimport { defaultPersonalSettings } from \"./dict/defaultPersonalSettings\";\nimport { parseTipoCookie } from \"./utils/parseTipoCookie\";\nimport NotAllow from \"./components/NotAllow\";\n\nconst Root = () => {\n  const [value, setValue] = useLocalStorage({\n    ...defaultPersonalSettings,\n  });\n\n  // const sessionKey = process.env.REACT_APP_TIPO_SESSION_KEY;\n  const sessionKey = \"\";\n\n  if (!sessionKey || parseTipoCookie(document.cookie)[sessionKey])\n    return (\n      <XMLContext>\n        <EssentialDataContext personalSettings={value}>\n          <UpdateParagraphContext>\n            <App setLocalStorageValue={setValue} />\n          </UpdateParagraphContext>\n        </EssentialDataContext>\n      </XMLContext>\n    );\n\n  return <NotAllow />;\n};\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <Root />\n  </React.StrictMode>,\n  rootElement\n);\n","module.exports = __webpack_public_path__ + \"static/media/search.10f1e7d2.png\";","module.exports = __webpack_public_path__ + \"static/media/img_386644.d5b7655b.png\";","module.exports = __webpack_public_path__ + \"static/media/aboriginal.0ecf80d1.png\";","module.exports = __webpack_public_path__ + \"static/media/warn.36678d01.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"NotAllow_background__ITGNm\",\"container\":\"NotAllow_container__3IfFC\"};","module.exports = __webpack_public_path__ + \"static/media/setting.c873ba96.png\";"],"sourceRoot":""}